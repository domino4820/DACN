/*! For license information please see 198-6168e3cdc6ed256c.js.LICENSE.txt */
(self.webpackChunkdacn_fe=self.webpackChunkdacn_fe||[]).push([["198"],{881:function(t,e,n){"use strict";n.d(e,{h7:()=>tj,Ln:()=>e0,fM:()=>e5,Gc:()=>e3,ck:()=>e4,VH:()=>ty,VS:()=>ne});var r,i=n(259),s=n(363);function o(t){if("string"==typeof t||"number"==typeof t)return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)""!==(r=o(t[n]))&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var a=n(799),l=n(352);let h=t=>{let e,n=new Set,r=(t,r)=>{let i="function"==typeof t?t(e):t;if(!Object.is(i,e)){let t=e;e=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},e,i),n.forEach(n=>n(e,t))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>o,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{n.clear()}},o=e=t(r,i,s);return s},c=t=>t?h(t):h,{useDebugValue:u}=s,{useSyncExternalStoreWithSelector:d}=l,p=t=>t;function f(t,e=p,n){let r=d(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return u(r),r}let m=(t,e)=>{let n=c(t),r=(t,r=e)=>f(n,t,r);return Object.assign(r,n),r},g=(t,e)=>t?m(t,e):m;function y(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(let[n,r]of t)if(!Object.is(r,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}let n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}n(841);let v=(0,s.createContext)(null),b=v.Provider,x=a.xc.error001();function w(t,e){let n=(0,s.useContext)(v);if(null===n)throw Error(x);return f(n,t,e)}function k(){let t=(0,s.useContext)(v);if(null===t)throw Error(x);return(0,s.useMemo)(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}let S={display:"none"},C={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},M="react-flow__node-desc",E="react-flow__edge-desc",A="react-flow__aria-live",_=t=>t.ariaLiveMessage,T=t=>t.ariaLabelConfig;function P({rfId:t}){let e=w(_);return(0,i.jsx)("div",{id:`${A}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:C,children:e})}function D({rfId:t,disableKeyboardA11y:e}){let n=w(T);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{id:`${M}-${t}`,style:S,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),(0,i.jsx)("div",{id:`${E}-${t}`,style:S,children:n["edge.a11yDescription.default"]}),!e&&(0,i.jsx)(P,{rfId:t})]})}let N=(0,s.forwardRef)(({position:t="top-left",children:e,className:n,style:r,...s},a)=>{let l=`${t}`.split("-");return(0,i.jsx)("div",{className:o(["react-flow__panel",n,...l]),style:r,ref:a,...s,children:e})});function O({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:(0,i.jsx)(N,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,i.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}N.displayName="Panel";let I=t=>{let e=[],n=[];for(let[,n]of t.nodeLookup)n.selected&&e.push(n.internals.userNode);for(let[,e]of t.edgeLookup)e.selected&&n.push(e);return{selectedNodes:e,selectedEdges:n}},L=t=>t.id;function z(t,e){return y(t.selectedNodes.map(L),e.selectedNodes.map(L))&&y(t.selectedEdges.map(L),e.selectedEdges.map(L))}function R({onSelectionChange:t}){let e=k(),{selectedNodes:n,selectedEdges:r}=w(I,z);return(0,s.useEffect)(()=>{let i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(t=>t(i))},[n,r,t]),null}let F=t=>!!t.onSelectionChangeHandlers;function B({onSelectionChange:t}){let e=w(F);return t||e?(0,i.jsx)(R,{onSelectionChange:t}):null}let j=[0,0],V={x:0,y:0,zoom:1},$=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","rfId"],H=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),q={translateExtent:a.ZO,nodeOrigin:j,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function W(t){let{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:l,reset:h,setDefaultNodesAndEdges:c}=w(H,y),u=k();(0,s.useEffect)(()=>(c(t.defaultNodes,t.defaultEdges),()=>{d.current=q,h()}),[]);let d=(0,s.useRef)(q);return(0,s.useEffect)(()=>{for(let s of $){let h=t[s];h!==d.current[s]&&void 0!==t[s]&&("nodes"===s?e(h):"edges"===s?n(h):"minZoom"===s?r(h):"maxZoom"===s?i(h):"translateExtent"===s?o(h):"nodeExtent"===s?l(h):"ariaLabelConfig"===s?u.setState({ariaLabelConfig:(0,a.Q6)(h)}):"fitView"===s?u.setState({fitViewQueued:h}):"fitViewOptions"===s?u.setState({fitViewOptions:h}):u.setState({[s]:h}))}d.current=t},$.map(e=>t[e])),null}function K(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}function U(t){let[e,n]=(0,s.useState)("system"===t?null:t);return(0,s.useEffect)(()=>{if("system"!==t)return void n(t);let e=K(),r=()=>n(e?.matches?"dark":"light");return r(),e?.addEventListener("change",r),()=>{e?.removeEventListener("change",r)}},[t]),null!==e?e:K()?.matches?"dark":"light"}let J="undefined"!=typeof document?document:null;function G(t=null,e={target:J,actInsideInputWithModifier:!0}){let[n,r]=(0,s.useState)(!1),i=(0,s.useRef)(!1),o=(0,s.useRef)(new Set([])),[l,h]=(0,s.useMemo)(()=>{if(null!==t){let e=(Array.isArray(t)?t:[t]).filter(t=>"string"==typeof t).map(t=>t.replace("+","\n").replace("\n\n","\n+").split("\n")),n=e.reduce((t,e)=>t.concat(...e),[]);return[e,n]}return[[],[]]},[t]);return(0,s.useEffect)(()=>{let n=e?.target??J,s=e?.actInsideInputWithModifier??!0;if(null!==t){let t=t=>{if(i.current=t.ctrlKey||t.metaKey||t.shiftKey||t.altKey,(!i.current||i.current&&!s)&&(0,a.v5)(t))return!1;let n=X(t.code,h);if(o.current.add(t[n]),Y(l,o.current,!1)){let n=t.composedPath?.()?.[0]||t.target,s=n?.nodeName==="BUTTON"||n?.nodeName==="A";!1!==e.preventDefault&&(i.current||!s)&&t.preventDefault(),r(!0)}},c=t=>{let e=X(t.code,h);Y(l,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(t[e]),"Meta"===t.key&&o.current.clear(),i.current=!1},u=()=>{o.current.clear(),r(!1)};return n?.addEventListener("keydown",t),n?.addEventListener("keyup",c),window.addEventListener("blur",u),window.addEventListener("contextmenu",u),()=>{n?.removeEventListener("keydown",t),n?.removeEventListener("keyup",c),window.removeEventListener("blur",u),window.removeEventListener("contextmenu",u)}}},[t,r]),n}function Y(t,e,n){return t.filter(t=>n||t.length===e.size).some(t=>t.every(t=>e.has(t)))}function X(t,e){return e.includes(t)?"code":"key"}let Z=()=>{let t=k();return(0,s.useMemo)(()=>({zoomIn:e=>{let{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{let{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{let{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{let{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{let{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),h=(0,a.R4)(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(h,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{let{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;let{x:l,y:h}=o.getBoundingClientRect(),c={x:e.x-l,y:e.y-h},u=n.snapGrid??i,d=n.snapToGrid??s;return(0,a.Ff)(c,r,d,u)},flowToScreenPosition:e=>{let{transform:n,domNode:r}=t.getState();if(!r)return e;let{x:i,y:s}=r.getBoundingClientRect(),o=(0,a.zj)(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function Q(t,e){let n=[],r=new Map,i=[];for(let e of t)if("add"===e.type){i.push(e);continue}else if("remove"===e.type||"replace"===e.type)r.set(e.id,[e]);else{let t=r.get(e.id);t?t.push(e):r.set(e.id,[e])}for(let t of e){let e=r.get(t.id);if(!e){n.push(t);continue}if("remove"===e[0].type)continue;if("replace"===e[0].type){n.push({...e[0].item});continue}let i={...t};for(let t of e)tt(t,i);n.push(i)}return i.length&&i.forEach(t=>{void 0!==t.index?n.splice(t.index,0,{...t.item}):n.push({...t.item})}),n}function tt(t,e){switch(t.type){case"select":e.selected=t.selected;break;case"position":void 0!==t.position&&(e.position=t.position),void 0!==t.dragging&&(e.dragging=t.dragging);break;case"dimensions":void 0!==t.dimensions&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((!0===t.setAttributes||"width"===t.setAttributes)&&(e.width=t.dimensions.width),(!0===t.setAttributes||"height"===t.setAttributes)&&(e.height=t.dimensions.height))),"boolean"==typeof t.resizing&&(e.resizing=t.resizing)}}function te(t,e){return Q(t,e)}function tn(t,e){return Q(t,e)}function tr(t,e){return{id:t,type:"select",selected:e}}function ti(t,e=new Set,n=!1){let r=[];for(let[i,s]of t){let t=e.has(i);(void 0!==s.selected||t)&&s.selected!==t&&(n&&(s.selected=t),r.push(tr(s.id,t)))}return r}function ts({items:t=[],lookup:e}){let n=[],r=new Map(t.map(t=>[t.id,t]));for(let[r,i]of t.entries()){let t=e.get(i.id),s=t?.internals?.userNode??t;void 0!==s&&s!==i&&n.push({id:i.id,item:i,type:"replace"}),void 0===s&&n.push({item:i,type:"add",index:r})}for(let[t]of e)void 0===r.get(t)&&n.push({id:t,type:"remove"});return n}function to(t){return{id:t.id,type:"remove"}}let ta=t=>(0,a.oB)(t),tl=t=>(0,a.b$)(t);function th(t){return(0,s.forwardRef)(t)}let tc="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;function tu(t){let[e,n]=(0,s.useState)(BigInt(0)),[r]=(0,s.useState)(()=>td(()=>n(t=>t+BigInt(1))));return tc(()=>{let e=r.get();e.length&&(t(e),r.reset())},[e]),r}function td(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}let tp=(0,s.createContext)(null);function tf({children:t}){let e=k(),n=tu((0,s.useCallback)(t=>{let{nodes:n=[],setNodes:r,hasDefaultNodes:i,onNodesChange:s,nodeLookup:o,fitViewQueued:a}=e.getState(),l=n;for(let e of t)l="function"==typeof e?e(l):e;let h=ts({items:l,lookup:o});i&&r(l),h.length>0?s?.(h):a&&window.requestAnimationFrame(()=>{let{fitViewQueued:t,nodes:n,setNodes:r}=e.getState();t&&r(n)})},[])),r=tu((0,s.useCallback)(t=>{let{edges:n=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:s,edgeLookup:o}=e.getState(),a=n;for(let e of t)a="function"==typeof e?e(a):e;i?r(a):s&&s(ts({items:a,lookup:o}))},[])),o=(0,s.useMemo)(()=>({nodeQueue:n,edgeQueue:r}),[]);return(0,i.jsx)(tp.Provider,{value:o,children:t})}function tm(){let t=(0,s.useContext)(tp);if(!t)throw Error("useBatchContext must be used within a BatchProvider");return t}let tg=t=>!!t.panZoom;function ty(){let t=Z(),e=k(),n=tm(),r=w(tg),i=(0,s.useMemo)(()=>{let t=t=>e.getState().nodeLookup.get(t),r=t=>{n.nodeQueue.push(t)},i=t=>{n.edgeQueue.push(t)},s=t=>{let{nodeLookup:n,nodeOrigin:r}=e.getState(),i=ta(t)?t:n.get(t.id),s=i.parentId?(0,a.us)(i.position,i.measured,i.parentId,n,r):i.position,o={...i,position:s,width:i.measured?.width??i.width,height:i.measured?.height??i.height};return(0,a.kM)(o)},o=(t,e,n={replace:!1})=>{r(r=>r.map(r=>{if(r.id===t){let t="function"==typeof e?e(r):e;return n.replace&&ta(t)?t:{...r,...t}}return r}))},l=(t,e,n={replace:!1})=>{i(r=>r.map(r=>{if(r.id===t){let t="function"==typeof e?e(r):e;return n.replace&&tl(t)?t:{...r,...t}}return r}))};return{getNodes:()=>e.getState().nodes.map(t=>({...t})),getNode:e=>t(e)?.internals.userNode,getInternalNode:t,getEdges:()=>{let{edges:t=[]}=e.getState();return t.map(t=>({...t}))},getEdge:t=>e.getState().edgeLookup.get(t),setNodes:r,setEdges:i,addNodes:t=>{let e=Array.isArray(t)?t:[t];n.nodeQueue.push(t=>[...t,...e])},addEdges:t=>{let e=Array.isArray(t)?t:[t];n.edgeQueue.push(t=>[...t,...e])},toObject:()=>{let{nodes:t=[],edges:n=[],transform:r}=e.getState(),[i,s,o]=r;return{nodes:t.map(t=>({...t})),edges:n.map(t=>({...t})),viewport:{x:i,y:s,zoom:o}}},deleteElements:async({nodes:t=[],edges:n=[]})=>{let{nodes:r,edges:i,onNodesDelete:s,onEdgesDelete:o,triggerNodeChanges:l,triggerEdgeChanges:h,onDelete:c,onBeforeDelete:u}=e.getState(),{nodes:d,edges:p}=await (0,a.Tq)({nodesToRemove:t,edgesToRemove:n,nodes:r,edges:i,onBeforeDelete:u}),f=p.length>0,m=d.length>0;if(f){let t=p.map(to);o?.(p),h(t)}if(m){let t=d.map(to);s?.(d),l(t)}return(m||f)&&c?.({nodes:d,edges:p}),{deletedNodes:d,deletedEdges:p}},getIntersectingNodes:(t,n=!0,r)=>{let i=(0,a.mW)(t),o=i?t:s(t),l=void 0!==r;return o?(r||e.getState().nodes).filter(r=>{let s=e.getState().nodeLookup.get(r.id);if(s&&!i&&(r.id===t.id||!s.internals.positionAbsolute))return!1;let h=(0,a.kM)(l?r:s),c=(0,a.X6)(h,o);return n&&c>0||c>=h.width*h.height||c>=o.width*o.height}):[]},isNodeIntersecting:(t,e,n=!0)=>{let r=(0,a.mW)(t)?t:s(t);if(!r)return!1;let i=(0,a.X6)(r,e);return n&&i>0||i>=e.width*e.height||i>=r.width*r.height},updateNode:o,updateNodeData:(t,e,n={replace:!1})=>{o(t,t=>{let r="function"==typeof e?e(t):e;return n.replace?{...t,data:r}:{...t,data:{...t.data,...r}}},n)},updateEdge:l,updateEdgeData:(t,e,n={replace:!1})=>{l(t,t=>{let r="function"==typeof e?e(t):e;return n.replace?{...t,data:r}:{...t,data:{...t.data,...r}}},n)},getNodesBounds:t=>{let{nodeLookup:n,nodeOrigin:r}=e.getState();return(0,a.Jo)(t,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:({type:t,id:n,nodeId:r})=>Array.from(e.getState().connectionLookup.get(`${r}-${t}${n?`-${n}`:""}`)?.values()??[]),getNodeConnections:({type:t,handleId:n,nodeId:r})=>Array.from(e.getState().connectionLookup.get(`${r}${t?n?`-${t}-${n}`:`-${t}`:""}`)?.values()??[]),fitView:async t=>{let r=e.getState().fitViewResolver??(0,a.YN)();return e.setState({fitViewQueued:!0,fitViewOptions:t,fitViewResolver:r}),n.nodeQueue.push(t=>[...t]),r.promise}}},[]);return(0,s.useMemo)(()=>({...i,...t,viewportInitialized:r}),[r])}let tv=t=>t.selected,tb="undefined"!=typeof window?window:void 0;function tx({deleteKeyCode:t,multiSelectionKeyCode:e}){let n=k(),{deleteElements:r}=ty(),i=G(t,{actInsideInputWithModifier:!1}),o=G(e,{target:tb});(0,s.useEffect)(()=>{if(i){let{edges:t,nodes:e}=n.getState();r({nodes:e.filter(tv),edges:t.filter(tv)}),n.setState({nodesSelectionActive:!1})}},[i]),(0,s.useEffect)(()=>{n.setState({multiSelectionActive:o})},[o])}function tw(t){let e=k();(0,s.useEffect)(()=>{let n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;let n=(0,a.Eo)(t.current);(0===n.height||0===n.width)&&e.getState().onError?.("004",a.xc.error004()),e.setState({width:n.width||500,height:n.height||500})};if(t.current){n(),window.addEventListener("resize",n);let e=new ResizeObserver(()=>n());return e.observe(t.current),()=>{window.removeEventListener("resize",n),e&&t.current&&e.unobserve(t.current)}}},[])}let tk={position:"absolute",width:"100%",height:"100%",top:0,left:0},tS=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function tC({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=a.ny.Free,zoomOnDoubleClick:h=!0,panOnDrag:c=!0,defaultViewport:u,translateExtent:d,minZoom:p,maxZoom:f,zoomActivationKeyCode:m,preventScrolling:g=!0,children:v,noWheelClassName:b,noPanClassName:x,onViewportChange:S,isControlledViewport:C,paneClickDistance:M,selectionOnDrag:E}){let A=k(),_=(0,s.useRef)(null),{userSelectionActive:T,lib:P,connectionInProgress:D}=w(tS,y),N=G(m),O=(0,s.useRef)();tw(_);let I=(0,s.useCallback)(t=>{S?.({x:t[0],y:t[1],zoom:t[2]}),C||A.setState({transform:t})},[S,C]);return(0,s.useEffect)(()=>{if(_.current){O.current=(0,a.kO)({domNode:_.current,minZoom:p,maxZoom:f,translateExtent:d,viewport:u,onDraggingChange:t=>A.setState({paneDragging:t}),onPanZoomStart:(t,e)=>{let{onViewportChangeStart:n,onMoveStart:r}=A.getState();r?.(t,e),n?.(e)},onPanZoom:(t,e)=>{let{onViewportChange:n,onMove:r}=A.getState();r?.(t,e),n?.(e)},onPanZoomEnd:(t,e)=>{let{onViewportChangeEnd:n,onMoveEnd:r}=A.getState();r?.(t,e),n?.(e)}});let{x:t,y:e,zoom:n}=O.current.getViewport();return A.setState({panZoom:O.current,transform:[t,e,n],domNode:_.current.closest(".react-flow")}),()=>{O.current?.destroy()}}},[]),(0,s.useEffect)(()=>{O.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:l,zoomOnDoubleClick:h,panOnDrag:c,zoomActivationKeyPressed:N,preventScrolling:g,noPanClassName:x,userSelectionActive:T,noWheelClassName:b,lib:P,onTransformChange:I,connectionInProgress:D,selectionOnDrag:E,paneClickDistance:M})},[t,e,n,r,o,l,h,c,N,g,x,T,b,P,I,D,E,M]),(0,i.jsx)("div",{className:"react-flow__renderer",ref:_,style:tk,children:v})}let tM=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function tE(){let{userSelectionActive:t,userSelectionRect:e}=w(tM,y);return t&&e?(0,i.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}let tA=(t,e)=>n=>{n.target===e.current&&t?.(n)},t_=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function tT({isSelecting:t,selectionKeyPressed:e,selectionMode:n=a.Qc.Full,panOnDrag:r,paneClickDistance:l,selectionOnDrag:h,onSelectionStart:c,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:p,onPaneScroll:f,onPaneMouseEnter:m,onPaneMouseMove:g,onPaneMouseLeave:v,children:b}){let x=k(),{userSelectionActive:S,elementsSelectable:C,dragging:M,connectionInProgress:E}=w(t_,y),A=C&&(t||S),_=(0,s.useRef)(null),T=(0,s.useRef)(),P=(0,s.useRef)(new Set),D=(0,s.useRef)(new Set),N=(0,s.useRef)(!1),O=t=>{if(N.current||E){N.current=!1;return}d?.(t),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},I=t=>{Array.isArray(r)&&r?.includes(2)?t.preventDefault():p?.(t)},L=f?t=>f(t):void 0,z=t=>{N.current&&(t.stopPropagation(),N.current=!1)},R=n=>{let{domNode:r}=x.getState();if(T.current=r?.getBoundingClientRect(),!T.current)return;let i=n.target===_.current,s=!i&&!!n.target.closest(".nokey"),o=h&&i||e;if(s||!t||!o||0!==n.button||!n.isPrimary)return;n.target?.setPointerCapture?.(n.pointerId),N.current=!1;let{x:l,y:c}=(0,a.q1)(n.nativeEvent,T.current);x.setState({userSelectionRect:{width:0,height:0,startX:l,startY:c,x:l,y:c}}),i||(n.stopPropagation(),n.preventDefault())},F=t=>{let{userSelectionRect:r,transform:i,nodeLookup:s,edgeLookup:o,connectionLookup:h,triggerNodeChanges:u,triggerEdgeChanges:d,defaultEdgeOptions:p,resetSelectedElements:f}=x.getState();if(!T.current||!r)return;let{x:m,y:g}=(0,a.q1)(t.nativeEvent,T.current),{startX:y,startY:v}=r;if(!N.current){if(Math.hypot(m-y,g-v)<=(e?0:l))return;f(),c?.(t)}N.current=!0;let b={startX:y,startY:v,x:m<y?m:y,y:g<v?g:v,width:Math.abs(m-y),height:Math.abs(g-v)},w=P.current,k=D.current;P.current=new Set((0,a.U$)(s,b,i,n===a.Qc.Partial,!0).map(t=>t.id)),D.current=new Set;let S=p?.selectable??!0;for(let t of P.current){let e=h.get(t);if(e)for(let{edgeId:t}of e.values()){let e=o.get(t);e&&(e.selectable??S)&&D.current.add(t)}}(0,a._s)(w,P.current)||u(ti(s,P.current,!0)),(0,a._s)(k,D.current)||d(ti(o,D.current)),x.setState({userSelectionRect:b,userSelectionActive:!0,nodesSelectionActive:!1})},B=t=>{0===t.button&&(t.target?.releasePointerCapture?.(t.pointerId),!S&&t.target===_.current&&x.getState().userSelectionRect&&O?.(t),x.setState({userSelectionActive:!1,userSelectionRect:null}),N.current&&(u?.(t),x.setState({nodesSelectionActive:P.current.size>0})))},j=!0===r||Array.isArray(r)&&r.includes(0);return(0,i.jsxs)("div",{className:o(["react-flow__pane",{draggable:j,dragging:M,selection:t}]),onClick:A?void 0:tA(O,_),onContextMenu:tA(I,_),onWheel:tA(L,_),onPointerEnter:A?void 0:m,onPointerMove:A?F:g,onPointerUp:A?B:void 0,onPointerDownCapture:A?R:void 0,onClickCapture:A?z:void 0,onPointerLeave:v,ref:_,style:tk,children:[b,(0,i.jsx)(tE,{})]})}function tP({id:t,store:e,unselect:n=!1,nodeRef:r}){let{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:h}=e.getState(),c=l.get(t);c?(e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])):h?.("012",a.xc.error012(t))}function tD({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:l}){let h=k(),[c,u]=(0,s.useState)(!1),d=(0,s.useRef)();return(0,s.useEffect)(()=>{d.current=(0,a.I$)({getStoreItems:()=>h.getState(),onNodeMouseDown:e=>{tP({id:e,store:h,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),(0,s.useEffect)(()=>{if(e)d.current?.destroy();else if(t.current)return d.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:l}),()=>{d.current?.destroy()}},[n,r,e,o,t,i]),c}let tN=t=>e=>e.selected&&(e.draggable||t&&void 0===e.draggable);function tO(){let t=k();return(0,s.useCallback)(e=>{let{nodeExtent:n,snapToGrid:r,snapGrid:i,nodesDraggable:s,onError:o,updateNodePositions:l,nodeLookup:h,nodeOrigin:c}=t.getState(),u=new Map,d=tN(s),p=r?i[0]:5,f=r?i[1]:5,m=e.direction.x*p*e.factor,g=e.direction.y*f*e.factor;for(let[,t]of h){if(!d(t))continue;let e={x:t.internals.positionAbsolute.x+m,y:t.internals.positionAbsolute.y+g};r&&(e=(0,a.s_)(e,i));let{position:s,positionAbsolute:l}=(0,a.aE)({nodeId:t.id,nextPosition:e,nodeLookup:h,nodeExtent:n,nodeOrigin:c,onError:o});t.position=s,t.internals.positionAbsolute=l,u.set(t.id,t)}l(u)},[])}let tI=(0,s.createContext)(null),tL=tI.Provider;tI.Consumer;let tz=()=>(0,s.useContext)(tI),tR=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),tF=(t,e,n)=>r=>{let{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:h,isValid:c}=o,u=h?.nodeId===t&&h?.id===e&&h?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:u,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===a.WZ.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:u&&c}};function tB({type:t="source",position:e=a.yX.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:h,onConnect:c,children:u,className:d,onMouseDown:p,onTouchStart:f,...m},g){let v=h||null,b="target"===t,x=k(),S=tz(),{connectOnClick:C,noPanClassName:M,rfId:E}=w(tR,y),{connectingFrom:A,connectingTo:_,clickConnecting:T,isPossibleEndHandle:P,connectionInProcess:D,clickConnectionInProcess:N,valid:O}=w(tF(S,v,t),y);S||x.getState().onError?.("010",a.xc.error010());let I=t=>{let{defaultEdgeOptions:e,onConnect:n,hasDefaultEdges:r}=x.getState(),i={...e,...t};if(r){let{edges:t,setEdges:e}=x.getState();e((0,a.rN)(i,t))}n?.(i),c?.(i)},L=t=>{if(!S)return;let e=(0,a.Er)(t.nativeEvent);if(s&&(e&&0===t.button||!e)){let e=x.getState();a.aQ.onPointerDown(t.nativeEvent,{handleDomNode:t.currentTarget,autoPanOnConnect:e.autoPanOnConnect,connectionMode:e.connectionMode,connectionRadius:e.connectionRadius,domNode:e.domNode,nodeLookup:e.nodeLookup,lib:e.lib,isTarget:b,handleId:v,nodeId:S,flowId:e.rfId,panBy:e.panBy,cancelConnection:e.cancelConnection,onConnectStart:e.onConnectStart,onConnectEnd:e.onConnectEnd,updateConnection:e.updateConnection,onConnect:I,isValidConnection:n||e.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:e.autoPanSpeed,dragThreshold:e.connectionDragThreshold})}e?p?.(t):f?.(t)},z=e=>{let{onClickConnectStart:r,onClickConnectEnd:i,connectionClickStartHandle:o,connectionMode:l,isValidConnection:h,lib:c,rfId:u,nodeLookup:d,connection:p}=x.getState();if(!S||!o&&!s)return;if(!o){r?.(e.nativeEvent,{nodeId:S,handleId:v,handleType:t}),x.setState({connectionClickStartHandle:{nodeId:S,type:t,id:v}});return}let f=(0,a.oj)(e.target),m=n||h,{connection:g,isValid:y}=a.aQ.isValid(e.nativeEvent,{handle:{nodeId:S,id:v,type:t},connectionMode:l,fromNodeId:o.nodeId,fromHandleId:o.id||null,fromType:o.type,isValidConnection:m,flowId:u,doc:f,lib:c,nodeLookup:d});y&&g&&I(g);let b=structuredClone(p);delete b.inProgress,b.toPosition=b.toHandle?b.toHandle.position:null,i?.(e,b),x.setState({connectionClickStartHandle:null})};return(0,i.jsx)("div",{"data-handleid":v,"data-nodeid":S,"data-handlepos":e,"data-id":`${E}-${S}-${v}-${t}`,className:o(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",M,d,{source:!b,target:b,connectable:r,connectablestart:s,connectableend:l,clickconnecting:T,connectingfrom:A,connectingto:_,valid:O,connectionindicator:r&&(!D||P)&&(D||N?l:s)}]),onMouseDown:L,onTouchStart:L,onClick:C?z:void 0,ref:g,...m,children:u})}let tj=(0,s.memo)(th(tB)),tV={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},t$={input:function({data:t,isConnectable:e,sourcePosition:n=a.yX.Bottom}){return(0,i.jsxs)(i.Fragment,{children:[t?.label,(0,i.jsx)(tj,{type:"source",position:n,isConnectable:e})]})},default:function({data:t,isConnectable:e,targetPosition:n=a.yX.Top,sourcePosition:r=a.yX.Bottom}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tj,{type:"target",position:n,isConnectable:e}),t?.label,(0,i.jsx)(tj,{type:"source",position:r,isConnectable:e})]})},output:function({data:t,isConnectable:e,targetPosition:n=a.yX.Top}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tj,{type:"target",position:n,isConnectable:e}),t?.label]})},group:function(){return null}};function tH(t){return void 0===t.internals.handleBounds?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}let tq=t=>{let{width:e,height:n,x:r,y:i}=(0,a.aZ)(t.nodeLookup,{filter:t=>!!t.selected});return{width:(0,a.kf)(e)?e:null,height:(0,a.kf)(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function tW({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){let r=k(),{width:a,height:l,transformString:h,userSelectionActive:c}=w(tq,y),u=tO(),d=(0,s.useRef)(null);if((0,s.useEffect)(()=>{n||d.current?.focus({preventScroll:!0})},[n]),tD({nodeRef:d}),c||!a||!l)return null;let p=t?e=>{t(e,r.getState().nodes.filter(t=>t.selected))}:void 0,f=t=>{Object.prototype.hasOwnProperty.call(tV,t.key)&&(t.preventDefault(),u({direction:tV[t.key],factor:t.shiftKey?4:1}))};return(0,i.jsx)("div",{className:o(["react-flow__nodesselection","react-flow__container",e]),style:{transform:h},children:(0,i.jsx)("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:a,height:l}})})}let tK="undefined"!=typeof window?window:void 0,tU=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function tJ({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:l,deleteKeyCode:h,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:p,onSelectionEnd:f,multiSelectionKeyCode:m,panActivationKeyCode:g,zoomActivationKeyCode:y,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:M,panOnDrag:E,defaultViewport:A,translateExtent:_,minZoom:T,maxZoom:P,preventScrolling:D,onSelectionContextMenu:N,noWheelClassName:O,noPanClassName:I,disableKeyboardA11y:L,onViewportChange:z,isControlledViewport:R}){let{nodesSelectionActive:F,userSelectionActive:B}=w(tU),j=G(c,{target:tK}),V=G(g,{target:tK}),$=V||E,H=V||k,q=u&&!0!==$,W=j||B||q;return tx({deleteKeyCode:h,multiSelectionKeyCode:m}),(0,i.jsx)(tC,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:H,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:M,panOnDrag:!j&&$,defaultViewport:A,translateExtent:_,minZoom:T,maxZoom:P,zoomActivationKeyCode:y,preventScrolling:D,noWheelClassName:O,noPanClassName:I,onViewportChange:z,isControlledViewport:R,paneClickDistance:l,selectionOnDrag:q,children:(0,i.jsxs)(tT,{onSelectionStart:p,onSelectionEnd:f,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:$,isSelecting:!!W,selectionMode:d,selectionKeyPressed:j,paneClickDistance:l,selectionOnDrag:q,children:[t,F&&(0,i.jsx)(tW,{onSelectionContextMenu:N,noPanClassName:I,disableKeyboardA11y:L})]})})}tJ.displayName="FlowRenderer";let tG=(0,s.memo)(tJ),tY=t=>e=>t?(0,a.U$)(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(t=>t.id):Array.from(e.nodeLookup.keys());function tX(t){return w((0,s.useCallback)(tY(t),[t]),y)}let tZ=t=>t.updateNodeInternals;function tQ(){let t=w(tZ),[e]=(0,s.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(e=>{let n=new Map;e.forEach(t=>{let e=t.target.getAttribute("data-id");n.set(e,{id:e,nodeElement:t.target,force:!0})}),t(n)}));return(0,s.useEffect)(()=>()=>{e?.disconnect()},[e]),e}function t0({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){let i=k(),o=(0,s.useRef)(null),a=(0,s.useRef)(null),l=(0,s.useRef)(t.sourcePosition),h=(0,s.useRef)(t.targetPosition),c=(0,s.useRef)(e),u=n&&!!t.internals.handleBounds;return(0,s.useEffect)(()=>{!o.current||t.hidden||u&&a.current===o.current||(a.current&&r?.unobserve(a.current),r?.observe(o.current),a.current=o.current)},[u,t.hidden]),(0,s.useEffect)(()=>()=>{a.current&&(r?.unobserve(a.current),a.current=null)},[]),(0,s.useEffect)(()=>{if(o.current){let n=c.current!==e,r=l.current!==t.sourcePosition,s=h.current!==t.targetPosition;(n||r||s)&&(c.current=e,l.current=t.sourcePosition,h.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function t1({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:l,onDoubleClick:h,nodesDraggable:c,elementsSelectable:u,nodesConnectable:d,nodesFocusable:p,resizeObserver:f,noDragClassName:m,noPanClassName:g,disableKeyboardA11y:v,rfId:b,nodeTypes:x,nodeClickDistance:S,onError:C}){let{node:E,internals:A,isParent:_}=w(e=>{let n=e.nodeLookup.get(t),r=e.parentLookup.has(t);return{node:n,internals:n.internals,isParent:r}},y),T=E.type||"default",P=x?.[T]||t$[T];void 0===P&&(C?.("003",a.xc.error003(T)),T="default",P=x?.default||t$.default);let D=!!(E.draggable||c&&void 0===E.draggable),N=!!(E.selectable||u&&void 0===E.selectable),O=!!(E.connectable||d&&void 0===E.connectable),I=!!(E.focusable||p&&void 0===E.focusable),L=k(),z=(0,a.QE)(E),R=t0({node:E,nodeType:T,hasDimensions:z,resizeObserver:f}),F=tD({nodeRef:R,disabled:E.hidden||!D,noDragClassName:m,handleSelector:E.dragHandle,nodeId:t,isSelectable:N,nodeClickDistance:S}),B=tO();if(E.hidden)return null;let j=(0,a.uD)(E),V=tH(E),$=N||D||e||n||r||s,H=n?t=>n(t,{...A.userNode}):void 0,q=r?t=>r(t,{...A.userNode}):void 0,W=s?t=>s(t,{...A.userNode}):void 0,K=l?t=>l(t,{...A.userNode}):void 0,U=h?t=>h(t,{...A.userNode}):void 0,J=n=>{let{selectNodesOnDrag:r,nodeDragThreshold:i}=L.getState();N&&(!r||!D||i>0)&&tP({id:t,store:L,nodeRef:R}),e&&e(n,{...A.userNode})},G=e=>{if(!(0,a.v5)(e.nativeEvent)&&!v){if(a.tn.includes(e.key)&&N)tP({id:t,store:L,unselect:"Escape"===e.key,nodeRef:R});else if(D&&E.selected&&Object.prototype.hasOwnProperty.call(tV,e.key)){e.preventDefault();let{ariaLabelConfig:t}=L.getState();L.setState({ariaLiveMessage:t["node.a11yDescription.ariaLiveMessage"]({direction:e.key.replace("Arrow","").toLowerCase(),x:~~A.positionAbsolute.x,y:~~A.positionAbsolute.y})}),B({direction:tV[e.key],factor:e.shiftKey?4:1})}}},Y=()=>{if(v||!R.current?.matches(":focus-visible"))return;let{transform:e,width:n,height:r,autoPanOnNodeFocus:i,setCenter:s}=L.getState();!i||(0,a.U$)(new Map([[t,E]]),{x:0,y:0,width:n,height:r},e,!0).length>0||s(E.position.x+j.width/2,E.position.y+j.height/2,{zoom:e[2]})};return(0,i.jsx)("div",{className:o(["react-flow__node",`react-flow__node-${T}`,{[g]:D},E.className,{selected:E.selected,selectable:N,parent:_,draggable:D,dragging:F}]),ref:R,style:{zIndex:A.z,transform:`translate(${A.positionAbsolute.x}px,${A.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:z?"visible":"hidden",...E.style,...V},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:H,onMouseMove:q,onMouseLeave:W,onContextMenu:K,onClick:J,onDoubleClick:U,onKeyDown:I?G:void 0,tabIndex:I?0:void 0,onFocus:I?Y:void 0,role:E.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${M}-${b}`,"aria-label":E.ariaLabel,...E.domAttributes,children:(0,i.jsx)(tL,{value:t,children:(0,i.jsx)(P,{id:t,data:E.data,type:T,positionAbsoluteX:A.positionAbsolute.x,positionAbsoluteY:A.positionAbsolute.y,selected:E.selected??!1,selectable:N,draggable:D,deletable:E.deletable??!0,isConnectable:O,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:F,dragHandle:E.dragHandle,zIndex:A.z,parentId:E.parentId,...j})})})}var t2=(0,s.memo)(t1);let t3=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function t4(t){let{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:o}=w(t3,y),a=tX(t.onlyRenderVisibleElements),l=tQ();return(0,i.jsx)("div",{className:"react-flow__nodes",style:tk,children:a.map(a=>(0,i.jsx)(t2,{id:a,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:t.nodeClickDistance,onError:o},a))})}t4.displayName="NodeRenderer";let t5=(0,s.memo)(t4);function t6(t){return w((0,s.useCallback)(e=>{if(!t)return e.edges.map(t=>t.id);let n=[];if(e.width&&e.height)for(let t of e.edges){let r=e.nodeLookup.get(t.source),i=e.nodeLookup.get(t.target);r&&i&&(0,a.uj)({sourceNode:r,targetNode:i,width:e.width,height:e.height,transform:e.transform})&&n.push(t.id)}return n},[t]),y)}let t7=({color:t="none",strokeWidth:e=1})=>{let n={strokeWidth:e,...t&&{stroke:t}};return(0,i.jsx)("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},t8=({color:t="none",strokeWidth:e=1})=>{let n={strokeWidth:e,...t&&{stroke:t,fill:t}};return(0,i.jsx)("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},t9={[a.TG.Arrow]:t7,[a.TG.ArrowClosed]:t8};function et(t){let e=k();return(0,s.useMemo)(()=>Object.prototype.hasOwnProperty.call(t9,t)?t9[t]:(e.getState().onError?.("009",a.xc.error009(t)),null),[t])}let ee=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{let h=et(e);return h?(0,i.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:(0,i.jsx)(h,{color:n,strokeWidth:a})}):null},en=({defaultColor:t,rfId:e})=>{let n=w(t=>t.edges),r=w(t=>t.defaultEdgeOptions),o=(0,s.useMemo)(()=>(0,a.Hm)(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return o.length?(0,i.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,i.jsx)("defs",{children:o.map(t=>(0,i.jsx)(ee,{id:t.id,type:t.type,color:t.color,width:t.width,height:t.height,markerUnits:t.markerUnits,strokeWidth:t.strokeWidth,orient:t.orient},t.id))})}):null};en.displayName="MarkerDefinitions";var er=(0,s.memo)(en);function ei({x:t,y:e,label:n,labelStyle:r,labelShowBg:a=!0,labelBgStyle:l,labelBgPadding:h=[2,4],labelBgBorderRadius:c=2,children:u,className:d,...p}){let[f,m]=(0,s.useState)({x:1,y:0,width:0,height:0}),g=o(["react-flow__edge-textwrapper",d]),y=(0,s.useRef)(null);return((0,s.useEffect)(()=>{if(y.current){let t=y.current.getBBox();m({x:t.x,y:t.y,width:t.width,height:t.height})}},[n]),n)?(0,i.jsxs)("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...p,children:[a&&(0,i.jsx)("rect",{width:f.width+2*h[0],x:-h[0],y:-h[1],height:f.height+2*h[1],className:"react-flow__edge-textbg",style:l,rx:c,ry:c}),(0,i.jsx)("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:y,style:r,children:n}),u]}):null}ei.displayName="EdgeText";let es=(0,s.memo)(ei);function eo({path:t,labelX:e,labelY:n,label:r,labelStyle:s,labelShowBg:l,labelBgStyle:h,labelBgPadding:c,labelBgBorderRadius:u,interactionWidth:d=20,...p}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{...p,d:t,fill:"none",className:o(["react-flow__edge-path",p.className])}),d?(0,i.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,r&&(0,a.kf)(e)&&(0,a.kf)(n)?(0,i.jsx)(es,{x:e,y:n,label:r,labelStyle:s,labelShowBg:l,labelBgStyle:h,labelBgPadding:c,labelBgBorderRadius:u}):null]})}function ea({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===a.yX.Left||t===a.yX.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function el({sourceX:t,sourceY:e,sourcePosition:n=a.yX.Bottom,targetX:r,targetY:i,targetPosition:s=a.yX.Top}){let[o,l]=ea({pos:n,x1:t,y1:e,x2:r,y2:i}),[h,c]=ea({pos:s,x1:r,y1:i,x2:t,y2:e}),[u,d,p,f]=(0,a.e_)({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:h,targetControlY:c});return[`M${t},${e} C${o},${l} ${h},${c} ${r},${i}`,u,d,p,f]}function eh(t){return(0,s.memo)(({id:e,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,label:h,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:y,interactionWidth:v})=>{let[b,x,w]=el({sourceX:n,sourceY:r,sourcePosition:a,targetX:s,targetY:o,targetPosition:l}),k=t.isInternal?void 0:e;return(0,i.jsx)(eo,{id:k,path:b,labelX:x,labelY:w,label:h,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:y,interactionWidth:v})})}let ec=eh({isInternal:!1}),eu=eh({isInternal:!0});function ed(t){return(0,s.memo)(({id:e,sourceX:n,sourceY:r,targetX:s,targetY:o,label:l,labelStyle:h,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,sourcePosition:m=a.yX.Bottom,targetPosition:g=a.yX.Top,markerEnd:y,markerStart:v,pathOptions:b,interactionWidth:x})=>{let[w,k,S]=(0,a.oN)({sourceX:n,sourceY:r,sourcePosition:m,targetX:s,targetY:o,targetPosition:g,borderRadius:b?.borderRadius,offset:b?.offset,stepPosition:b?.stepPosition}),C=t.isInternal?void 0:e;return(0,i.jsx)(eo,{id:C,path:w,labelX:k,labelY:S,label:l,labelStyle:h,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,markerEnd:y,markerStart:v,interactionWidth:x})})}ec.displayName="SimpleBezierEdge",eu.displayName="SimpleBezierEdgeInternal";let ep=ed({isInternal:!1}),ef=ed({isInternal:!0});function em(t){return(0,s.memo)(({id:e,...n})=>{let r=t.isInternal?void 0:e;return(0,i.jsx)(ep,{...n,id:r,pathOptions:(0,s.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}ep.displayName="SmoothStepEdge",ef.displayName="SmoothStepEdgeInternal";let eg=em({isInternal:!1}),ey=em({isInternal:!0});function ev(t){return(0,s.memo)(({id:e,sourceX:n,sourceY:r,targetX:s,targetY:o,label:l,labelStyle:h,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:y})=>{let[v,b,x]=(0,a.ah)({sourceX:n,sourceY:r,targetX:s,targetY:o}),w=t.isInternal?void 0:e;return(0,i.jsx)(eo,{id:w,path:v,labelX:b,labelY:x,label:l,labelStyle:h,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:y})})}eg.displayName="StepEdge",ey.displayName="StepEdgeInternal";let eb=ev({isInternal:!1}),ex=ev({isInternal:!0});function ew(t){return(0,s.memo)(({id:e,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:l=a.yX.Bottom,targetPosition:h=a.yX.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:v,pathOptions:b,interactionWidth:x})=>{let[w,k,S]=(0,a.Fp)({sourceX:n,sourceY:r,sourcePosition:l,targetX:s,targetY:o,targetPosition:h,curvature:b?.curvature}),C=t.isInternal?void 0:e;return(0,i.jsx)(eo,{id:C,path:w,labelX:k,labelY:S,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:v,interactionWidth:x})})}eb.displayName="StraightEdge",ex.displayName="StraightEdgeInternal";let ek=ew({isInternal:!1}),eS=ew({isInternal:!0});ek.displayName="BezierEdge",eS.displayName="BezierEdgeInternal";let eC={default:eS,straight:ex,step:ey,smoothstep:ef,simplebezier:eu},eM={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},eE=(t,e,n)=>n===a.yX.Left?t-e:n===a.yX.Right?t+e:t,eA=(t,e,n)=>n===a.yX.Top?t-e:n===a.yX.Bottom?t+e:t,e_="react-flow__edgeupdater";function eT({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:l,type:h}){return(0,i.jsx)("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:l,className:o([e_,`${e_}-${h}`]),cx:eE(e,r,t),cy:eA(n,r,t),r:r,stroke:"transparent",fill:"transparent"})}function eP({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:s,targetX:o,targetY:l,sourcePosition:h,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:p,setReconnecting:f,setUpdateHover:m}){let g=k(),y=(t,e)=>{if(0!==t.button)return;let{autoPanOnConnect:r,domNode:i,isValidConnection:s,connectionMode:o,connectionRadius:l,lib:h,onConnectStart:c,onConnectEnd:m,cancelConnection:y,nodeLookup:v,rfId:b,panBy:x,updateConnection:w}=g.getState(),k="target"===e.type,S=(t,r)=>{f(!1),p?.(t,n,e.type,r)},C=t=>u?.(n,t),M=(r,i)=>{f(!0),d?.(t,n,e.type),c?.(r,i)};a.aQ.onPointerDown(t.nativeEvent,{autoPanOnConnect:r,connectionMode:o,connectionRadius:l,domNode:i,handleId:e.id,nodeId:e.nodeId,nodeLookup:v,isTarget:k,edgeUpdaterType:e.type,lib:h,flowId:b,cancelConnection:y,panBy:x,isValidConnection:s,onConnect:C,onConnectStart:M,onConnectEnd:m,onReconnectEnd:S,updateConnection:w,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:t.currentTarget})},v=t=>y(t,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),b=t=>y(t,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>m(!0),w=()=>m(!1);return(0,i.jsxs)(i.Fragment,{children:[(!0===t||"source"===t)&&(0,i.jsx)(eT,{position:h,centerX:r,centerY:s,radius:e,onMouseDown:v,onMouseEnter:x,onMouseOut:w,type:"source"}),(!0===t||"target"===t)&&(0,i.jsx)(eT,{position:c,centerX:o,centerY:l,radius:e,onMouseDown:b,onMouseEnter:x,onMouseOut:w,type:"target"})]})}function eD({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:l,onDoubleClick:h,onContextMenu:c,onMouseEnter:u,onMouseMove:d,onMouseLeave:p,reconnectRadius:f,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,rfId:b,edgeTypes:x,noPanClassName:S,onError:C,disableKeyboardA11y:M}){let A=w(e=>e.edgeLookup.get(t)),_=w(t=>t.defaultEdgeOptions),T=(A=_?{..._,...A}:A).type||"default",P=x?.[T]||eC[T];void 0===P&&(C?.("011",a.xc.error011(T)),T="default",P=x?.default||eC.default);let D=!!(A.focusable||e&&void 0===A.focusable),N=void 0!==m&&(A.reconnectable||n&&void 0===A.reconnectable),O=!!(A.selectable||r&&void 0===A.selectable),I=(0,s.useRef)(null),[L,z]=(0,s.useState)(!1),[R,F]=(0,s.useState)(!1),B=k(),{zIndex:j,sourceX:V,sourceY:$,targetX:H,targetY:q,sourcePosition:W,targetPosition:K}=w((0,s.useCallback)(e=>{let n=e.nodeLookup.get(A.source),r=e.nodeLookup.get(A.target);if(!n||!r)return{zIndex:A.zIndex,...eM};let i=(0,a.b5)({id:t,sourceNode:n,targetNode:r,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:e.connectionMode,onError:C});return{zIndex:(0,a.qX)({selected:A.selected,zIndex:A.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:e.elevateEdgesOnSelect}),...i||eM}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),y),U=(0,s.useMemo)(()=>A.markerStart?`url('#${(0,a.aW)(A.markerStart,b)}')`:void 0,[A.markerStart,b]),J=(0,s.useMemo)(()=>A.markerEnd?`url('#${(0,a.aW)(A.markerEnd,b)}')`:void 0,[A.markerEnd,b]);if(A.hidden||null===V||null===$||null===H||null===q)return null;let G=e=>{let{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:i}=B.getState();O&&(B.setState({nodesSelectionActive:!1}),A.selected&&i?(r({nodes:[],edges:[A]}),I.current?.blur()):n([t])),l&&l(e,A)},Y=h?t=>{h(t,{...A})}:void 0,X=c?t=>{c(t,{...A})}:void 0,Z=u?t=>{u(t,{...A})}:void 0,Q=d?t=>{d(t,{...A})}:void 0,tt=p?t=>{p(t,{...A})}:void 0,te=e=>{if(!M&&a.tn.includes(e.key)&&O){let{unselectNodesAndEdges:n,addSelectedEdges:r}=B.getState();"Escape"===e.key?(I.current?.blur(),n({edges:[A]})):r([t])}};return(0,i.jsx)("svg",{style:{zIndex:j},children:(0,i.jsxs)("g",{className:o(["react-flow__edge",`react-flow__edge-${T}`,A.className,S,{selected:A.selected,animated:A.animated,inactive:!O&&!l,updating:L,selectable:O}]),onClick:G,onDoubleClick:Y,onContextMenu:X,onMouseEnter:Z,onMouseMove:Q,onMouseLeave:tt,onKeyDown:D?te:void 0,tabIndex:D?0:void 0,role:A.ariaRole??(D?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":null===A.ariaLabel?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":D?`${E}-${b}`:void 0,ref:I,...A.domAttributes,children:[!R&&(0,i.jsx)(P,{id:t,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:O,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:V,sourceY:$,targetX:H,targetY:q,sourcePosition:W,targetPosition:K,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:U,markerEnd:J,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),N&&(0,i.jsx)(eP,{edge:A,isReconnectable:N,reconnectRadius:f,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,sourceX:V,sourceY:$,targetX:H,targetY:q,sourcePosition:W,targetPosition:K,setUpdateHover:z,setReconnecting:F})]})})}var eN=(0,s.memo)(eD);let eO=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function eI({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:h,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:p,onReconnectStart:f,onReconnectEnd:m,disableKeyboardA11y:g}){let{edgesFocusable:v,edgesReconnectable:b,elementsSelectable:x,onError:k}=w(eO,y),S=t6(e);return(0,i.jsxs)("div",{className:"react-flow__edges",children:[(0,i.jsx)(er,{defaultColor:t,rfId:n}),S.map(t=>(0,i.jsx)(eN,{id:t,edgesFocusable:v,edgesReconnectable:b,elementsSelectable:x,noPanClassName:s,onReconnect:o,onContextMenu:a,onMouseEnter:l,onMouseMove:h,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:p,onReconnectStart:f,onReconnectEnd:m,rfId:n,onError:k,edgeTypes:r,disableKeyboardA11y:g},t))]})}eI.displayName="EdgeRenderer";let eL=(0,s.memo)(eI),ez=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function eR({children:t}){let e=w(ez);return(0,i.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function eF(t){let e=ty(),n=(0,s.useRef)(!1);(0,s.useEffect)(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}let eB=t=>t.panZoom?.syncViewport;function ej(t){let e=w(eB),n=k();return(0,s.useEffect)(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function eV(t){return t.connection.inProgress?{...t.connection,to:(0,a.Ff)(t.connection.to,t.transform)}:{...t.connection}}function e$(t){return t?e=>t(eV(e)):eV}function eH(t){return w(e$(t),y)}let eq=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function eW({containerStyle:t,style:e,type:n,component:r}){let{nodesConnectable:s,width:l,height:h,isValid:c,inProgress:u}=w(eq,y);return l&&s&&u?(0,i.jsx)("svg",{style:t,width:l,height:h,className:"react-flow__connectionline react-flow__container",children:(0,i.jsx)("g",{className:o(["react-flow__connection",(0,a.HF)(c)]),children:(0,i.jsx)(eK,{style:e,type:n,CustomComponent:r,isValid:c})})}):null}let eK=({style:t,type:e=a.Do.Bezier,CustomComponent:n,isValid:r})=>{let{inProgress:s,from:o,fromNode:l,fromHandle:h,fromPosition:c,to:u,toNode:d,toHandle:p,toPosition:f,pointer:m}=eH();if(!s)return;if(n)return(0,i.jsx)(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:h,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:f,connectionStatus:(0,a.HF)(r),toNode:d,toHandle:p,pointer:m});let g="",y={sourceX:o.x,sourceY:o.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:f};switch(e){case a.Do.Bezier:[g]=(0,a.Fp)(y);break;case a.Do.SimpleBezier:[g]=el(y);break;case a.Do.Step:[g]=(0,a.oN)({...y,borderRadius:0});break;case a.Do.SmoothStep:[g]=(0,a.oN)(y);break;default:[g]=(0,a.ah)(y)}return(0,i.jsx)("path",{d:g,fill:"none",className:"react-flow__connection-path",style:t})};eK.displayName="ConnectionLine";let eU={};function eJ(t=eU){(0,s.useRef)(t),k(),(0,s.useEffect)(()=>{},[t])}function eG(){k(),(0,s.useRef)(!1),(0,s.useEffect)(()=>{},[])}function eY({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:h,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:p,onSelectionEnd:f,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:v,selectionKeyCode:b,selectionOnDrag:x,selectionMode:w,multiSelectionKeyCode:k,panActivationKeyCode:S,zoomActivationKeyCode:C,deleteKeyCode:M,onlyRenderVisibleElements:E,elementsSelectable:A,defaultViewport:_,translateExtent:T,minZoom:P,maxZoom:D,preventScrolling:N,defaultMarkerColor:O,zoomOnScroll:I,zoomOnPinch:L,panOnScroll:z,panOnScrollSpeed:R,panOnScrollMode:F,zoomOnDoubleClick:B,panOnDrag:j,onPaneClick:V,onPaneMouseEnter:$,onPaneMouseMove:H,onPaneMouseLeave:q,onPaneScroll:W,onPaneContextMenu:K,paneClickDistance:U,nodeClickDistance:J,onEdgeContextMenu:G,onEdgeMouseEnter:Y,onEdgeMouseMove:X,onEdgeMouseLeave:Z,reconnectRadius:Q,onReconnect:tt,onReconnectStart:te,onReconnectEnd:tn,noDragClassName:tr,noWheelClassName:ti,noPanClassName:ts,disableKeyboardA11y:to,nodeExtent:ta,rfId:tl,viewport:th,onViewportChange:tc}){return eJ(t),eJ(e),eG(),eF(n),ej(th),(0,i.jsx)(tG,{onPaneClick:V,onPaneMouseEnter:$,onPaneMouseMove:H,onPaneMouseLeave:q,onPaneContextMenu:K,onPaneScroll:W,paneClickDistance:U,deleteKeyCode:M,selectionKeyCode:b,selectionOnDrag:x,selectionMode:w,onSelectionStart:p,onSelectionEnd:f,multiSelectionKeyCode:k,panActivationKeyCode:S,zoomActivationKeyCode:C,elementsSelectable:A,zoomOnScroll:I,zoomOnPinch:L,zoomOnDoubleClick:B,panOnScroll:z,panOnScrollSpeed:R,panOnScrollMode:F,panOnDrag:j,defaultViewport:_,translateExtent:T,minZoom:P,maxZoom:D,onSelectionContextMenu:d,preventScrolling:N,noDragClassName:tr,noWheelClassName:ti,noPanClassName:ts,disableKeyboardA11y:to,onViewportChange:tc,isControlledViewport:!!th,children:(0,i.jsxs)(eR,{children:[(0,i.jsx)(eL,{edgeTypes:e,onEdgeClick:s,onEdgeDoubleClick:a,onReconnect:tt,onReconnectStart:te,onReconnectEnd:tn,onlyRenderVisibleElements:E,onEdgeContextMenu:G,onEdgeMouseEnter:Y,onEdgeMouseMove:X,onEdgeMouseLeave:Z,reconnectRadius:Q,defaultMarkerColor:O,noPanClassName:ts,disableKeyboardA11y:to,rfId:tl}),(0,i.jsx)(eW,{style:g,type:m,component:y,containerStyle:v}),(0,i.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,i.jsx)(t5,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:h,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:J,onlyRenderVisibleElements:E,noPanClassName:ts,noDragClassName:tr,disableKeyboardA11y:to,nodeExtent:ta,rfId:tl}),(0,i.jsx)("div",{className:"react-flow__viewport-portal"})]})})}eY.displayName="GraphView";let eX=(0,s.memo)(eY),eZ=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:l,minZoom:h=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:d}={})=>{let p=new Map,f=new Map,m=new Map,g=new Map,y=r??e??[],v=n??t??[],b=u??[0,0],x=d??a.ZO;(0,a.qn)(m,g,y);let w=(0,a.bi)(v,p,f,{nodeOrigin:b,nodeExtent:x,elevateNodesOnSelect:!1}),k=[0,0,1];if(o&&i&&s){let t=(0,a.aZ)(p,{filter:t=>!!((t.width||t.initialWidth)&&(t.height||t.initialHeight))}),{x:e,y:n,zoom:r}=(0,a.R4)(t,i,s,h,c,l?.padding??.1);k=[e,n,r]}return{rfId:"1",width:i??0,height:s??0,transform:k,nodes:v,nodesInitialized:w,nodeLookup:p,parentLookup:f,edges:y,edgeLookup:g,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:h,maxZoom:c,translateExtent:a.ZO,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:a.WZ.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...a.bK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:a.KE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:a.tM}},eQ=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:l,minZoom:h,maxZoom:c,nodeOrigin:u,nodeExtent:d})=>g((p,f)=>{async function m(){let{nodeLookup:t,panZoom:e,fitViewOptions:n,fitViewResolver:r,width:i,height:s,minZoom:o,maxZoom:l}=f();e&&(await (0,a.IO)({nodes:t,width:i,height:s,panZoom:e,minZoom:o,maxZoom:l},n),r?.resolve(!0),p({fitViewResolver:null}))}return{...eZ({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:l,minZoom:h,maxZoom:c,nodeOrigin:u,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:t=>{let{nodeLookup:e,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:i,fitViewQueued:s}=f(),o=(0,a.bi)(t,e,n,{nodeOrigin:r,nodeExtent:d,elevateNodesOnSelect:i,checkEquality:!0});s&&o?(m(),p({nodes:t,nodesInitialized:o,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:t,nodesInitialized:o})},setEdges:t=>{let{connectionLookup:e,edgeLookup:n}=f();(0,a.qn)(e,n,t),p({edges:t})},setDefaultNodesAndEdges:(t,e)=>{if(t){let{setNodes:e}=f();e(t),p({hasDefaultNodes:!0})}if(e){let{setEdges:t}=f();t(e),p({hasDefaultEdges:!0})}},updateNodeInternals:t=>{let{triggerNodeChanges:e,nodeLookup:n,parentLookup:r,domNode:i,nodeOrigin:s,nodeExtent:o,debug:l,fitViewQueued:h}=f(),{changes:c,updatedInternals:u}=(0,a.uL)(t,n,r,i,s,o);u&&((0,a.vS)(n,r,{nodeOrigin:s,nodeExtent:o}),h?(m(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),c?.length>0&&e?.(c))},updateNodePositions:(t,e=!1)=>{let n=[],r=[],{nodeLookup:i,triggerNodeChanges:s}=f();for(let[s,o]of t){let t=i.get(s),a=!!(t?.expandParent&&t?.parentId&&o?.position),l={id:s,type:"position",position:a?{x:Math.max(0,o.position.x),y:Math.max(0,o.position.y)}:o.position,dragging:e};a&&t.parentId&&n.push({id:s,parentId:t.parentId,rect:{...o.internals.positionAbsolute,width:o.measured.width??0,height:o.measured.height??0}}),r.push(l)}if(n.length>0){let{parentLookup:t,nodeOrigin:e}=f(),s=(0,a.r8)(n,i,t,e);r.push(...s)}s(r)},triggerNodeChanges:t=>{let{onNodesChange:e,setNodes:n,nodes:r,hasDefaultNodes:i,debug:s}=f();t?.length&&(i&&n(te(t,r)),e?.(t))},triggerEdgeChanges:t=>{let{onEdgesChange:e,setEdges:n,edges:r,hasDefaultEdges:i,debug:s}=f();t?.length&&(i&&n(tn(t,r)),e?.(t))},addSelectedNodes:t=>{let{multiSelectionActive:e,edgeLookup:n,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:s}=f();e?i(t.map(t=>tr(t,!0))):(i(ti(r,new Set([...t]),!0)),s(ti(n)))},addSelectedEdges:t=>{let{multiSelectionActive:e,edgeLookup:n,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:s}=f();e?s(t.map(t=>tr(t,!0))):(s(ti(n,new Set([...t]))),i(ti(r,new Set,!0)))},unselectNodesAndEdges:({nodes:t,edges:e}={})=>{let{edges:n,nodes:r,nodeLookup:i,triggerNodeChanges:s,triggerEdgeChanges:o}=f(),a=e||n,l=(t||r).map(t=>{let e=i.get(t.id);return e&&(e.selected=!1),tr(t.id,!1)}),h=a.map(t=>tr(t.id,!1));s(l),o(h)},setMinZoom:t=>{let{panZoom:e,maxZoom:n}=f();e?.setScaleExtent([t,n]),p({minZoom:t})},setMaxZoom:t=>{let{panZoom:e,minZoom:n}=f();e?.setScaleExtent([n,t]),p({maxZoom:t})},setTranslateExtent:t=>{f().panZoom?.setTranslateExtent(t),p({translateExtent:t})},resetSelectedElements:()=>{let{edges:t,nodes:e,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:i}=f();if(!i)return;let s=e.reduce((t,e)=>e.selected?[...t,tr(e.id,!1)]:t,[]),o=t.reduce((t,e)=>e.selected?[...t,tr(e.id,!1)]:t,[]);n(s),r(o)},setNodeExtent:t=>{let{nodes:e,nodeLookup:n,parentLookup:r,nodeOrigin:i,elevateNodesOnSelect:s,nodeExtent:o}=f();(t[0][0]!==o[0][0]||t[0][1]!==o[0][1]||t[1][0]!==o[1][0]||t[1][1]!==o[1][1])&&((0,a.bi)(e,n,r,{nodeOrigin:i,nodeExtent:t,elevateNodesOnSelect:s,checkEquality:!1}),p({nodeExtent:t}))},panBy:t=>{let{transform:e,width:n,height:r,panZoom:i,translateExtent:s}=f();return(0,a.No)({delta:t,panZoom:i,transform:e,translateExtent:s,width:n,height:r})},setCenter:async(t,e,n)=>{let{width:r,height:i,maxZoom:s,panZoom:o}=f();if(!o)return Promise.resolve(!1);let a=void 0!==n?.zoom?n.zoom:s;return await o.setViewport({x:r/2-t*a,y:i/2-e*a,zoom:a},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...a.bK}})},updateConnection:t=>{p({connection:t})},reset:()=>p({...eZ()})}},Object.is);function e0({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:a,initialMinZoom:l,initialMaxZoom:h,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:p,children:f}){let[m]=(0,s.useState)(()=>eQ({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:u,minZoom:l,maxZoom:h,fitViewOptions:c,nodeOrigin:d,nodeExtent:p}));return(0,i.jsx)(b,{value:m,children:(0,i.jsx)(tf,{children:f})})}function e1({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:o,width:a,height:l,fitView:h,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:p,nodeExtent:f}){return(0,s.useContext)(v)?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(e0,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:a,initialHeight:l,fitView:h,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:p,nodeExtent:f,children:t})}let e2={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var e3=th(function({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:l,nodeTypes:h,edgeTypes:c,onNodeClick:u,onEdgeClick:d,onInit:p,onMove:f,onMoveStart:m,onMoveEnd:g,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:x,onClickConnectEnd:w,onNodeMouseEnter:k,onNodeMouseMove:S,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:E,onNodeDragStart:A,onNodeDrag:_,onNodeDragStop:T,onNodesDelete:P,onEdgesDelete:N,onDelete:I,onSelectionChange:L,onSelectionDragStart:z,onSelectionDrag:R,onSelectionDragStop:F,onSelectionContextMenu:$,onSelectionStart:H,onSelectionEnd:q,onBeforeDelete:K,connectionMode:J,connectionLineType:G=a.Do.Bezier,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:Z,deleteKeyCode:Q="Backspace",selectionKeyCode:tt="Shift",selectionOnDrag:te=!1,selectionMode:tn=a.Qc.Full,panActivationKeyCode:tr="Space",multiSelectionKeyCode:ti=(0,a.Ue)()?"Meta":"Control",zoomActivationKeyCode:ts=(0,a.Ue)()?"Meta":"Control",snapToGrid:to,snapGrid:ta,onlyRenderVisibleElements:tl=!1,selectNodesOnDrag:th,nodesDraggable:tc,autoPanOnNodeFocus:tu,nodesConnectable:td,nodesFocusable:tp,nodeOrigin:tf=j,edgesFocusable:tm,edgesReconnectable:tg,elementsSelectable:ty=!0,defaultViewport:tv=V,minZoom:tb=.5,maxZoom:tx=2,translateExtent:tw=a.ZO,preventScrolling:tk=!0,nodeExtent:tS,defaultMarkerColor:tC="#b1b1b7",zoomOnScroll:tM=!0,zoomOnPinch:tE=!0,panOnScroll:tA=!1,panOnScrollSpeed:t_=.5,panOnScrollMode:tT=a.ny.Free,zoomOnDoubleClick:tP=!0,panOnDrag:tD=!0,onPaneClick:tN,onPaneMouseEnter:tO,onPaneMouseMove:tI,onPaneMouseLeave:tL,onPaneScroll:tz,onPaneContextMenu:tR,paneClickDistance:tF=1,nodeClickDistance:tB=0,children:tj,onReconnect:tV,onReconnectStart:t$,onReconnectEnd:tH,onEdgeContextMenu:tq,onEdgeDoubleClick:tW,onEdgeMouseEnter:tK,onEdgeMouseMove:tU,onEdgeMouseLeave:tJ,reconnectRadius:tG=10,onNodesChange:tY,onEdgesChange:tX,noDragClassName:tZ="nodrag",noWheelClassName:tQ="nowheel",noPanClassName:t0="nopan",fitView:t1,fitViewOptions:t2,connectOnClick:t3,attributionPosition:t4,proOptions:t5,defaultEdgeOptions:t6,elevateNodesOnSelect:t7,elevateEdgesOnSelect:t8,disableKeyboardA11y:t9=!1,autoPanOnConnect:et,autoPanOnNodeDrag:ee,autoPanSpeed:en,connectionRadius:er,isValidConnection:ei,onError:es,style:eo,id:ea,nodeDragThreshold:el,connectionDragThreshold:eh,viewport:ec,onViewportChange:eu,width:ed,height:ep,colorMode:ef="light",debug:em,onScroll:eg,ariaLabelConfig:ey,...ev},eb){let ex=ea||"1",ew=U(ef),ek=(0,s.useCallback)(t=>{t.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),eg?.(t)},[eg]);return(0,i.jsx)("div",{"data-testid":"rf__wrapper",...ev,onScroll:ek,style:{...eo,...e2},ref:eb,className:o(["react-flow",l,ew]),id:ea,role:"application",children:(0,i.jsxs)(e1,{nodes:t,edges:e,width:ed,height:ep,fitView:t1,fitViewOptions:t2,minZoom:tb,maxZoom:tx,nodeOrigin:tf,nodeExtent:tS,children:[(0,i.jsx)(eX,{onInit:p,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:k,onNodeMouseMove:S,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:E,nodeTypes:h,edgeTypes:c,connectionLineType:G,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:Z,selectionKeyCode:tt,selectionOnDrag:te,selectionMode:tn,deleteKeyCode:Q,multiSelectionKeyCode:ti,panActivationKeyCode:tr,zoomActivationKeyCode:ts,onlyRenderVisibleElements:tl,defaultViewport:tv,translateExtent:tw,minZoom:tb,maxZoom:tx,preventScrolling:tk,zoomOnScroll:tM,zoomOnPinch:tE,zoomOnDoubleClick:tP,panOnScroll:tA,panOnScrollSpeed:t_,panOnScrollMode:tT,panOnDrag:tD,onPaneClick:tN,onPaneMouseEnter:tO,onPaneMouseMove:tI,onPaneMouseLeave:tL,onPaneScroll:tz,onPaneContextMenu:tR,paneClickDistance:tF,nodeClickDistance:tB,onSelectionContextMenu:$,onSelectionStart:H,onSelectionEnd:q,onReconnect:tV,onReconnectStart:t$,onReconnectEnd:tH,onEdgeContextMenu:tq,onEdgeDoubleClick:tW,onEdgeMouseEnter:tK,onEdgeMouseMove:tU,onEdgeMouseLeave:tJ,reconnectRadius:tG,defaultMarkerColor:tC,noDragClassName:tZ,noWheelClassName:tQ,noPanClassName:t0,rfId:ex,disableKeyboardA11y:t9,nodeExtent:tS,viewport:ec,onViewportChange:eu}),(0,i.jsx)(W,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:x,onClickConnectEnd:w,nodesDraggable:tc,autoPanOnNodeFocus:tu,nodesConnectable:td,nodesFocusable:tp,edgesFocusable:tm,edgesReconnectable:tg,elementsSelectable:ty,elevateNodesOnSelect:t7,elevateEdgesOnSelect:t8,minZoom:tb,maxZoom:tx,nodeExtent:tS,onNodesChange:tY,onEdgesChange:tX,snapToGrid:to,snapGrid:ta,connectionMode:J,translateExtent:tw,connectOnClick:t3,defaultEdgeOptions:t6,fitView:t1,fitViewOptions:t2,onNodesDelete:P,onEdgesDelete:N,onDelete:I,onNodeDragStart:A,onNodeDrag:_,onNodeDragStop:T,onSelectionDrag:R,onSelectionDragStart:z,onSelectionDragStop:F,onMove:f,onMoveStart:m,onMoveEnd:g,noPanClassName:t0,nodeOrigin:tf,rfId:ex,autoPanOnConnect:et,autoPanOnNodeDrag:ee,autoPanSpeed:en,onError:es,connectionRadius:er,isValidConnection:ei,selectNodesOnDrag:th,nodeDragThreshold:el,connectionDragThreshold:eh,onBeforeDelete:K,debug:em,ariaLabelConfig:ey}),(0,i.jsx)(B,{onSelectionChange:L}),tj,(0,i.jsx)(O,{proOptions:t5,position:t4}),(0,i.jsx)(D,{rfId:ex,disableKeyboardA11y:t9})]})})});function e4(t){let[e,n]=(0,s.useState)(t),r=(0,s.useCallback)(t=>n(e=>te(t,e)),[]);return[e,n,r]}function e5(t){let[e,n]=(0,s.useState)(t),r=(0,s.useCallback)(t=>n(e=>tn(t,e)),[]);return[e,n,r]}function e6({dimensions:t,lineWidth:e,variant:n,className:r}){return(0,i.jsx)("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:o(["react-flow__background-pattern",n,r])})}function e7({radius:t,className:e}){return(0,i.jsx)("circle",{cx:t,cy:t,r:t,className:o(["react-flow__background-pattern","dots",e])})}a.xc.error014(),function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"}(r||(r={}));let e8={[r.Dots]:1,[r.Lines]:1,[r.Cross]:6},e9=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function nt({id:t,variant:e=r.Dots,gap:n=20,size:a,lineWidth:l=1,offset:h=0,color:c,bgColor:u,style:d,className:p,patternClassName:f}){let m=(0,s.useRef)(null),{transform:g,patternId:v}=w(e9,y),b=a||e8[e],x=e===r.Dots,k=e===r.Cross,S=Array.isArray(n)?n:[n,n],C=[S[0]*g[2]||1,S[1]*g[2]||1],M=b*g[2],E=Array.isArray(h)?h:[h,h],A=k?[M,M]:C,_=[E[0]*g[2]||1+A[0]/2,E[1]*g[2]||1+A[1]/2],T=`${v}${t||""}`;return(0,i.jsxs)("svg",{className:o(["react-flow__background",p]),style:{...d,...tk,"--xy-background-color-props":u,"--xy-background-pattern-color-props":c},ref:m,"data-testid":"rf__background",children:[(0,i.jsx)("pattern",{id:T,x:g[0]%C[0],y:g[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:x?(0,i.jsx)(e7,{radius:M/2,className:f}):(0,i.jsx)(e6,{dimensions:A,lineWidth:l,variant:e,className:f})}),(0,i.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}nt.displayName="Background";let ne=(0,s.memo)(nt);function nn(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,i.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function nr(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,i.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function ni(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,i.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function ns(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,i.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function no(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,i.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function na({children:t,className:e,...n}){return(0,i.jsx)("button",{type:"button",className:o(["react-flow__controls-button",e]),...n,children:t})}let nl=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function nh({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:l,onFitView:h,onInteractiveChange:c,className:u,children:d,position:p="bottom-left",orientation:f="vertical","aria-label":m}){let g=k(),{isInteractive:v,minZoomReached:b,maxZoomReached:x,ariaLabelConfig:S}=w(nl,y),{zoomIn:C,zoomOut:M,fitView:E}=ty(),A=()=>{C(),a?.()},_=()=>{M(),l?.()},T=()=>{E(s),h?.()},P=()=>{g.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c?.(!v)},D="horizontal"===f?"horizontal":"vertical";return(0,i.jsxs)(N,{className:o(["react-flow__controls",D,u]),position:p,style:t,"data-testid":"rf__controls","aria-label":m??S["controls.ariaLabel"],children:[e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(na,{onClick:A,className:"react-flow__controls-zoomin",title:S["controls.zoomIn.ariaLabel"],"aria-label":S["controls.zoomIn.ariaLabel"],disabled:x,children:(0,i.jsx)(nn,{})}),(0,i.jsx)(na,{onClick:_,className:"react-flow__controls-zoomout",title:S["controls.zoomOut.ariaLabel"],"aria-label":S["controls.zoomOut.ariaLabel"],disabled:b,children:(0,i.jsx)(nr,{})})]}),n&&(0,i.jsx)(na,{className:"react-flow__controls-fitview",onClick:T,title:S["controls.fitView.ariaLabel"],"aria-label":S["controls.fitView.ariaLabel"],children:(0,i.jsx)(ni,{})}),r&&(0,i.jsx)(na,{className:"react-flow__controls-interactive",onClick:P,title:S["controls.interactive.ariaLabel"],"aria-label":S["controls.interactive.ariaLabel"],children:v?(0,i.jsx)(no,{}):(0,i.jsx)(ns,{})}),d]})}function nc({id:t,x:e,y:n,width:r,height:s,style:a,color:l,strokeColor:h,strokeWidth:c,className:u,borderRadius:d,shapeRendering:p,selected:f,onClick:m}){let{background:g,backgroundColor:y}=a||{},v=l||g||y;return(0,i.jsx)("rect",{className:o(["react-flow__minimap-node",{selected:f},u]),x:e,y:n,rx:d,ry:d,width:r,height:s,style:{fill:v,stroke:h,strokeWidth:c},shapeRendering:p,onClick:m?e=>m(e,t):void 0})}nh.displayName="Controls",(0,s.memo)(nh);let nu=(0,s.memo)(nc),nd=t=>t.nodes.map(t=>t.id),np=t=>t instanceof Function?t:()=>t;function nf({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:o=nu,onClick:a}){let l=w(nd,y),h=np(e),c=np(t),u=np(n),d="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,i.jsx)(i.Fragment,{children:l.map(t=>(0,i.jsx)(ng,{id:t,nodeColorFunc:h,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:o,onClick:a,shapeRendering:d},t))})}function nm({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:o,shapeRendering:l,NodeComponent:h,onClick:c}){let{node:u,x:d,y:p,width:f,height:m}=w(e=>{let{internals:n}=e.nodeLookup.get(t),r=n.userNode,{x:i,y:s}=n.positionAbsolute,{width:o,height:l}=(0,a.uD)(r);return{node:r,x:i,y:s,width:o,height:l}},y);return u&&!u.hidden&&(0,a.QE)(u)?(0,i.jsx)(h,{x:d,y:p,width:f,height:m,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:s,strokeColor:n(u),strokeWidth:o,shapeRendering:l,onClick:c,id:u.id}):null}let ng=(0,s.memo)(nm);var ny=(0,s.memo)(nf);let nv=200,nb=150,nx=t=>!t.hidden,nw=t=>{let e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?(0,a.Mi)((0,a.aZ)(t.nodeLookup,{filter:nx}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},nk="react-flow__minimap-desc";function nS({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:l="",nodeBorderRadius:h=5,nodeStrokeWidth:c,nodeComponent:u,bgColor:d,maskColor:p,maskStrokeColor:f,maskStrokeWidth:m,position:g="bottom-right",onClick:v,onNodeClick:b,pannable:x=!1,zoomable:S=!1,ariaLabel:C,inversePan:M,zoomStep:E=1,offsetScale:A=5}){let _=k(),T=(0,s.useRef)(null),{boundingRect:P,viewBB:D,rfId:O,panZoom:I,translateExtent:L,flowWidth:z,flowHeight:R,ariaLabelConfig:F}=w(nw,y),B=t?.width??nv,j=t?.height??nb,V=Math.max(P.width/B,P.height/j),$=V*B,H=V*j,q=A*V,W=P.x-($-P.width)/2-q,K=P.y-(H-P.height)/2-q,U=$+2*q,J=H+2*q,G=`${nk}-${O}`,Y=(0,s.useRef)(0),X=(0,s.useRef)();Y.current=V,(0,s.useEffect)(()=>{if(T.current&&I)return X.current=(0,a.di)({domNode:T.current,panZoom:I,getTransform:()=>_.getState().transform,getViewScale:()=>Y.current}),()=>{X.current?.destroy()}},[I]),(0,s.useEffect)(()=>{X.current?.update({translateExtent:L,width:z,height:R,inversePan:M,pannable:x,zoomStep:E,zoomable:S})},[x,S,M,E,L,z,R]);let Z=v?t=>{let[e,n]=X.current?.pointer(t)||[0,0];v(t,{x:e,y:n})}:void 0,Q=b?(0,s.useCallback)((t,e)=>{b(t,_.getState().nodeLookup.get(e).internals.userNode)},[]):void 0,tt=C??F["minimap.ariaLabel"];return(0,i.jsx)(N,{position:g,style:{...t,"--xy-minimap-background-color-props":"string"==typeof d?d:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof p?p:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof f?f:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof m?m*V:void 0,"--xy-minimap-node-background-color-props":"string"==typeof r?r:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof c?c:void 0},className:o(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:(0,i.jsxs)("svg",{width:B,height:j,viewBox:`${W} ${K} ${U} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:T,onClick:Z,children:[tt&&(0,i.jsx)("title",{id:G,children:tt}),(0,i.jsx)(ny,{onClick:Q,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:h,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:u}),(0,i.jsx)("path",{className:"react-flow__minimap-mask",d:`M${W-q},${K-q}h${U+2*q}v${J+2*q}h${-U-2*q}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}nS.displayName="MiniMap",(0,s.memo)(nS);let nC=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,nM={[a.xN.Line]:"right",[a.xN.Handle]:"bottom-right"};function nE({nodeId:t,position:e,variant:n=a.xN.Handle,className:r,style:l,children:h,color:c,minWidth:u=10,minHeight:d=10,maxWidth:p=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,autoScale:v=!0,shouldResize:b,onResizeStart:x,onResize:S,onResizeEnd:C}){let M=tz(),E="string"==typeof t?t:M,A=k(),_=(0,s.useRef)(null),T=n===a.xN.Handle,P=w((0,s.useCallback)(nC(T&&v),[T,v]),y),D=(0,s.useRef)(null),N=e??nM[n];(0,s.useEffect)(()=>{if(_.current&&E)return D.current||(D.current=(0,a.ET)({domNode:_.current,nodeId:E,getStoreItems:()=>{let{nodeLookup:t,transform:e,snapGrid:n,snapToGrid:r,nodeOrigin:i,domNode:s}=A.getState();return{nodeLookup:t,transform:e,snapGrid:n,snapToGrid:r,nodeOrigin:i,paneDomNode:s}},onChange:(t,e)=>{let{triggerNodeChanges:n,nodeLookup:r,parentLookup:i,nodeOrigin:s}=A.getState(),o=[],l={x:t.x,y:t.y},h=r.get(E);if(h&&h.expandParent&&h.parentId){let e=h.origin??s,n=t.width??h.measured.width??0,c=t.height??h.measured.height??0,u={id:h.id,parentId:h.parentId,rect:{width:n,height:c,...(0,a.us)({x:t.x??h.position.x,y:t.y??h.position.y},{width:n,height:c},h.parentId,r,e)}},d=(0,a.r8)([u],r,i,s);o.push(...d),l.x=t.x?Math.max(e[0]*n,t.x):void 0,l.y=t.y?Math.max(e[1]*c,t.y):void 0}if(void 0!==l.x&&void 0!==l.y){let t={id:E,type:"position",position:{...l}};o.push(t)}if(void 0!==t.width&&void 0!==t.height){let e={id:E,type:"dimensions",resizing:!0,setAttributes:!g||("horizontal"===g?"width":"height"),dimensions:{width:t.width,height:t.height}};o.push(e)}for(let t of e){let e={...t,type:"position"};o.push(e)}n(o)},onEnd:({width:t,height:e})=>{let n={id:E,type:"dimensions",resizing:!1,dimensions:{width:t,height:e}};A.getState().triggerNodeChanges([n])}})),D.current.update({controlPosition:N,boundaries:{minWidth:u,minHeight:d,maxWidth:p,maxHeight:f},keepAspectRatio:m,resizeDirection:g,onResizeStart:x,onResize:S,onResizeEnd:C,shouldResize:b}),()=>{D.current?.destroy()}},[N,u,d,p,f,m,x,S,C,b]);let O=N.split("-");return(0,i.jsx)("div",{className:o(["react-flow__resize-control","nodrag",...O,n,r]),ref:_,style:{...l,scale:P,...c&&{[T?"backgroundColor":"borderColor"]:c}},children:h})}(0,s.memo)(nE)},799:function(t,e,n){"use strict";n.d(e,{aQ:()=>sQ,Qc:()=>o,X6:()=>iL,s_:()=>iB,aZ:()=>iy,rN:()=>sa,tn:()=>io,b$:()=>iu,HF:()=>ic,bi:()=>sT,oN:()=>sf,ny:()=>s,v5:()=>i4,I$:()=>sq,qn:()=>sF,uL:()=>sL,YN:()=>iZ,Jo:()=>ig,r8:()=>sI,Ue:()=>iK,R4:()=>iW,zj:()=>iV,qX:()=>sr,tM:()=>ia,Tq:()=>iS,Do:()=>a,kO:()=>oi,ah:()=>sl,Fp:()=>se,TG:()=>l,kM:()=>iN,xc:()=>ii,Mi:()=>iI,ET:()=>oy,No:()=>sz,IO:()=>iw,mW:()=>iz,uD:()=>iJ,QE:()=>iG,e_:()=>i8,Eo:()=>i1,vS:()=>sA,uj:()=>si,aE:()=>ik,KE:()=>iF,bK:()=>il,Hm:()=>sw,kf:()=>iR,_s:()=>iX,us:()=>iY,oj:()=>i2,aW:()=>sx,q1:()=>i6,oB:()=>id,b5:()=>sg,di:()=>s0,Q6:()=>iQ,yX:()=>h,Ff:()=>ij,WZ:()=>i,ZO:()=>is,Er:()=>i5,U$:()=>iv,xN:()=>c});var r,i,s,o,a,l,h,c,u={value:()=>{}};function d(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new p(r)}function p(t){this._=t}function f(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:n}})}function m(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function g(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=u,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}p.prototype=d.prototype={constructor:p,on:function(t,e){var n,r=this._,i=f(t+"",r),s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((n=(t=i[s]).type)&&(n=m(r[n],t.name)))return n;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=g(r[n],t.name,e);else if(null==e)for(n in r)r[n]=g(r[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new p(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(r=this._[t],s=0,n=r.length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};let y=d;function v(){}function b(t){return null==t?v:function(){return this.querySelector(t)}}function x(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var s,o,a=e[i],l=a.length,h=r[i]=Array(l),c=0;c<l;++c)(s=a[c])&&(o=t.call(s,s.__data__,c,a))&&("__data__"in s&&(o.__data__=s.__data__),h[c]=o);return new t1(r,this._parents)}function w(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function k(){return[]}function S(t){return null==t?k:function(){return this.querySelectorAll(t)}}function C(t){return function(){return w(t.apply(this,arguments))}}function M(t){t="function"==typeof t?C(t):S(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,h=0;h<l;++h)(o=a[h])&&(r.push(t.call(o,o.__data__,h,a)),i.push(o));return new t1(r,i)}function E(t){return function(){return this.matches(t)}}function A(t){return function(e){return e.matches(t)}}var _=Array.prototype.find;function T(t){return function(){return _.call(this.children,t)}}function P(){return this.firstElementChild}function D(t){return this.select(null==t?P:T("function"==typeof t?t:A(t)))}var N=Array.prototype.filter;function O(){return Array.from(this.children)}function I(t){return function(){return N.call(this.children,t)}}function L(t){return this.selectAll(null==t?O:I("function"==typeof t?t:A(t)))}function z(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],h=0;h<a;++h)(s=o[h])&&t.call(s,s.__data__,h,o)&&l.push(s);return new t1(r,this._parents)}function R(t){return Array(t.length)}function F(){return new t1(this._enter||this._groups.map(R),this._parents)}function B(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function j(t){return function(){return t}}function V(t,e,n,r,i,s){for(var o,a=0,l=e.length,h=s.length;a<h;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new B(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function $(t,e,n,r,i,s,o){var a,l,h,c=new Map,u=e.length,d=s.length,p=Array(u);for(a=0;a<u;++a)(l=e[a])&&(p[a]=h=o.call(l,l.__data__,a,e)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(t,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new B(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(p[a])===l&&(i[a]=l)}function H(t){return t.__data__}function q(t,e){if(!arguments.length)return Array.from(this,H);var n=e?$:V,r=this._parents,i=this._groups;"function"!=typeof t&&(t=j(t));for(var s=i.length,o=Array(s),a=Array(s),l=Array(s),h=0;h<s;++h){var c=r[h],u=i[h],d=u.length,p=W(t.call(c,c&&c.__data__,h,r)),f=p.length,m=a[h]=Array(f),g=o[h]=Array(f);n(c,u,m,g,l[h]=Array(d),p,e);for(var y,v,b=0,x=0;b<f;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(v=g[x])&&++x<f;);y._next=v||null}}return(o=new t1(o,r))._enter=a,o._exit=l,o}function W(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function K(){return new t1(this._exit||this._groups.map(R),this._parents)}function U(t,e,n){var r=this.enter(),i=this,s=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?s.remove():n(s),r&&i?r.merge(i).order():i}function J(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=Array(i),l=0;l<o;++l)for(var h,c=n[l],u=r[l],d=c.length,p=a[l]=Array(d),f=0;f<d;++f)(h=c[f]||u[f])&&(p[f]=h);for(;l<i;++l)a[l]=n[l];return new t1(a,this._parents)}function G(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}function Y(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=X);for(var n=this._groups,r=n.length,i=Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,h=i[s]=Array(l),c=0;c<l;++c)(o=a[c])&&(h[c]=o);h.sort(e)}return new t1(i,this._parents).order()}function X(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Z(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Q(){return Array.from(this)}function tt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function te(){let t=0;for(let e of this)++t;return t}function tn(){return!this.node()}function tr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this}B.prototype={constructor:B,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ti="http://www.w3.org/1999/xhtml";let ts={svg:"http://www.w3.org/2000/svg",xhtml:ti,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function to(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ts.hasOwnProperty(e)?{space:ts[e],local:t}:t}function ta(t){return function(){this.removeAttribute(t)}}function tl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function th(t,e){return function(){this.setAttribute(t,e)}}function tc(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tu(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function td(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function tp(t,e){var n=to(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?tl:ta:"function"==typeof e?n.local?td:tu:n.local?tc:th)(n,e))}function tf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tm(t){return function(){this.style.removeProperty(t)}}function tg(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ty(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function tv(t,e,n){return arguments.length>1?this.each((null==e?tm:"function"==typeof e?ty:tg)(t,e,null==n?"":n)):tb(this.node(),t)}function tb(t,e){return t.style.getPropertyValue(e)||tf(t).getComputedStyle(t,null).getPropertyValue(e)}function tx(t){return function(){delete this[t]}}function tw(t,e){return function(){this[t]=e}}function tk(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function tS(t,e){return arguments.length>1?this.each((null==e?tx:"function"==typeof e?tk:tw)(t,e)):this.node()[t]}function tC(t){return t.trim().split(/^|\s+/)}function tM(t){return t.classList||new tE(t)}function tE(t){this._node=t,this._names=tC(t.getAttribute("class")||"")}function tA(t,e){for(var n=tM(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function t_(t,e){for(var n=tM(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tT(t){return function(){tA(this,t)}}function tP(t){return function(){t_(this,t)}}function tD(t,e){return function(){(e.apply(this,arguments)?tA:t_)(this,t)}}function tN(){this.textContent=""}function tO(t){return function(){this.textContent=t}}function tI(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function tL(){this.innerHTML=""}function tz(t){return function(){this.innerHTML=t}}function tR(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function tF(){this.nextSibling&&this.parentNode.appendChild(this)}function tB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tj(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ti&&e.documentElement.namespaceURI===ti?e.createElement(t):e.createElementNS(n,t)}}function tV(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function t$(t){var e=to(t);return(e.local?tV:tj)(e)}function tH(){return null}function tq(){var t=this.parentNode;t&&t.removeChild(this)}function tW(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tK(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tU(t){return function(e){t.call(this,e,this.__data__)}}function tJ(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function tG(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)(n=e[r],t.type&&n.type!==t.type||n.name!==t.name)?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function tY(t,e,n){return function(){var r,i=this.__on,s=tU(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function tX(t,e,n){var r=tf(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function tZ(t,e){return function(){return tX(this,t,e)}}function tQ(t,e){return function(){return tX(this,t,e.apply(this,arguments))}}tE.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var t0=[null];function t1(t,e){this._groups=t,this._parents=e}function t2(){return new t1([[document.documentElement]],t0)}t1.prototype=t2.prototype={constructor:t1,select:x,selectAll:M,selectChild:D,selectChildren:L,filter:z,data:q,enter:F,exit:K,join:U,merge:J,selection:function(){return this},order:G,sort:Y,call:Z,nodes:Q,node:tt,size:te,empty:tn,each:tr,attr:tp,style:tv,property:tS,classed:function(t,e){var n=tC(t+"");if(arguments.length<2){for(var r=tM(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?tD:e?tT:tP)(n,e))},text:function(t){return arguments.length?this.each(null==t?tN:("function"==typeof t?tI:tO)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tL:("function"==typeof t?tR:tz)(t)):this.node().innerHTML},raise:function(){return this.each(tF)},lower:function(){return this.each(tB)},append:function(t){var e="function"==typeof t?t:t$(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:t$(t),r=null==e?tH:"function"==typeof e?e:b(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(tq)},clone:function(t){return this.select(t?tK:tW)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=tJ(t+""),o=s.length;if(arguments.length<2){var a=this.node().__on;if(a){for(var l,h=0,c=a.length;h<c;++h)for(r=0,l=a[h];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value}return}for(r=0,a=e?tY:tG;r<o;++r)this.each(a(s[r],e,n));return this},dispatch:function(t,e){return this.each(("function"==typeof e?tQ:tZ)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],s=0,o=i.length;s<o;++s)(r=i[s])&&(yield r)}};let t3=t2;function t4(t){return"string"==typeof t?new t1([[document.querySelector(t)]],[document.documentElement]):new t1([[t]],t0)}function t5(t){let e;for(;e=t.sourceEvent;)t=e;return t}function t6(t,e){if(t=t5(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}let t7={passive:!1},t8={capture:!0,passive:!1};function t9(t){t.stopImmediatePropagation()}function et(t){t.preventDefault(),t.stopImmediatePropagation()}function ee(t){var e=t.document.documentElement,n=t4(t).on("dragstart.drag",et,t8);"onselectstart"in e?n.on("selectstart.drag",et,t8):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function en(t,e){var n=t.document.documentElement,r=t4(t).on("dragstart.drag",null);e&&(r.on("click.drag",et,t8),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}let er=t=>()=>t;function ei(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:h,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:c}})}function es(t){return!t.ctrlKey&&!t.button}function eo(){return this.parentNode}function ea(t,e){return null==e?{x:t.x,y:t.y}:e}function el(){return navigator.maxTouchPoints||"ontouchstart"in this}function eh(){var t,e,n,r,i=es,s=eo,o=ea,a=el,l={},h=y("start","drag","end"),c=0,u=0;function d(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",g).on("touchmove.drag",v,t7).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(o,a){if(!r&&i.call(this,o,a)){var l=x(this,s.call(this,o,a),o,a,"mouse");l&&(t4(o.view).on("mousemove.drag",f,t8).on("mouseup.drag",m,t8),ee(o.view),t9(o),n=!1,t=o.clientX,e=o.clientY,l("start",o))}}function f(r){if(et(r),!n){var i=r.clientX-t,s=r.clientY-e;n=i*i+s*s>u}l.mouse("drag",r)}function m(t){t4(t.view).on("mousemove.drag mouseup.drag",null),en(t.view,n),et(t),l.mouse("end",t)}function g(t,e){if(i.call(this,t,e)){var n,r,o=t.changedTouches,a=s.call(this,t,e),l=o.length;for(n=0;n<l;++n)(r=x(this,a,t,e,o[n].identifier,o[n]))&&(t9(t),r("start",t,o[n]))}}function v(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&(et(t),n("drag",t,r[e]))}function b(t){var e,n,i=t.changedTouches,s=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<s;++e)(n=l[i[e].identifier])&&(t9(t),n("end",t,i[e]))}function x(t,e,n,r,i,s){var a,u,p,f=h.copy(),m=t6(s||n,e);if(null!=(p=o.call(t,new ei("beforestart",{sourceEvent:n,target:d,identifier:i,active:c,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),r)))return a=p.x-m[0]||0,u=p.y-m[1]||0,function n(s,o,h){var g,y=m;switch(s){case"start":l[i]=n,g=c++;break;case"end":delete l[i],--c;case"drag":m=t6(h||o,e),g=c}f.call(s,t,new ei(s,{sourceEvent:o,subject:p,target:d,identifier:i,active:g,x:m[0]+a,y:m[1]+u,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:f}),r)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:er(!!t),d):i},d.container=function(t){return arguments.length?(s="function"==typeof t?t:er(t),d):s},d.subject=function(t){return arguments.length?(o="function"==typeof t?t:er(t),d):o},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:er(!!t),d):a},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d.clickDistance=function(t){return arguments.length?(u=(t*=1)*t,d):Math.sqrt(u)},d}ei.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ec=1e-12;function eu(t){return((t=Math.exp(t))+1/t)/2}function ed(t){return((t=Math.exp(t))-1/t)/2}function ep(t){return((t=Math.exp(2*t))-1)/(t+1)}let ef=function t(e,n,r){function i(t,i){var s,o,a=t[0],l=t[1],h=t[2],c=i[0],u=i[1],d=i[2],p=c-a,f=u-l,m=p*p+f*f;if(m<ec)o=Math.log(d/h)/e,s=function(t){return[a+t*p,l+t*f,h*Math.exp(e*t*o)]};else{var g=Math.sqrt(m),y=(d*d-h*h+r*m)/(2*h*n*g),v=(d*d-h*h-r*m)/(2*d*n*g),b=Math.log(Math.sqrt(y*y+1)-y);o=(Math.log(Math.sqrt(v*v+1)-v)-b)/e,s=function(t){var r=t*o,i=eu(b),s=h/(n*g)*(i*ep(e*r+b)-ed(b));return[a+s*p,l+s*f,h*i/eu(e*r+b)]}}return s.duration=1e3*o*e/Math.SQRT2,s}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n,i=r*r;return t(n,r,i)},i}(Math.SQRT2,2,4);var em,eg,ey=0,ev=0,eb=0,ex=1e3,ew=0,ek=0,eS=0,eC="object"==typeof performance&&performance.now?performance:Date,eM="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function eE(){return ek||(eM(eA),ek=eC.now()+eS)}function eA(){ek=0}function e_(){this._call=this._time=this._next=null}function eT(t,e,n){var r=new e_;return r.restart(t,e,n),r}function eP(){eE(),++ey;for(var t,e=em;e;)(t=ek-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ey}function eD(){ek=(ew=eC.now())+eS,ey=ev=0;try{eP()}finally{ey=0,eO(),ek=0}}function eN(){var t=eC.now(),e=t-ew;e>ex&&(eS-=e,ew=t)}function eO(){for(var t,e,n=em,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:em=e);eg=t,eI(r)}function eI(t){if(!ey){ev&&(ev=clearTimeout(ev));var e=t-ek;e>24?(t<1/0&&(ev=setTimeout(eD,t-eC.now()-eS)),eb&&(eb=clearInterval(eb))):(eb||(ew=eC.now(),eb=setInterval(eN,ex)),ey=1,eM(eD))}}function eL(t,e,n){var r=new e_;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}e_.prototype=eT.prototype={constructor:e_,restart:function(t,e,n){if("function"!=typeof t)throw TypeError("callback is not a function");n=(null==n?eE():+n)+(null==e?0:+e),this._next||eg===this||(eg?eg._next=this:em=this,eg=this),this._call=t,this._time=n,eI()},stop:function(){this._call&&(this._call=null,this._time=1/0,eI())}};var ez=y("start","end","cancel","interrupt"),eR=[],eF=0,eB=1,ej=2,eV=3,e$=4,eH=5,eq=6;function eW(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};eG(t,n,{name:e,index:r,group:i,on:ez,tween:eR,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:eF})}function eK(t,e){var n=eJ(t,e);if(n.state>eF)throw Error("too late; already scheduled");return n}function eU(t,e){var n=eJ(t,e);if(n.state>eV)throw Error("too late; already running");return n}function eJ(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw Error("transition not found");return n}function eG(t,e,n){var r,i=t.__transition;function s(t){n.state=eB,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(s){var h,c,u,d;if(n.state!==eB)return l();for(h in i)if((d=i[h]).name===n.name){if(d.state===eV)return eL(o);d.state===e$?(d.state=eq,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[h]):+h<e&&(d.state=eq,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[h])}if(eL(function(){n.state===eV&&(n.state=e$,n.timer.restart(a,n.delay,n.time),a(s))}),n.state=ej,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ej){for(h=0,n.state=eV,r=Array(u=n.tween.length),c=-1;h<u;++h)(d=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=eH,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);n.state===eH&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=eq,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=eT(s,0,n.time)}function eY(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s){if((n=s[i]).name!==e){o=!1;continue}r=n.state>ej&&n.state<eH,n.state=eq,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]}o&&delete t.__transition}}function eX(t){return this.each(function(){eY(this,t)})}function eZ(t,e){return t*=1,e*=1,function(n){return t*(1-n)+e*n}}var eQ=180/Math.PI,e0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e1(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*eQ,skewX:Math.atan(l)*eQ,scaleX:o,scaleY:a}}function e2(t){return null==t?e0:(r||(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",t),t=r.transform.baseVal.consolidate())?e1((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):e0}function e3(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function s(t,r,i,s,o,a){if(t!==i||r!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:eZ(t,i)},{i:l-2,x:eZ(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}function o(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:eZ(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function a(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:eZ(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function l(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:eZ(t,n)},{i:a-2,x:eZ(e,r)})}else(1!==n||1!==r)&&s.push(i(s)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),s(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),a(e.skewX,n.skewX,r,i),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,s=i.length;++n<s;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var e4=e3(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?e0:e1(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),e5=e3(e2,", ",")",")");function e6(t,e){var n,r;return function(){var i=eU(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}}i.tween=r}}function e7(t,e,n){var r,i;if("function"!=typeof n)throw Error();return function(){var s=eU(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,h=i.length;l<h;++l)if(i[l].name===e){i[l]=a;break}l===h&&i.push(a)}s.tween=i}}function e8(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=eJ(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?e6:e7)(n,t,e))}function e9(t,e,n){var r=t._id;return t.each(function(){var t=eU(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return eJ(t,r).value[e]}}function nt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nn(){}var nr=.7,ni=1.4285714285714286,ns="\\s*([+-]?\\d+)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nl=/^#([0-9a-f]{3,8})$/,nh=RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),nc=RegExp(`^rgb\\(${na},${na},${na}\\)$`),nu=RegExp(`^rgba\\(${ns},${ns},${ns},${no}\\)$`),nd=RegExp(`^rgba\\(${na},${na},${na},${no}\\)$`),np=RegExp(`^hsl\\(${no},${na},${na}\\)$`),nf=RegExp(`^hsla\\(${no},${na},${na},${no}\\)$`),nm={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function ng(){return this.rgb().formatHex()}function ny(){return this.rgb().formatRgb()}function nv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nl.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?nb(e):3===n?new nS(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?nx(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?nx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nh.exec(t))?new nS(e[1],e[2],e[3],1):(e=nc.exec(t))?new nS(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=nu.exec(t))?nx(e[1],e[2],e[3],e[4]):(e=nd.exec(t))?nx(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=np.exec(t))?nP(e[1],e[2]/100,e[3]/100,1):(e=nf.exec(t))?nP(e[1],e[2]/100,e[3]/100,e[4]):nm.hasOwnProperty(t)?nb(nm[t]):"transparent"===t?new nS(NaN,NaN,NaN,0):null}function nb(t){return new nS(t>>16&255,t>>8&255,255&t,1)}function nx(t,e,n,r){return r<=0&&(t=e=n=NaN),new nS(t,e,n,r)}function nw(t){return(t instanceof nn||(t=nv(t)),t)?new nS((t=t.rgb()).r,t.g,t.b,t.opacity):new nS}function nk(t,e,n,r){return 1==arguments.length?nw(t):new nS(t,e,n,null==r?1:r)}function nS(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function nC(){return`#${nT(this.r)}${nT(this.g)}${nT(this.b)}`}function nM(){return`#${nT(this.r)}${nT(this.g)}${nT(this.b)}${nT((isNaN(this.opacity)?1:this.opacity)*255)}`}function nE(){let t=nA(this.opacity);return`${1===t?"rgb(":"rgba("}${n_(this.r)}, ${n_(this.g)}, ${n_(this.b)}${1===t?")":`, ${t})`}`}function nA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function n_(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nT(t){return((t=n_(t))<16?"0":"")+t.toString(16)}function nP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new nO(t,e,n,r)}function nD(t){if(t instanceof nO)return new nO(t.h,t.s,t.l,t.opacity);if(t instanceof nn||(t=nv(t)),!t)return new nO;if(t instanceof nO)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=e===s?(n-r)/a+(n<r)*6:n===s?(r-e)/a+2:(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new nO(o,a,l,t.opacity)}function nN(t,e,n,r){return 1==arguments.length?nD(t):new nO(t,e,n,null==r?1:r)}function nO(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function nI(t){return(t=(t||0)%360)<0?t+360:t}function nL(t){return Math.max(0,Math.min(1,t||0))}function nz(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function nR(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}function nF(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],o=r>0?t[r-1]:2*i-s,a=r<e-1?t[r+2]:2*s-i;return nR((n-r/e)*e,o,i,s,a)}}function nB(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],s=t[r%e],o=t[(r+1)%e],a=t[(r+2)%e];return nR((n-r/e)*e,i,s,o,a)}}nt(nn,nv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ng,formatHex:ng,formatHex8:function t(){return this.rgb().formatHex8()},formatHsl:function t(){return nD(this).formatHsl()},formatRgb:ny,toString:ny}),nt(nS,nk,ne(nn,{brighter(t){return t=null==t?ni:Math.pow(ni,t),new nS(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?nr:Math.pow(nr,t),new nS(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nS(n_(this.r),n_(this.g),n_(this.b),nA(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nC,formatHex:nC,formatHex8:nM,formatRgb:nE,toString:nE})),nt(nO,nN,ne(nn,{brighter(t){return t=null==t?ni:Math.pow(ni,t),new nO(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?nr:Math.pow(nr,t),new nO(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nS(nz(t>=240?t-240:t+120,i,r),nz(t,i,r),nz(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new nO(nI(this.h),nL(this.s),nL(this.l),nA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=nA(this.opacity);return`${1===t?"hsl(":"hsla("}${nI(this.h)}, ${100*nL(this.s)}%, ${100*nL(this.l)}%${1===t?")":`, ${t})`}`}}));let nj=t=>()=>t;function nV(t,e){return function(n){return t+n*e}}function n$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nH(t){return 1==(t*=1)?nq:function(e,n){return n-e?n$(e,n,t):nj(isNaN(e)?n:e)}}function nq(t,e){var n=e-t;return n?nV(t,n):nj(isNaN(t)?e:t)}let nW=function t(e){var n=nH(e);function r(t,e){var r=n((t=nk(t)).r,(e=nk(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),o=nq(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function nK(t){return function(e){var n,r,i=e.length,s=Array(i),o=Array(i),a=Array(i);for(n=0;n<i;++n)r=nk(e[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=t(s),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=a(t),r+""}}}nK(nF),nK(nB);var nU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nJ=RegExp(nU.source,"g");function nG(t){return function(){return t}}function nY(t){return function(e){return t(e)+""}}function nX(t,e){var n,r,i,s=nU.lastIndex=nJ.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=nU.exec(t))&&(r=nJ.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:eZ(n,r)})),s=nJ.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?nY(l[0].x):nG(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}function nZ(t,e){var n;return("number"==typeof e?eZ:e instanceof nv?nW:(n=nv(e))?(e=n,nW):nX)(t,e)}function nQ(t){return function(){this.removeAttribute(t)}}function n0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function n1(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function n2(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function n3(t,e,n){var r,i,s;return function(){var o,a,l=n(this);return null==l?void this.removeAttribute(t):(o=this.getAttribute(t))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l))}}function n4(t,e,n){var r,i,s;return function(){var o,a,l=n(this);return null==l?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l))}}function n5(t,e){var n=to(t),r="transform"===n?e5:nZ;return this.attrTween(t,"function"==typeof e?(n.local?n4:n3)(n,r,e9(this,"attr."+t,e)):null==e?(n.local?n0:nQ)(n):(n.local?n2:n1)(n,r,e))}function n6(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function n7(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function n8(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&n7(t,i)),n}return i._value=e,i}function n9(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&n6(t,i)),n}return i._value=e,i}function rt(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=to(t);return this.tween(n,(r.local?n8:n9)(r,e))}function re(t,e){return function(){eK(this,t).delay=+e.apply(this,arguments)}}function rn(t,e){return e*=1,function(){eK(this,t).delay=e}}function rr(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?re:rn)(e,t)):eJ(this.node(),e).delay}function ri(t,e){return function(){eU(this,t).duration=+e.apply(this,arguments)}}function rs(t,e){return e*=1,function(){eU(this,t).duration=e}}function ro(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ri:rs)(e,t)):eJ(this.node(),e).duration}function ra(t,e){if("function"!=typeof e)throw Error();return function(){eU(this,t).ease=e}}function rl(t){var e=this._id;return arguments.length?this.each(ra(e,t)):eJ(this.node(),e).ease}function rh(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();eU(this,t).ease=n}}function rc(t){if("function"!=typeof t)throw Error();return this.each(rh(this._id,t))}function ru(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],h=0;h<a;++h)(s=o[h])&&t.call(s,s.__data__,h,o)&&l.push(s);return new rj(r,this._parents,this._name,this._id)}function rd(t){if(t._id!==this._id)throw Error();for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=Array(r),a=0;a<s;++a)for(var l,h=e[a],c=n[a],u=h.length,d=o[a]=Array(u),p=0;p<u;++p)(l=h[p]||c[p])&&(d[p]=l);for(;a<r;++a)o[a]=e[a];return new rj(o,this._parents,this._name,this._id)}function rp(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function rf(t,e,n){var r,i,s=rp(e)?eK:eU;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function rm(t,e){var n=this._id;return arguments.length<2?eJ(this.node(),n).on.on(t):this.each(rf(n,t,e))}function rg(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ry(){return this.on("end.remove",rg(this._id))}function rv(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=b(t));for(var r=this._groups,i=r.length,s=Array(i),o=0;o<i;++o)for(var a,l,h=r[o],c=h.length,u=s[o]=Array(c),d=0;d<c;++d)(a=h[d])&&(l=t.call(a,a.__data__,d,h))&&("__data__"in a&&(l.__data__=a.__data__),u[d]=l,eW(u[d],e,n,d,u,eJ(a,n)));return new rj(s,this._parents,e,n)}function rb(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=S(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l,h=r[a],c=h.length,u=0;u<c;++u)if(l=h[u]){for(var d,p=t.call(l,l.__data__,u,h),f=eJ(l,n),m=0,g=p.length;m<g;++m)(d=p[m])&&eW(d,e,n,m,p,f);s.push(p),o.push(l)}return new rj(s,o,e,n)}var rx=t3.prototype.constructor;function rw(){return new rx(this._groups,this._parents)}function rk(t,e){var n,r,i;return function(){var s=tb(this,t),o=(this.style.removeProperty(t),tb(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function rS(t){return function(){this.style.removeProperty(t)}}function rC(t,e,n){var r,i,s=n+"";return function(){var o=tb(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}function rM(t,e,n){var r,i,s;return function(){var o=tb(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=tb(this,t)),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function rE(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var l=eU(this,t),h=l.on,c=null==l.value[o]?s||(s=rS(e)):void 0;(h!==n||i!==c)&&(r=(n=h).copy()).on(a,i=c),l.on=r}}function rA(t,e,n){var r="transform"==(t+="")?e4:nZ;return null==e?this.styleTween(t,rk(t,r)).on("end.style."+t,rS(t)):"function"==typeof e?this.styleTween(t,rM(t,r,e9(this,"style."+t,e))).each(rE(this._id,t)):this.styleTween(t,rC(t,r,e),n).on("end.style."+t,null)}function r_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function rT(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&r_(t,s,n)),r}return s._value=e,s}function rP(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();return this.tween(r,rT(t,e,null==n?"":n))}function rD(t){return function(){this.textContent=t}}function rN(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function rO(t){return this.tween("text","function"==typeof t?rN(e9(this,"text",t)):rD(null==t?"":t+""))}function rI(t){return function(e){this.textContent=t.call(this,e)}}function rL(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&rI(r)),e}return r._value=t,r}function rz(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,rL(t))}function rR(){for(var t=this._name,e=this._id,n=r$(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,h=0;h<l;++h)if(o=a[h]){var c=eJ(o,e);eW(o,t,n,h,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new rj(r,this._parents,t,n)}function rF(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};n.each(function(){var n=eU(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}),0===i&&s()})}var rB=0;function rj(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function rV(t){return t3().transition(t)}function r$(){return++rB}var rH=t3.prototype;rj.prototype=rV.prototype={constructor:rj,select:rv,selectAll:rb,selectChild:rH.selectChild,selectChildren:rH.selectChildren,filter:ru,merge:rd,selection:rw,transition:rR,call:rH.call,nodes:rH.nodes,node:rH.node,size:rH.size,empty:rH.empty,each:rH.each,on:rm,attr:n5,attrTween:rt,style:rA,styleTween:rP,text:rO,textTween:rz,remove:ry,tween:e8,delay:rr,duration:ro,ease:rl,easeVarying:rc,end:rF,[Symbol.iterator]:rH[Symbol.iterator]};var rq={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function rW(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return n}function rK(t){var e,n;t instanceof rj?(e=t._id,t=t._name):(e=r$(),(n=rq).time=eE(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,h=0;h<l;++h)(o=a[h])&&eW(o,t,e,h,a,n||rW(o,e));return new rj(r,this._parents,t,e)}t3.prototype.interrupt=eX,t3.prototype.transition=rK;let rU=t=>()=>t;function rJ(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function rG(t,e,n){this.k=t,this.x=e,this.y=n}rG.prototype={constructor:rG,scale:function(t){return 1===t?this:new rG(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new rG(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rY=new rG(1,0,0);function rX(t){for(;!t.__zoom;)if(!(t=t.parentNode))return rY;return t.__zoom}function rZ(t){t.stopImmediatePropagation()}function rQ(t){t.preventDefault(),t.stopImmediatePropagation()}function r0(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function r1(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function r2(){return this.__zoom||rY}function r3(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function r4(){return navigator.maxTouchPoints||"ontouchstart"in this}function r5(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function r6(){var t,e,n,r=r0,i=r1,s=r5,o=r3,a=r4,l=[0,1/0],h=[[-1/0,-1/0],[1/0,1/0]],c=250,u=ef,d=y("start","zoom","end"),p=500,f=150,m=0,g=10;function v(t){t.property("__zoom",r2).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",_).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new rG(e,t.x,t.y)}function x(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new rG(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function k(t,e,n,r){t.on("start.zoom",function(){S(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(r).end()}).tween("zoom",function(){var t=this,s=arguments,o=S(t,s).event(r),a=i.apply(t,s),l=null==n?w(a):"function"==typeof n?n.apply(t,s):n,h=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,d="function"==typeof e?e.apply(t,s):e,p=u(c.invert(l).concat(h/c.k),d.invert(l).concat(h/d.k));return function(t){if(1===t)t=d;else{var e=p(t),n=h/e[2];t=new rG(n,l[0]-e[0]*n,l[1]-e[1]*n)}o.zoom(null,t)}})}function S(t,e,n){return!n&&t.__zooming||new C(t,e)}function C(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function M(t,...e){if(r.apply(this,arguments)){var n=S(this,e).event(t),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,o.apply(this,arguments)))),c=t6(t);if(n.wheel)(n.mouse[0][0]!==c[0]||n.mouse[0][1]!==c[1])&&(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[c,i.invert(c)],eY(this),n.start()}rQ(t),n.wheel=setTimeout(u,f),n.zoom("mouse",s(x(b(i,a),n.mouse[0],n.mouse[1]),n.extent,h))}function u(){n.wheel=null,n.end()}}function E(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,o=S(this,e,!0).event(t),a=t4(t.view).on("mousemove.zoom",d,!0).on("mouseup.zoom",p,!0),l=t6(t,i),c=t.clientX,u=t.clientY;ee(t.view),rZ(t),o.mouse=[l,this.__zoom.invert(l)],eY(this),o.start()}function d(t){if(rQ(t),!o.moved){var e=t.clientX-c,n=t.clientY-u;o.moved=e*e+n*n>m}o.event(t).zoom("mouse",s(x(o.that.__zoom,o.mouse[0]=t6(t,i),o.mouse[1]),o.extent,h))}function p(t){a.on("mousemove.zoom mouseup.zoom",null),en(t.view,o.moved),rQ(t),o.event(t).end()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,o=t6(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(o),l=n.k*(t.shiftKey?.5:2),u=s(x(b(n,l),o,a),i.apply(this,e),h);rQ(t),c>0?t4(this).transition().duration(c).call(k,u,o,t):t4(this).call(v.transform,u,o,t)}}function _(n,...i){if(r.apply(this,arguments)){var s,o,a,l,h=n.touches,c=h.length,u=S(this,i,n.changedTouches.length===c).event(n);for(rZ(n),o=0;o<c;++o)l=[l=t6(a=h[o],this),this.__zoom.invert(l),a.identifier],u.touch0?u.touch1||u.touch0[2]===l[2]||(u.touch1=l,u.taps=0):(u.touch0=l,s=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),s&&(u.taps<2&&(e=l[0],t=setTimeout(function(){t=null},p)),eY(this),u.start())}}function T(t,...e){if(this.__zooming){var n,r,i,o,a=S(this,e).event(t),l=t.changedTouches,c=l.length;for(rQ(t),n=0;n<c;++n)i=t6(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],p=a.touch1[0],f=a.touch1[1],m=(m=p[0]-u[0])*m+(m=p[1]-u[1])*m,g=(g=f[0]-d[0])*g+(g=f[1]-d[1])*g;r=b(r,Math.sqrt(m/g)),i=[(u[0]+p[0])/2,(u[1]+p[1])/2],o=[(d[0]+f[0])/2,(d[1]+f[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",s(x(r,i,o),a.extent,h))}}function P(t,...r){if(this.__zooming){var i,s,o=S(this,r).event(t),a=t.changedTouches,l=a.length;for(rZ(t),n&&clearTimeout(n),n=setTimeout(function(){n=null},p),i=0;i<l;++i)s=a[i],o.touch0&&o.touch0[2]===s.identifier?delete o.touch0:o.touch1&&o.touch1[2]===s.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(s=t6(s,this),Math.hypot(e[0]-s[0],e[1]-s[1])<g)){var h=t4(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",r2),t!==i?k(t,e,n,r):i.interrupt().each(function(){S(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},v.scaleBy=function(t,e,n,r){v.scaleTo(t,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n},n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,o=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(o),l="function"==typeof e?e.apply(this,arguments):e;return s(x(b(r,l),o,a),t,h)},n,r)},v.translateBy=function(t,e,n,r){v.transform(t,function(){return s(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),h)},null,r)},v.translateTo=function(t,e,n,r,o){v.transform(t,function(){var t=i.apply(this,arguments),o=this.__zoom,a=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return s(rY.translate(a[0],a[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,h)},r,o)},C.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=t4(this.that).datum();d.call(t,this.that,new rJ(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:d}),e)}},v.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:rU(+t),v):o},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:rU(!!t),v):r},v.touchable=function(t){return arguments.length?(a="function"==typeof t?t:rU(!!t),v):a},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:rU([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(h[0][0]=+t[0][0],h[1][0]=+t[1][0],h[0][1]=+t[0][1],h[1][1]=+t[1][1],v):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},v.constrain=function(t){return arguments.length?(s=t,v):s},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=function(t){return arguments.length?(u=t,v):u},v.on=function(){var t=d.on.apply(d,arguments);return t===d?v:t},v.clickDistance=function(t){return arguments.length?(m=(t*=1)*t,v):Math.sqrt(m)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v}function r7(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=Array(i),o=Array(r);for(n=0;n<i;++n)s[n]=ir(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=s[n](t);return o}}function r8(t,e){var n=new Date;return t*=1,e*=1,function(r){return n.setTime(t*(1-r)+e*r),n}}function r9(t,e){var n,r={},i={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=ir(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function it(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}}function ie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ir(t,e){var n,r=typeof e;return null==e||"boolean"===r?nj(e):("number"===r?eZ:"string"===r?(n=nv(e))?(e=n,nW):nX:e instanceof nv?nW:e instanceof Date?r8:ie(e)?it:Array.isArray(e)?r7:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?r9:eZ)(t,e)}rX.prototype=rG.prototype;let ii={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${"source"===t?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},is=[[-1/0,-1/0],[1/0,1/0]],io=["Enter"," ","Escape"],ia={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};!function(t){t.Strict="strict",t.Loose="loose"}(i||(i={})),function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"}(s||(s={})),function(t){t.Partial="partial",t.Full="full"}(o||(o={}));let il={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};!function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"}(a||(a={})),function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"}(l||(l={})),function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"}(h||(h={}));let ih={[h.Left]:h.Right,[h.Right]:h.Left,[h.Top]:h.Bottom,[h.Bottom]:h.Top};function ic(t){return null===t?null:t?"valid":"invalid"}let iu=t=>"id"in t&&"source"in t&&"target"in t,id=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),ip=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),im=(t,e=[0,0])=>{let{width:n,height:r}=iJ(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},ig=(t,e={nodeOrigin:[0,0]})=>0===t.length?{x:0,y:0,width:0,height:0}:iD(t.reduce((t,n)=>{let r="string"==typeof n,i=e.nodeLookup||r?void 0:n;return e.nodeLookup&&(i=r?e.nodeLookup.get(n):ip(n)?n:e.nodeLookup.get(n.id)),iT(t,i?iO(i,e.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),iy=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(t=>{(void 0===e.filter||e.filter(t))&&(n=iT(n,iO(t)),r=!0)}),r?iD(n):{x:0,y:0,width:0,height:0}},iv=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{let a={...ij(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(let e of t.values()){let{measured:t,selectable:n=!0,hidden:r=!1}=e;if(o&&!n||r)continue;let i=t.width??e.width??e.initialWidth??null,h=t.height??e.height??e.initialHeight??null,c=iL(a,iN(e)),u=(i??0)*(h??0),d=s&&c>0;(!e.internals.handleBounds||d||c>=u||e.dragging)&&l.push(e)}return l},ib=(t,e)=>{let n=new Set;return t.forEach(t=>{n.add(t.id)}),e.filter(t=>n.has(t.source)||n.has(t.target))};function ix(t,e){let n=new Map,r=e?.nodes?new Set(e.nodes.map(t=>t.id)):null;return t.forEach(t=>{t.measured.width&&t.measured.height&&(e?.includeHiddenNodes||!t.hidden)&&(!r||r.has(t.id))&&n.set(t.id,t)}),n}async function iw({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(0===t.size)return Promise.resolve(!0);let a=iW(iy(ix(t,o)),e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(a,{duration:o?.duration,ease:o?.ease,interpolate:o?.interpolate}),Promise.resolve(!0)}function ik({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){let o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:h}=a?a.internals.positionAbsolute:{x:0,y:0},c=o.origin??r,u=o.extent||i;if("parent"!==o.extent||o.expandParent)a&&iU(o.extent)&&(u=[[o.extent[0][0]+l,o.extent[0][1]+h],[o.extent[1][0]+l,o.extent[1][1]+h]]);else if(a){let t=a.measured.width,e=a.measured.height;t&&e&&(u=[[l,h],[l+t,h+e]])}else s?.("005",ii.error005());let d=iU(u)?iM(e,u,o.measured):e;return(void 0===o.measured.width||void 0===o.measured.height)&&s?.("015",ii.error015()),{position:{x:d.x-l+(o.measured.width??0)*c[0],y:d.y-h+(o.measured.height??0)*c[1]},positionAbsolute:d}}async function iS({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){let s=new Set(t.map(t=>t.id)),o=[];for(let t of n){if(!1===t.deletable)continue;let e=s.has(t.id),n=!e&&t.parentId&&o.find(e=>e.id===t.parentId);(e||n)&&o.push(t)}let a=new Set(e.map(t=>t.id)),l=r.filter(t=>!1!==t.deletable),h=ib(o,l);for(let t of l)a.has(t.id)&&!h.find(e=>e.id===t.id)&&h.push(t);if(!i)return{edges:h,nodes:o};let c=await i({nodes:o,edges:h});return"boolean"==typeof c?c?{edges:h,nodes:o}:{edges:[],nodes:[]}:c}let iC=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),iM=(t={x:0,y:0},e,n)=>({x:iC(t.x,e[0][0],e[1][0]-(n?.width??0)),y:iC(t.y,e[0][1],e[1][1]-(n?.height??0))});function iE(t,e,n){let{width:r,height:i}=iJ(n),{x:s,y:o}=n.internals.positionAbsolute;return iM(t,[[s,o],[s+r,o+i]],e)}let iA=(t,e,n)=>t<e?iC(Math.abs(t-e),1,e)/e:t>n?-iC(Math.abs(t-n),1,e)/e:0,i_=(t,e,n=15,r=40)=>[iA(t.x,r,e.width-r)*n,iA(t.y,r,e.height-r)*n],iT=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),iP=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),iD=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),iN=(t,e=[0,0])=>{let{x:n,y:r}=ip(t)?t.internals.positionAbsolute:im(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},iO=(t,e=[0,0])=>{let{x:n,y:r}=ip(t)?t.internals.positionAbsolute:im(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},iI=(t,e)=>iD(iT(iP(t),iP(e))),iL=(t,e)=>Math.ceil(Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x))*Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y))),iz=t=>iR(t.width)&&iR(t.height)&&iR(t.x)&&iR(t.y),iR=t=>!isNaN(t)&&isFinite(t),iF=(t,e)=>{},iB=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),ij=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{let a={x:(t-n)/i,y:(e-r)/i};return s?iB(a,o):a},iV=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function i$(t,e){if("number"==typeof t)return Math.floor((e-e/(1+t))*.5);if("string"==typeof t&&t.endsWith("px")){let e=parseFloat(t);if(!Number.isNaN(e))return Math.floor(e)}if("string"==typeof t&&t.endsWith("%")){let n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return 0}function iH(t,e,n){if("string"==typeof t||"number"==typeof t){let r=i$(t,n),i=i$(t,e);return{top:r,right:i,bottom:r,left:i,x:2*i,y:2*r}}if("object"==typeof t){let r=i$(t.top??t.y??0,n),i=i$(t.bottom??t.y??0,n),s=i$(t.left??t.x??0,e),o=i$(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function iq(t,e,n,r,i,s){let{x:o,y:a}=iV(t,[e,n,r]),{x:l,y:h}=iV({x:t.x+t.width,y:t.y+t.height},[e,n,r]);return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(i-l),bottom:Math.floor(s-h)}}let iW=(t,e,n,r,i,s)=>{let o=iH(s,e,n),a=iC(Math.min((e-o.x)/t.width,(n-o.y)/t.height),r,i),l=t.x+t.width/2,h=t.y+t.height/2,c=e/2-l*a,u=n/2-h*a,d=iq(t,c,u,a,e,n),p={left:Math.min(d.left-o.left,0),top:Math.min(d.top-o.top,0),right:Math.min(d.right-o.right,0),bottom:Math.min(d.bottom-o.bottom,0)};return{x:c-p.left+p.right,y:u-p.top+p.bottom,zoom:a}},iK=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function iU(t){return null!=t&&"parent"!==t}function iJ(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function iG(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function iY(t,e={width:0,height:0},n,r,i){let s={...t},o=r.get(n);if(o){let t=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*t[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*t[1]}return s}function iX(t,e){if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}function iZ(){let t,e;return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}}function iQ(t){return{...ia,...t||{}}}function i0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){let{x:s,y:o}=i6(t),a=ij({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:l,y:h}=n?iB(a,e):a;return{xSnapped:l,ySnapped:h,...a}}let i1=t=>({width:t.offsetWidth,height:t.offsetHeight}),i2=t=>t?.getRootNode?.()||window?.document,i3=["INPUT","SELECT","TEXTAREA"];function i4(t){let e=t.composedPath?.()?.[0]||t.target;return e?.nodeType===1&&(i3.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey"))}let i5=t=>"clientX"in t,i6=(t,e)=>{let n=i5(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},i7=(t,e,n,r,i)=>{let s=e.querySelectorAll(`.${t}`);return s&&s.length?Array.from(s).map(e=>{let s=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),type:t,nodeId:i,position:e.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...i1(e)}}):null};function i8({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){let l=.125*t+.375*i+.375*o+.125*n,h=.125*e+.375*s+.375*a+.125*r,c=Math.abs(l-t),u=Math.abs(h-e);return[l,h,c,u]}function i9(t,e){return t>=0?.5*t:25*e*Math.sqrt(-t)}function st({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case h.Left:return[e-i9(e-r,s),n];case h.Right:return[e+i9(r-e,s),n];case h.Top:return[e,n-i9(n-i,s)];case h.Bottom:return[e,n+i9(i-n,s)]}}function se({sourceX:t,sourceY:e,sourcePosition:n=h.Bottom,targetX:r,targetY:i,targetPosition:s=h.Top,curvature:o=.25}){let[a,l]=st({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,u]=st({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,p,f,m]=i8({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${a},${l} ${c},${u} ${r},${i}`,d,p,f,m]}function sn({sourceX:t,sourceY:e,targetX:n,targetY:r}){let i=Math.abs(n-t)/2,s=Math.abs(r-e)/2;return[n<t?n+i:n-i,r<e?r+s:r-s,i,s]}function sr({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){return void 0!==r?r:(i&&n?1e3:0)+Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0)}function si({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){let s=iT(iO(t),iO(e));return s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1),iL({x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]},iD(s))>0}let ss=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,so=(t,e)=>e.some(e=>e.source===t.source&&e.target===t.target&&(e.sourceHandle===t.sourceHandle||!e.sourceHandle&&!t.sourceHandle)&&(e.targetHandle===t.targetHandle||!e.targetHandle&&!t.targetHandle)),sa=(t,e)=>{let n;return t.source&&t.target?so(n=iu(t)?{...t}:{...t,id:ss(t)},e)?e:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,e.concat(n)):(iF("006",ii.error006()),e)};function sl({sourceX:t,sourceY:e,targetX:n,targetY:r}){let[i,s,o,a]=sn({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}let sh={[h.Left]:{x:-1,y:0},[h.Right]:{x:1,y:0},[h.Top]:{x:0,y:-1},[h.Bottom]:{x:0,y:1}},sc=({source:t,sourcePosition:e=h.Bottom,target:n})=>e===h.Left||e===h.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},su=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function sd({source:t,sourcePosition:e=h.Bottom,target:n,targetPosition:r=h.Top,center:i,offset:s,stepPosition:o}){let a,l,c=sh[e],u=sh[r],d={x:t.x+c.x*s,y:t.y+c.y*s},p={x:n.x+u.x*s,y:n.y+u.y*s},f=sc({source:d,sourcePosition:e,target:p}),m=0!==f.x?"x":"y",g=f[m],y=[],v={x:0,y:0},b={x:0,y:0},[,,x,w]=sn({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[m]*u[m]==-1){"x"===m?(a=i.x??d.x+(p.x-d.x)*o,l=i.y??(d.y+p.y)/2):(a=i.x??(d.x+p.x)/2,l=i.y??d.y+(p.y-d.y)*o);let t=[{x:a,y:d.y},{x:a,y:p.y}],e=[{x:d.x,y:l},{x:p.x,y:l}];y=c[m]===g?"x"===m?t:e:"x"===m?e:t}else{let i=[{x:d.x,y:p.y}],o=[{x:p.x,y:d.y}];if(y="x"===m?c.x===g?o:i:c.y===g?i:o,e===r){let e=Math.abs(t[m]-n[m]);if(e<=s){let r=Math.min(s-1,s-e);c[m]===g?v[m]=(d[m]>t[m]?-1:1)*r:b[m]=(p[m]>n[m]?-1:1)*r}}if(e!==r){let t="x"===m?"y":"x",e=c[m]===u[t],n=d[t]>p[t],r=d[t]<p[t];(1===c[m]&&(!e&&n||e&&r)||1!==c[m]&&(!e&&r||e&&n))&&(y="x"===m?i:o)}let h={x:d.x+v.x,y:d.y+v.y},f={x:p.x+b.x,y:p.y+b.y};Math.max(Math.abs(h.x-y[0].x),Math.abs(f.x-y[0].x))>=Math.max(Math.abs(h.y-y[0].y),Math.abs(f.y-y[0].y))?(a=(h.x+f.x)/2,l=y[0].y):(a=y[0].x,l=(h.y+f.y)/2)}return[[t,{x:d.x+v.x,y:d.y+v.y},...y,{x:p.x+b.x,y:p.y+b.y},n],a,l,x,w]}function sp(t,e,n,r){let i=Math.min(su(t,e)/2,su(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){let e=t.x<n.x?-1:1,r=t.y<n.y?1:-1;return`L ${s+i*e},${o}Q ${s},${o} ${s},${o+i*r}`}let a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function sf({sourceX:t,sourceY:e,sourcePosition:n=h.Bottom,targetX:r,targetY:i,targetPosition:s=h.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20,stepPosition:u=.5}){let[d,p,f,m,g]=sd({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:u});return[d.reduce((t,e,n)=>{let r="";return t+(r=n>0&&n<d.length-1?sp(d[n-1],e,d[n+1],o):`${0===n?"M":"L"}${e.x} ${e.y}`)},""),p,f,m,g]}function sm(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function sg(t){let{sourceNode:e,targetNode:n}=t;if(!sm(e)||!sm(n))return null;let r=e.internals.handleBounds||sy(e.handles),s=n.internals.handleBounds||sy(n.handles),o=sb(r?.source??[],t.sourceHandle),a=sb(t.connectionMode===i.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),t.targetHandle);if(!o||!a)return t.onError?.("008",ii.error008(!o?"source":"target",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;let l=o?.position||h.Bottom,c=a?.position||h.Top,u=sv(e,o,l),d=sv(n,a,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function sy(t){if(!t)return null;let e=[],n=[];for(let r of t)r.width=r.width??1,r.height=r.height??1,"source"===r.type?e.push(r):"target"===r.type&&n.push(r);return{source:e,target:n}}function sv(t,e,n=h.Left,r=!1){let i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??iJ(t);if(r)return{x:i+o/2,y:s+a/2};switch(e?.position??n){case h.Top:return{x:i+o/2,y:s};case h.Right:return{x:i+o,y:s+a/2};case h.Bottom:return{x:i+o/2,y:s+a};case h.Left:return{x:i,y:s+a/2}}}function sb(t,e){return t&&(e?t.find(t=>t.id===e):t[0])||null}function sx(t,e){if(!t)return"";if("string"==typeof t)return t;let n=e?`${e}__`:"";return`${n}${Object.keys(t).sort().map(e=>`${e}=${t[e]}`).join("&")}`}function sw(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){let s=new Set;return t.reduce((t,o)=>([o.markerStart||r,o.markerEnd||i].forEach(r=>{if(r&&"object"==typeof r){let i=sx(r,e);s.has(i)||(t.push({id:i,color:r.color||n,...r}),s.add(i))}}),t),[]).sort((t,e)=>t.id.localeCompare(e.id))}let sk=1e3,sS=10,sC={nodeOrigin:[0,0],nodeExtent:is,elevateNodesOnSelect:!0,defaults:{}},sM={...sC,checkEquality:!0};function sE(t,e){let n={...t};for(let t in e)void 0!==e[t]&&(n[t]=e[t]);return n}function sA(t,e,n){let r=sE(sC,n);for(let n of t.values())if(n.parentId)sD(n,t,e,r);else{let t=iM(im(n,r.nodeOrigin),iU(n.extent)?n.extent:r.nodeExtent,iJ(n));n.internals.positionAbsolute=t}}function s_(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;let n=[],r=[];for(let e of t.handles){let i={id:e.id,width:e.width??1,height:e.height??1,nodeId:t.id,x:e.x,y:e.y,position:e.position,type:e.type};"source"===e.type?n.push(i):"target"===e.type&&r.push(i)}return{source:n,target:r}}function sT(t,e,n,r){let i=sE(sM,r),s={i:-1},o=t.length>0,a=new Map(e),l=i?.elevateNodesOnSelect?sk:0;for(let h of(e.clear(),n.clear(),t)){let t=a.get(h.id);if(i.checkEquality&&h===t?.internals.userNode)e.set(h.id,t);else{let n=iM(im(h,i.nodeOrigin),iU(h.extent)?h.extent:i.nodeExtent,iJ(h));t={...i.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:n,handleBounds:s_(h,t),z:sN(h,l),userNode:h}},e.set(h.id,t)}void 0!==t.measured&&void 0!==t.measured.width&&void 0!==t.measured.height||t.hidden||(o=!1),h.parentId&&sD(t,e,n,r,s)}return o}function sP(t,e){if(!t.parentId)return;let n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function sD(t,e,n,r,i){let{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a}=sE(sC,r),l=t.parentId,h=e.get(l);if(!h)return;sP(t,n),i&&!h.parentId&&void 0===h.internals.rootParentIndex&&(h.internals.rootParentIndex=++i.i,h.internals.z=h.internals.z+i.i*sS),i&&void 0!==h.internals.rootParentIndex&&(i.i=h.internals.rootParentIndex);let{x:c,y:u,z:d}=sO(t,h,o,a,s?sk:0),{positionAbsolute:p}=t.internals,f=c!==p.x||u!==p.y;(f||d!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:f?{x:c,y:u}:p,z:d}})}function sN(t,e){return(iR(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function sO(t,e,n,r,i){let{x:s,y:o}=e.internals.positionAbsolute,a=iJ(t),l=im(t,n),h=iU(t.extent)?iM(l,t.extent,a):l,c=iM({x:s+h.x,y:o+h.y},r,a);"parent"===t.extent&&(c=iE(c,a,e));let u=sN(t,i),d=e.internals.z??0;return{x:c.x,y:c.y,z:d>=u?d+1:u}}function sI(t,e,n,r=[0,0]){let i=[],s=new Map;for(let n of t){let t=e.get(n.parentId);if(!t)continue;let r=iI(s.get(n.parentId)?.expandedRect??iN(t),n.rect);s.set(n.parentId,{expandedRect:r,parent:t})}return s.size>0&&s.forEach(({expandedRect:e,parent:s},o)=>{let a=s.internals.positionAbsolute,l=iJ(s),h=s.origin??r,c=e.x<a.x?Math.round(Math.abs(a.x-e.x)):0,u=e.y<a.y?Math.round(Math.abs(a.y-e.y)):0,d=Math.max(l.width,Math.round(e.width)),p=Math.max(l.height,Math.round(e.height)),f=(d-l.width)*h[0],m=(p-l.height)*h[1];(c>0||u>0||f||m)&&(i.push({id:o,type:"position",position:{x:s.position.x-c+f,y:s.position.y-u+m}}),n.get(o)?.forEach(e=>{t.some(t=>t.id===e.id)||i.push({id:e.id,type:"position",position:{x:e.position.x+c,y:e.position.y+u}})})),(l.width<e.width||l.height<e.height||c||u)&&i.push({id:o,type:"dimensions",setAttributes:!0,dimensions:{width:d+(c?h[0]*c-f:0),height:p+(u?h[1]*u-m:0)}})}),i}function sL(t,e,n,r,i,s){let o=r?.querySelector(".xyflow__viewport"),a=!1;if(!o)return{changes:[],updatedInternals:a};let l=[],h=window.getComputedStyle(o),{m22:c}=new window.DOMMatrixReadOnly(h.transform),u=[];for(let r of t.values()){let t=e.get(r.id);if(!t)continue;if(t.hidden){e.set(t.id,{...t,internals:{...t.internals,handleBounds:void 0}}),a=!0;continue}let o=i1(r.nodeElement),h=t.measured.width!==o.width||t.measured.height!==o.height;if(o.width&&o.height&&(h||!t.internals.handleBounds||r.force)){let d=r.nodeElement.getBoundingClientRect(),p=iU(t.extent)?t.extent:s,{positionAbsolute:f}=t.internals;t.parentId&&"parent"===t.extent?f=iE(f,o,e.get(t.parentId)):p&&(f=iM(f,p,o));let m={...t,measured:o,internals:{...t.internals,positionAbsolute:f,handleBounds:{source:i7("source",r.nodeElement,d,c,t.id),target:i7("target",r.nodeElement,d,c,t.id)}}};e.set(t.id,m),t.parentId&&sD(m,e,n,{nodeOrigin:i}),a=!0,h&&(l.push({id:t.id,type:"dimensions",dimensions:o}),t.expandParent&&t.parentId&&u.push({id:t.id,parentId:t.parentId,rect:iN(m,i)}))}}if(u.length>0){let t=sI(u,e,n,i);l.push(...t)}return{changes:l,updatedInternals:a}}async function sz({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);let o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r);return Promise.resolve(!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]))}function sR(t,e,n,r,i,s){let o=i,a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;let l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;let a=r.get(o)||new Map;r.set(o,a.set(n,e))}}function sF(t,e,n){for(let r of(t.clear(),e.clear(),n)){let{source:n,target:i,sourceHandle:s=null,targetHandle:o=null}=r,a={edgeId:r.id,source:n,target:i,sourceHandle:s,targetHandle:o},l=`${n}-${s}--${i}-${o}`;sR("source",a,`${i}-${o}--${n}-${s}`,t,n,s),sR("target",a,l,t,i,o),e.set(r.id,r)}}function sB(t,e){if(!t.parentId)return!1;let n=e.get(t.parentId);return!!n&&(!!n.selected||sB(n,e))}function sj(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)break;r=r?.parentElement}while(r);return!1}function sV(t,e,n,r){let i=new Map;for(let[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!sB(o,t))&&(o.draggable||e&&void 0===o.draggable)){let e=t.get(s);e&&i.set(s,{id:s,position:e.position||{x:0,y:0},distance:{x:n.x-e.internals.positionAbsolute.x,y:n.y-e.internals.positionAbsolute.y},extent:e.extent,parentId:e.parentId,origin:e.origin,expandParent:e.expandParent,internals:{positionAbsolute:e.internals.positionAbsolute||{x:0,y:0}},measured:{width:e.measured.width??0,height:e.measured.height??0}})}return i}function s$({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){let i=[];for(let[t,s]of e){let e=n.get(t)?.internals.userNode;e&&i.push({...e,position:s.position,dragging:r})}if(!t)return[i[0],i];let s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function sH({dragItems:t,snapGrid:e,x:n,y:r}){let i=t.values().next().value;if(!i)return null;let s={x:n-i.distance.x,y:r-i.distance.y},o=iB(s,e);return{x:o.x-s.x,y:o.y-s.y}}function sq({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,h={x:0,y:0},c=null,u=!1,d=null,p=!1,f=!1,m=null;return{update:function({noDragClassName:g,handleSelector:y,domNode:v,isSelectable:b,nodeId:x,nodeClickDistance:w=0}){function k({x:t,y:n}){let{nodeLookup:i,nodeExtent:o,snapGrid:l,snapToGrid:h,nodeOrigin:c,onNodeDrag:u,onSelectionDrag:d,onError:p,updateNodePositions:g}=e();s={x:t,y:n};let y=!1,v=a.size>1,b=v&&o?iP(iy(a)):null,w=v&&h?sH({dragItems:a,snapGrid:l,x:t,y:n}):null;for(let[e,r]of a){if(!i.has(e))continue;let s={x:t-r.distance.x,y:n-r.distance.y};h&&(s=w?{x:Math.round(s.x+w.x),y:Math.round(s.y+w.y)}:iB(s,l));let a=null;if(v&&o&&!r.extent&&b){let{positionAbsolute:t}=r.internals,e=t.x-b.x+o[0][0],n=t.x+r.measured.width-b.x2+o[1][0];a=[[e,t.y-b.y+o[0][1]],[n,t.y+r.measured.height-b.y2+o[1][1]]]}let{position:u,positionAbsolute:d}=ik({nodeId:e,nextPosition:s,nodeLookup:i,nodeExtent:a||o,nodeOrigin:c,onError:p});y=y||r.position.x!==u.x||r.position.y!==u.y,r.position=u,r.internals.positionAbsolute=d}if(f=f||y,y&&(g(a,!0),m&&(r||u||!x&&d))){let[t,e]=s$({nodeId:x,dragItems:a,nodeLookup:i});r?.(m,a,t,e),u?.(m,t,e),x||d?.(m,e)}}async function S(){if(!c)return;let{transform:t,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:i}=e();if(!i){l=!1,cancelAnimationFrame(o);return}let[a,u]=i_(h,c,r);(0!==a||0!==u)&&(s.x=(s.x??0)-a/t[2],s.y=(s.y??0)-u/t[2],await n({x:a,y:u})&&k(s)),o=requestAnimationFrame(S)}function C(r){let{nodeLookup:i,multiSelectionActive:o,nodesDraggable:l,transform:h,snapGrid:d,snapToGrid:p,selectNodesOnDrag:f,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:y}=e();u=!0,f&&b||o||!x||i.get(x)?.selected||y(),b&&f&&x&&t?.(x);let v=i0(r.sourceEvent,{transform:h,snapGrid:d,snapToGrid:p,containerBounds:c});if(s=v,(a=sV(i,l,v,x)).size>0&&(n||m||!x&&g)){let[t,e]=s$({nodeId:x,dragItems:a,nodeLookup:i});n?.(r.sourceEvent,a,t,e),m?.(r.sourceEvent,t,e),x||g?.(r.sourceEvent,e)}}d=t4(v);let M=eh().clickDistance(w).on("start",t=>{let{domNode:n,nodeDragThreshold:r,transform:i,snapGrid:o,snapToGrid:a}=e();c=n?.getBoundingClientRect()||null,p=!1,f=!1,m=t.sourceEvent,0===r&&C(t),s=i0(t.sourceEvent,{transform:i,snapGrid:o,snapToGrid:a,containerBounds:c}),h=i6(t.sourceEvent,c)}).on("drag",t=>{let{autoPanOnNodeDrag:n,transform:r,snapGrid:i,snapToGrid:o,nodeDragThreshold:d,nodeLookup:f}=e(),g=i0(t.sourceEvent,{transform:r,snapGrid:i,snapToGrid:o,containerBounds:c});if(m=t.sourceEvent,("touchmove"===t.sourceEvent.type&&t.sourceEvent.touches.length>1||x&&!f.has(x))&&(p=!0),!p){if(!l&&n&&u&&(l=!0,S()),!u){let e=i6(t.sourceEvent,c),n=e.x-h.x,r=e.y-h.y;Math.sqrt(n*n+r*r)>d&&C(t)}(s.x!==g.xSnapped||s.y!==g.ySnapped)&&a&&u&&(h=i6(t.sourceEvent,c),k(g))}}).on("end",t=>{if(u&&!p&&(l=!1,u=!1,cancelAnimationFrame(o),a.size>0)){let{nodeLookup:n,updateNodePositions:r,onNodeDragStop:s,onSelectionDragStop:o}=e();if(f&&(r(a,!1),f=!1),i||s||!x&&o){let[e,r]=s$({nodeId:x,dragItems:a,nodeLookup:n,dragging:!1});i?.(t.sourceEvent,a,e,r),s?.(t.sourceEvent,e,r),x||o?.(t.sourceEvent,r)}}}).filter(t=>{let e=t.target;return!t.button&&(!g||!sj(e,`.${g}`,v))&&(!y||sj(e,y,v))});d.call(M)},destroy:function(){d?.on(".drag",null)}}}function sW(t,e,n){let r=[],i={x:t.x-n,y:t.y-n,width:2*n,height:2*n};for(let t of e.values())iL(i,iN(t))>0&&r.push(t);return r}let sK=250;function sU(t,e,n,r){let i=[],s=1/0;for(let o of sW(t,n,e+sK))for(let n of[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]]){if(r.nodeId===n.nodeId&&r.type===n.type&&r.id===n.id)continue;let{x:a,y:l}=sv(o,n,n.position,!0),h=Math.sqrt(Math.pow(a-t.x,2)+Math.pow(l-t.y,2));h>e||(h<s?(i=[{...n,x:a,y:l}],s=h):h===s&&i.push({...n,x:a,y:l}))}if(!i.length)return null;if(i.length>1){let t="source"===r.type?"target":"source";return i.find(e=>e.type===t)??i[0]}return i[0]}function sJ(t,e,n,r,i,s=!1){let o=r.get(t);if(!o)return null;let a="strict"===i?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],l=(n?a?.find(t=>t.id===n):a?.[0])??null;return l&&s?{...l,...sv(o,l,l.position,!0)}:l}function sG(t,e){return t?t:e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null}function sY(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}let sX=()=>!0;function sZ(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:o,doc:a,lib:l,flowId:h,isValidConnection:c=sX,nodeLookup:u}){let d="target"===o,p=e?a.querySelector(`.${l}-flow__handle[data-id="${h}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:f,y:m}=i6(t),g=a.elementFromPoint(f,m),y=g?.classList.contains(`${l}-flow__handle`)?g:p,v={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){let t=sG(void 0,y),e=y.getAttribute("data-nodeid"),o=y.getAttribute("data-handleid"),a=y.classList.contains("connectable"),l=y.classList.contains("connectableend");if(!e||!t)return v;let h={source:d?e:r,sourceHandle:d?o:s,target:d?r:e,targetHandle:d?s:o};v.connection=h,v.isValid=a&&l&&(n===i.Strict?d&&"source"===t||!d&&"target"===t:e!==r||o!==s)&&c(h),v.toHandle=sJ(e,t,o,u,n,!0)}return v}let sQ={onPointerDown:function(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:p,cancelConnection:f,onConnectStart:m,onConnect:g,onConnectEnd:y,isValidConnection:v=sX,onReconnectEnd:b,updateConnection:x,getTransform:w,getFromHandle:k,autoPanSpeed:S,dragThreshold:C=1,handleDomNode:M}){let E,A=i2(t.target),_=0,{x:T,y:P}=i6(t),D=sG(s,M),N=a?.getBoundingClientRect(),O=!1;if(!N||!D)return;let I=sJ(i,D,r,l,e);if(!I)return;let L=i6(t,N),z=!1,R=null,F=!1,B=null;function j(){if(!u||!N)return;let[t,e]=i_(L,N,S);p({x:t,y:e}),_=requestAnimationFrame(j)}let V={...I,nodeId:i,type:D,position:I.position},$=l.get(i),H={inProgress:!0,isValid:null,from:sv($,V,h.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:$,to:L,toHandle:null,toPosition:ih[V.position],toNode:null,pointer:L};function q(){O=!0,x(H),m?.(t,{nodeId:i,handleId:r,handleType:D})}function W(t){if(!O){let{x:e,y:n}=i6(t),r=e-T,i=n-P;if(!(r*r+i*i>C*C))return;q()}if(!k()||!V)return void K(t);let s=w();E=sU(ij(L=i6(t,N),s,!1,[1,1]),n,l,V),z||(j(),z=!0);let a=sZ(t,{handle:E,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:v,doc:A,lib:c,flowId:d,nodeLookup:l});B=a.handleDomNode,R=a.connection,F=sY(!!E,a.isValid);let h={...H,isValid:F,to:a.toHandle&&F?iV({x:a.toHandle.x,y:a.toHandle.y},s):L,toHandle:a.toHandle,toPosition:F&&a.toHandle?a.toHandle.position:ih[V.position],toNode:a.toHandle?l.get(a.toHandle.nodeId):null,pointer:L};x(h),H=h}function K(t){if(!("touches"in t)||!(t.touches.length>0)){if(O){(E||B)&&R&&F&&g?.(R);let{inProgress:e,...n}=H,r={...n,toPosition:H.toHandle?H.toPosition:null};y?.(t,r),s&&b?.(t,r)}f(),cancelAnimationFrame(_),z=!1,F=!1,R=null,B=null,A.removeEventListener("mousemove",W),A.removeEventListener("mouseup",K),A.removeEventListener("touchmove",W),A.removeEventListener("touchend",K)}}0===C&&q(),A.addEventListener("mousemove",W),A.addEventListener("mouseup",K),A.addEventListener("touchmove",W),A.addEventListener("touchend",K)},isValid:sZ};function s0({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){let i=t4(t);return{update:function({translateExtent:t,width:s,height:o,zoomStep:a=1,pannable:l=!0,zoomable:h=!0,inversePan:c=!1}){let u=t=>{if("wheel"!==t.sourceEvent.type||!e)return;let r=n(),i=t.sourceEvent.ctrlKey&&iK()?10:1,s=-t.sourceEvent.deltaY*(1===t.sourceEvent.deltaMode?.05:t.sourceEvent.deltaMode?1:.002)*a,o=r[2]*Math.pow(2,s*i);e.scaleTo(o)},d=[0,0],p=t=>{("mousedown"===t.sourceEvent.type||"touchstart"===t.sourceEvent.type)&&(d=[t.sourceEvent.clientX??t.sourceEvent.touches[0].clientX,t.sourceEvent.clientY??t.sourceEvent.touches[0].clientY])},f=i=>{let a=n();if("mousemove"!==i.sourceEvent.type&&"touchmove"!==i.sourceEvent.type||!e)return;let l=[i.sourceEvent.clientX??i.sourceEvent.touches[0].clientX,i.sourceEvent.clientY??i.sourceEvent.touches[0].clientY],h=[l[0]-d[0],l[1]-d[1]];d=l;let u=r()*Math.max(a[2],Math.log(a[2]))*(c?-1:1),p={x:a[0]-h[0]*u,y:a[1]-h[1]*u},f=[[0,0],[s,o]];e.setViewportConstrained({x:p.x,y:p.y,zoom:a[2]},f,t)},m=r6().on("start",p).on("zoom",l?f:null).on("zoom.wheel",h?u:null);i.call(m,{})},destroy:function(){i.on("zoom",null)},pointer:t6}}let s1=t=>({x:t.x,y:t.y,zoom:t.k}),s2=({x:t,y:e,zoom:n})=>rY.translate(t,e).scale(n),s3=(t,e)=>t.target.closest(`.${e}`),s4=(t,e)=>2===e&&Array.isArray(t)&&t.includes(2),s5=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,s6=(t,e=0,n=s5,r=()=>{})=>{let i="number"==typeof e&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},s7=t=>{let e=t.ctrlKey&&iK()?10:1;return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*e};function s8({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:l,onPanZoom:h,onPanZoomEnd:c}){return u=>{if(s3(u,e))return u.ctrlKey&&u.preventDefault(),!1;u.preventDefault(),u.stopImmediatePropagation();let d=n.property("__zoom").k||1;if(u.ctrlKey&&a){let t=t6(u),e=d*Math.pow(2,s7(u));r.scaleTo(n,e,t,u);return}let p=1===u.deltaMode?20:1,f=i===s.Vertical?0:u.deltaX*p,m=i===s.Horizontal?0:u.deltaY*p;!iK()&&u.shiftKey&&i!==s.Vertical&&(f=u.deltaY*p,m=0),r.translateBy(n,-(f/d)*o,-(m/d)*o,{internal:!0});let g=s1(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h?.(u,g),t.panScrollTimeout=setTimeout(()=>{c?.(u,g),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,l?.(u,g))}}function s9({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){let s="wheel"===r.type,o=!e&&s&&!r.ctrlKey,a=s3(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function ot({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;let i=s1(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function oe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&s4(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,s1(s.transform))}}function on({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&s4(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){let e=s1(o.transform);t.prevViewport=e,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,e)},150*!!n)}}}function or({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:h,connectionInProgress:c}){return u=>{let d=t||e,p=n&&u.ctrlKey,f="wheel"===u.type;if(1===u.button&&"mousedown"===u.type&&(s3(u,`${h}-flow__node`)||s3(u,`${h}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||c&&!f||s3(u,a)&&f||s3(u,l)&&(!f||i&&f&&!t)||!n&&u.ctrlKey&&f)return!1;if(!n&&"touchstart"===u.type&&u.touches?.length>1)return u.preventDefault(),!1;if(!d&&!i&&!p&&f||!r&&("mousedown"===u.type||"touchstart"===u.type)||Array.isArray(r)&&!r.includes(u.button)&&"mousedown"===u.type)return!1;let m=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||f)&&m}}function oi({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:l}){let h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=t.getBoundingClientRect(),u=r6().scaleExtent([e,n]).translateExtent(r),d=t4(t).call(u);y({x:i.x,y:i.y,zoom:iC(i.zoom,e,n)},[[0,0],[c.width,c.height]],r);let p=d.on("wheel.zoom"),f=d.on("dblclick.zoom");function m(t,e){return d?new Promise(n=>{u?.interpolate(e?.interpolate==="linear"?ir:ef).transform(s6(d,e?.duration,e?.ease,()=>n(!0)),t)}):Promise.resolve(!1)}function g(){u.on("zoom",null)}async function y(t,e,n){let r=s2(t),i=u?.constrain()(r,e,n);return i&&await m(i),new Promise(t=>t(i))}return u.wheelDelta(s7),{update:function({noWheelClassName:t,noPanClassName:e,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:i,panOnDrag:c,panOnScrollMode:m,panOnScrollSpeed:y,preventScrolling:v,zoomOnPinch:b,zoomOnScroll:x,zoomOnDoubleClick:w,zoomActivationKeyPressed:k,lib:S,onTransformChange:C,connectionInProgress:M,paneClickDistance:E,selectionOnDrag:A}){r&&!h.isZoomingOrPanning&&g();let _=i&&!k&&!r;u.clickDistance(A?1/0:!iR(E)||E<0?0:E);let T=_?s8({zoomPanValues:h,noWheelClassName:t,d3Selection:d,d3Zoom:u,panOnScrollMode:m,panOnScrollSpeed:y,zoomOnPinch:b,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a}):s9({noWheelClassName:t,preventScrolling:v,d3ZoomHandler:p});if(d.on("wheel.zoom",T,{passive:!1}),!r){let t=ot({zoomPanValues:h,onDraggingChange:l,onPanZoomStart:o});u.on("start",t);let e=oe({zoomPanValues:h,panOnDrag:c,onPaneContextMenu:!!n,onPanZoom:s,onTransformChange:C});u.on("zoom",e);let r=on({zoomPanValues:h,panOnDrag:c,panOnScroll:i,onPaneContextMenu:n,onPanZoomEnd:a,onDraggingChange:l});u.on("end",r)}let P=or({zoomActivationKeyPressed:k,panOnDrag:c,zoomOnScroll:x,panOnScroll:i,zoomOnDoubleClick:w,zoomOnPinch:b,userSelectionActive:r,noPanClassName:e,noWheelClassName:t,lib:S,connectionInProgress:M});u.filter(P),w?d.on("dblclick.zoom",f):d.on("dblclick.zoom",null)},destroy:g,setViewport:async function(t,e){let n=s2(t);return await m(n,e),new Promise(t=>t(n))},setViewportConstrained:y,getViewport:function(){let t=d?rX(d.node()):{x:0,y:0,k:1};return{x:t.x,y:t.y,zoom:t.k}},scaleTo:function(t,e){return d?new Promise(n=>{u?.interpolate(e?.interpolate==="linear"?ir:ef).scaleTo(s6(d,e?.duration,e?.ease,()=>n(!0)),t)}):Promise.resolve(!1)},scaleBy:function(t,e){return d?new Promise(n=>{u?.interpolate(e?.interpolate==="linear"?ir:ef).scaleBy(s6(d,e?.duration,e?.ease,()=>n(!0)),t)}):Promise.resolve(!1)},setScaleExtent:function(t){u?.scaleExtent(t)},setTranslateExtent:function(t){u?.translateExtent(t)},syncViewport:function(t){if(d){let e=s2(t),n=d.property("__zoom");(n.k!==t.zoom||n.x!==t.x||n.y!==t.y)&&u?.transform(d,e,null,{sync:!0})}},setClickDistance:function(t){let e=!iR(t)||t<0?0:t;u?.clickDistance(e)}}}function oo({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){let o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=-1*l[0]),a&&s&&(l[1]=-1*l[1]),l}function oa(t){let e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:t.includes("left"),affectsY:t.includes("top")}}function ol(t,e){return Math.max(0,e-t)}function oh(t,e){return Math.max(0,t-e)}function oc(t,e,n){return Math.max(0,e-t,t-n)}function ou(t,e){return t?!e:e}function od(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:h}=e,{isHorizontal:c,isVertical:u}=e,d=c&&u,{xSnapped:p,ySnapped:f}=n,{minWidth:m,maxWidth:g,minHeight:y,maxHeight:v}=r,{x:b,y:x,width:w,height:k,aspectRatio:S}=t,C=Math.floor(c?p-t.pointerX:0),M=Math.floor(u?f-t.pointerY:0),E=w+(l?-C:C),A=k+(h?-M:M),_=-s[0]*w,T=-s[1]*k,P=oc(E,m,g),D=oc(A,y,v);if(o){let t=0,e=0;l&&C<0?t=ol(b+C+_,o[0][0]):!l&&C>0&&(t=oh(b+E+_,o[1][0])),h&&M<0?e=ol(x+M+T,o[0][1]):!h&&M>0&&(e=oh(x+A+T,o[1][1])),P=Math.max(P,t),D=Math.max(D,e)}if(a){let t=0,e=0;l&&C>0?t=oh(b+C,a[0][0]):!l&&C<0&&(t=ol(b+E,a[1][0])),h&&M>0?e=oh(x+M,a[0][1]):!h&&M<0&&(e=ol(x+A,a[1][1])),P=Math.max(P,t),D=Math.max(D,e)}if(i){if(c){if(P=Math.max(P,oc(E/S,y,v)*S),o){let t=0;P=Math.max(P,t=(l||h)&&(!l||h||!d)?ol(x+T+(l?C:-C)/S,o[0][1])*S:oh(x+T+E/S,o[1][1])*S)}if(a){let t=0;P=Math.max(P,t=(l||h)&&(!l||h||!d)?oh(x+(l?C:-C)/S,a[0][1])*S:ol(x+E/S,a[1][1])*S)}}if(u){if(D=Math.max(D,oc(A*S,m,g)/S),o){let t=0;D=Math.max(D,t=(l||h)&&(!h||l||!d)?ol(b+(h?M:-M)*S+_,o[0][0])/S:oh(b+A*S+_,o[1][0])/S)}if(a){let t=0;D=Math.max(D,t=(l||h)&&(!h||l||!d)?oh(b+(h?M:-M)*S,a[0][0])/S:ol(b+A*S,a[1][0])/S)}}}M+=M<0?D:-D,C+=C<0?P:-P,i&&(d?E>A*S?M=(ou(l,h)?-C:C)/S:C=(ou(l,h)?-M:M)*S:c?(M=C/S,h=l):(C=M*S,l=h));let N=l?b+C:b,O=h?x+M:x;return{width:w+(l?-C:C),height:k+(h?-M:M),x:s[0]*C*(l?-1:1)+N,y:s[1]*M*(h?-1:1)+O}}!function(t){t.Line="line",t.Handle="handle"}(c||(c={}));let op={width:0,height:0,x:0,y:0},of={...op,pointerX:0,pointerY:0,aspectRatio:1};function om(t){return[[0,0],[t.measured.width,t.measured.height]]}function og(t,e,n){let r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function oy({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){let s=t4(t),o={controlDirection:oa("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};return{update:function({controlPosition:t,boundaries:a,keepAspectRatio:l,resizeDirection:h,onResizeStart:c,onResize:u,onResizeEnd:d,shouldResize:p}){let f,m,g,y,v={...op},b={...of};o={boundaries:a,resizeDirection:h,keepAspectRatio:l,controlDirection:oa(t)};let x=null,w=[],k=!1,S=eh().on("start",t=>{let{nodeLookup:r,transform:i,snapGrid:s,snapToGrid:o,nodeOrigin:a,paneDomNode:l}=n();if(!(f=r.get(e)))return;x=l?.getBoundingClientRect()??null;let{xSnapped:h,ySnapped:u}=i0(t.sourceEvent,{transform:i,snapGrid:s,snapToGrid:o,containerBounds:x});for(let[t,n]of(b={...v={width:f.measured.width??0,height:f.measured.height??0,x:f.position.x??0,y:f.position.y??0},pointerX:h,pointerY:u,aspectRatio:v.width/v.height},m=void 0,f.parentId&&("parent"===f.extent||f.expandParent)&&(g=(m=r.get(f.parentId))&&"parent"===f.extent?om(m):void 0),w=[],y=void 0,r))if(n.parentId===e&&(w.push({id:t,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){let t=og(n,f,n.origin??a);y=y?[[Math.min(t[0][0],y[0][0]),Math.min(t[0][1],y[0][1])],[Math.max(t[1][0],y[1][0]),Math.max(t[1][1],y[1][1])]]:t}c?.(t,{...v})}).on("drag",t=>{let{transform:e,snapGrid:i,snapToGrid:s,nodeOrigin:a}=n(),l=i0(t.sourceEvent,{transform:e,snapGrid:i,snapToGrid:s,containerBounds:x}),h=[];if(!f)return;let{x:c,y:d,width:S,height:C}=v,M={},E=f.origin??a,{width:A,height:_,x:T,y:P}=od(b,o.controlDirection,l,o.boundaries,o.keepAspectRatio,E,g,y),D=A!==S,N=_!==C,O=T!==c&&D,I=P!==d&&N;if(!O&&!I&&!D&&!N)return;if((O||I||1===E[0]||1===E[1])&&(M.x=O?T:v.x,M.y=I?P:v.y,v.x=M.x,v.y=M.y,w.length>0)){let t=T-c,e=P-d;for(let n of w)n.position={x:n.position.x-t+E[0]*(A-S),y:n.position.y-e+E[1]*(_-C)},h.push(n)}if((D||N)&&(M.width=D&&(!o.resizeDirection||"horizontal"===o.resizeDirection)?A:v.width,M.height=N&&(!o.resizeDirection||"vertical"===o.resizeDirection)?_:v.height,v.width=M.width,v.height=M.height),m&&f.expandParent){let t=E[0]*(M.width??0);M.x&&M.x<t&&(v.x=t,b.x=b.x-(M.x-t));let e=E[1]*(M.height??0);M.y&&M.y<e&&(v.y=e,b.y=b.y-(M.y-e))}let L=oo({width:v.width,prevWidth:S,height:v.height,prevHeight:C,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),z={...v,direction:L};!1!==p?.(t,z)&&(k=!0,u?.(t,z),r(M,h))}).on("end",t=>{k&&(d?.(t,{...v}),i?.({...v}),k=!1)});s.call(S)},destroy:function(){s.on(".drag",null)}}}},689:function(t,e,n){!function(t,r){r(e,n(436),n(363))}(0,function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(e),s=r(n);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t){if(Array.isArray(t))return t}function l(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){h=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function c(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(t,e){if(null==t)return{};var n,r,i=f(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||({}).propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function f(t,e){if(null==t)return{};var n={};for(var r in t)if(({}).hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function m(t,e){return a(t)||h(t,e)||v(t,e)||c()}function g(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function y(t){var e=g(t,"string");return"symbol"==typeof e?e:e+""}function v(t,e){if(t){if("string"==typeof t)return o(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}var b=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],x=function(t,e){var r=t.animationData,o=t.loop,a=t.autoplay,l=t.initialSegment,h=t.onComplete,c=t.onLoopComplete,u=t.onEnterFrame,f=t.onSegmentStart,g=t.onConfigReady,y=t.onDataReady,v=t.onDataFailed,x=t.onLoadedImages,w=t.onDOMLoaded,k=t.onDestroy;t.lottieRef,t.renderer,t.name,t.assetsPath,t.rendererSettings;var S=p(t,b),C=m(n.useState(!1),2),M=C[0],E=C[1],A=n.useRef(),_=n.useRef(null),T=function(){var t;null==(t=A.current)||t.play()},P=function(){var t;null==(t=A.current)||t.stop()},D=function(){var t;null==(t=A.current)||t.pause()},N=function(t){var e;null==(e=A.current)||e.setSpeed(t)},O=function(t,e){var n;null==(n=A.current)||n.goToAndPlay(t,e)},I=function(t,e){var n;null==(n=A.current)||n.goToAndStop(t,e)},L=function(t){var e;null==(e=A.current)||e.setDirection(t)},z=function(t,e){var n;null==(n=A.current)||n.playSegments(t,e)},R=function(t){var e;null==(e=A.current)||e.setSubframe(t)},F=function(t){var e;return null==(e=A.current)?void 0:e.getDuration(t)},B=function(){var t;null==(t=A.current)||t.destroy(),A.current=void 0},j=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_.current){null==(e=A.current)||e.destroy();var r=d(d(d({},t),n),{},{container:_.current});return A.current=i.default.loadAnimation(r),E(!!A.current),function(){var t;null==(t=A.current)||t.destroy(),A.current=void 0}}};return n.useEffect(function(){var t=j();return function(){return null==t?void 0:t()}},[r,o]),n.useEffect(function(){A.current&&(A.current.autoplay=!!a)},[a]),n.useEffect(function(){!A.current||(l?Array.isArray(l)&&l.length&&((A.current.currentRawFrame<l[0]||A.current.currentRawFrame>l[1])&&(A.current.currentRawFrame=l[0]),A.current.setSegment(l[0],l[1])):A.current.resetSegments(!0))},[l]),n.useEffect(function(){var t=[{name:"complete",handler:h},{name:"loopComplete",handler:c},{name:"enterFrame",handler:u},{name:"segmentStart",handler:f},{name:"config_ready",handler:g},{name:"data_ready",handler:y},{name:"data_failed",handler:v},{name:"loaded_images",handler:x},{name:"DOMLoaded",handler:w},{name:"destroy",handler:k}].filter(function(t){return null!=t.handler});if(t.length){var e=t.map(function(t){var e;return null==(e=A.current)||e.addEventListener(t.name,t.handler),function(){var e;null==(e=A.current)||e.removeEventListener(t.name,t.handler)}});return function(){e.forEach(function(t){return t()})}}},[h,c,u,f,g,y,v,x,w,k]),{View:s.default.createElement("div",d({style:e,ref:_},S)),play:T,stop:P,pause:D,setSpeed:N,goToAndStop:I,goToAndPlay:O,setDirection:L,playSegments:z,setSubframe:R,getDuration:F,destroy:B,animationContainerRef:_,animationLoaded:M,animationItem:A.current}};function w(t){var e=t.getBoundingClientRect(),n=e.top,r=e.height;return(window.innerHeight-n)/(window.innerHeight+r)}function k(t,e,n){var r=t.getBoundingClientRect(),i=r.top;return{x:(e-r.left)/r.width,y:(n-i)/r.height}}var S=function(t){var e=t.wrapperRef,r=t.animationItem,i=t.mode,s=t.actions;n.useEffect(function(){var t=e.current;if(t&&r&&s.length){r.stop();var n=function(){var e=null,n=function(){var n=w(t),i=s.find(function(t){var e=t.visibility;return e&&n>=e[0]&&n<=e[1]});if(i){if("seek"===i.type&&i.visibility&&2===i.frames.length){var o=i.frames[0]+Math.ceil((n-i.visibility[0])/(i.visibility[1]-i.visibility[0])*i.frames[1]);r.goToAndStop(o-r.firstFrame-1,!0)}"loop"===i.type&&(null===e||e!==i.frames?(r.playSegments(i.frames,!0),e=i.frames):r.isPaused&&(r.playSegments(i.frames,!0),e=i.frames)),"play"===i.type&&r.isPaused&&(r.resetSegments(!0),r.play()),"stop"===i.type&&r.goToAndStop(i.frames[0]-r.firstFrame-1,!0)}};return document.addEventListener("scroll",n),function(){document.removeEventListener("scroll",n)}},o=function(){var e=function(e,n){var i=e,o=n;if(-1!==i&&-1!==o){var a=k(t,i,o);i=a.x,o=a.y}var l=s.find(function(t){var e=t.position;return e&&Array.isArray(e.x)&&Array.isArray(e.y)?i>=e.x[0]&&i<=e.x[1]&&o>=e.y[0]&&o<=e.y[1]:!(!e||Number.isNaN(e.x)||Number.isNaN(e.y))&&i===e.x&&o===e.y});if(l){if("seek"===l.type&&l.position&&Array.isArray(l.position.x)&&Array.isArray(l.position.y)&&2===l.frames.length){var h=(i-l.position.x[0])/(l.position.x[1]-l.position.x[0]),c=(o-l.position.y[0])/(l.position.y[1]-l.position.y[0]);r.playSegments(l.frames,!0),r.goToAndStop(Math.ceil((h+c)/2*(l.frames[1]-l.frames[0])),!0)}"loop"===l.type&&r.playSegments(l.frames,!0),"play"===l.type&&(r.isPaused&&r.resetSegments(!1),r.playSegments(l.frames)),"stop"===l.type&&r.goToAndStop(l.frames[0],!0)}},n=function(t){e(t.clientX,t.clientY)},i=function(){e(-1,-1)};return t.addEventListener("mousemove",n),t.addEventListener("mouseout",i),function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseout",i)}};switch(i){case"scroll":return n();case"cursor":return o()}}},[i,r])},C=function(t){var e=t.actions,n=t.mode,r=t.lottieObj,i=r.animationItem,s=r.View;return S({actions:e,animationItem:i,mode:n,wrapperRef:r.animationContainerRef}),s},M=["style","interactivity"],E=function(t){var e,r,i,s=t.style,o=t.interactivity,a=x(p(t,M),s),l=a.View,h=a.play,c=a.stop,u=a.pause,d=a.setSpeed,f=a.goToAndStop,m=a.goToAndPlay,g=a.setDirection,y=a.playSegments,v=a.setSubframe,b=a.getDuration,w=a.destroy,k=a.animationContainerRef,S=a.animationLoaded,E=a.animationItem;return n.useEffect(function(){t.lottieRef&&(t.lottieRef.current={play:h,stop:c,pause:u,setSpeed:d,goToAndPlay:m,goToAndStop:f,setDirection:g,playSegments:y,setSubframe:v,getDuration:b,destroy:w,animationContainerRef:k,animationLoaded:S,animationItem:E})},[null==(e=t.lottieRef)?void 0:e.current]),C({lottieObj:{View:l,play:h,stop:c,pause:u,setSpeed:d,goToAndStop:f,goToAndPlay:m,setDirection:g,playSegments:y,setSubframe:v,getDuration:b,destroy:w,animationContainerRef:k,animationLoaded:S,animationItem:E},actions:null!=(r=null==o?void 0:o.actions)?r:[],mode:null!=(i=null==o?void 0:o.mode)?i:"scroll"})};Object.defineProperty(t,"LottiePlayer",{enumerable:!0,get:function(){return i.default}}),t.default=E,t.useLottie=x,t.useLottieInteractivity=C,Object.defineProperty(t,"__esModule",{value:!0})})},436:function(module,exports){"undefined"!=typeof document&&"undefined"!=typeof navigator&&function(t,e){module.exports=e()}(0,function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,r,i=t.length;for(n=0;n<i;n+=1)for(var s in r=t[n].prototype)Object.prototype.hasOwnProperty.call(r,s)&&(e.prototype[s]=r[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(!this._isMuted*this._volume)}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var n,r=0,i=[];switch(t){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<e;r+=1)i.push(n);return i}function e(e,n){return"float32"===e?new Float32Array(n):"int16"===e?new Int16Array(n):"uint8c"===e?new Uint8ClampedArray(n):t(e,n)}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,n=createSizedArray(t.length),r=t.length;for(e=0;e<r;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,r){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,r){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,n){var r,i,s,o,a,l,h,c;switch(o=Math.floor(6*t),a=6*t-o,l=n*(1-e),h=n*(1-a*e),c=n*(1-(1-a)*e),o%6){case 0:r=n,i=c,s=l;break;case 1:r=h,i=n,s=l;break;case 2:r=l,i=n,s=c;break;case 3:r=l,i=h,s=n;break;case 4:r=c,i=l,s=n;break;case 5:r=n,i=l,s=h}return[r,i,s]}function RGBtoHSV(t,e,n){var r,i=Math.max(t,e,n),s=Math.min(t,e,n),o=i-s,a=0===i?0:o/i,l=i/255;switch(i){case s:r=0;break;case t:r=(e-n+6*(e<n)*o)/(6*o);break;case e:r=(n-t+2*o)/(6*o);break;case n:r=(t-e+4*o)/(6*o)}return[r,a,l]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=1===e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+n[t]+n[e]+n[r]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var dataManager=function(){var t,e,n=1,r=[],i={onmessage:function(){},postMessage:function(e){t({data:e})}},s={postMessage:function(t){i.onmessage({data:t})}};function o(e){if(window.Worker&&window.Blob&&getWebWorker()){var n=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"});return new Worker(URL.createObjectURL(n))}return t=e,i}function a(){e||((e=o(function(t){function e(){function t(e,n){var o,a,l,h,c,u,p=e.length;for(a=0;a<p;a+=1)if("ks"in(o=e[a])&&!o.completed){if(o.completed=!0,o.hasMask){var f=o.masksProperties;for(l=0,h=f.length;l<h;l+=1)if(f[l].pt.k.i)s(f[l].pt.k);else for(c=0,u=f[l].pt.k.length;c<u;c+=1)f[l].pt.k[c].s&&s(f[l].pt.k[c].s[0]),f[l].pt.k[c].e&&s(f[l].pt.k[c].e[0])}0===o.ty?(o.layers=r(o.refId,n),t(o.layers,n)):4===o.ty?i(o.shapes):5===o.ty&&d(o)}}function e(e,n){if(e){var i=0,s=e.length;for(i=0;i<s;i+=1)1===e[i].t&&(e[i].data.layers=r(e[i].data.refId,n),t(e[i].data.layers,n))}}function n(t,e){for(var n=0,r=e.length;n<r;){if(e[n].id===t)return e[n];n+=1}return null}function r(t,e){var r=n(t,e);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function i(t){var e,n,r;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)s(t[e].ks.k);else for(n=0,r=t[e].ks.k.length;n<r;n+=1)t[e].ks.k[n].s&&s(t[e].ks.k[n].s[0]),t[e].ks.k[n].e&&s(t[e].ks.k[n].e[0]);else"gr"===t[e].ty&&i(t[e].it)}function s(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function o(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&null))}var a=function(){var t=[4,4,14];function e(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)5===t[n].ty&&e(t[n])}return function(e){if(o(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),l=function(){var t=[4,7,99];return function(e){if(e.chars&&!o(t,e.v)){var n,r=e.chars.length;for(n=0;n<r;n+=1){var s=e.chars[n];s.data&&s.data.shapes&&(i(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[n].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),h=function(){var t=[5,7,15];function e(t){var e=t.t.p;"number"==typeof e.a&&(e.a={a:0,k:e.a}),"number"==typeof e.p&&(e.p={a:0,k:e.p}),"number"==typeof e.r&&(e.r={a:0,k:e.r})}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)5===t[n].ty&&e(t[n])}return function(e){if(o(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var n,r,i,s=t.length;for(n=0;n<s;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(r=0,i=t[n].c.k.length;r<i;r+=1)t[n].c.k[r].s&&(t[n].c.k[r].s[0]/=255,t[n].c.k[r].s[1]/=255,t[n].c.k[r].s[2]/=255,t[n].c.k[r].s[3]/=255),t[n].c.k[r].e&&(t[n].c.k[r].e[0]/=255,t[n].c.k[r].e[1]/=255,t[n].c.k[r].e[2]/=255,t[n].c.k[r].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(o(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),u=function(){var t=[4,4,18];function e(t){var n,r,i;for(n=t.length-1;n>=0;n-=1)if("sh"===t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(r=0,i=t[n].ks.k.length;r<i;r+=1)t[n].ks.k[r].s&&(t[n].ks.k[r].s[0].c=t[n].closed),t[n].ks.k[r].e&&(t[n].ks.k[r].e[0].c=t[n].closed);else"gr"===t[n].ty&&e(t[n].it)}function n(t){var n,r,i,s,o,a,l=t.length;for(r=0;r<l;r+=1){if((n=t[r]).hasMask){var h=n.masksProperties;for(i=0,s=h.length;i<s;i+=1)if(h[i].pt.k.i)h[i].pt.k.c=h[i].cl;else for(o=0,a=h[i].pt.k.length;o<a;o+=1)h[i].pt.k[o].s&&(h[i].pt.k[o].s[0].c=h[i].cl),h[i].pt.k[o].e&&(h[i].pt.k[o].e[0].c=h[i].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(o(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}();function d(t){0===t.t.a.length&&t.t.p}var p={};return p.completeData=function(n){n.__complete||(c(n),a(n),l(n),h(n),u(n),t(n.layers,n.assets),e(n.chars,n.assets),n.__complete=!0)},p.checkColors=c,p.checkChars=l,p.checkPathProperties=h,p.checkShapes=u,p.completeLayers=t,p}if(s.dataManager||(s.dataManager=e()),s.assetLoader||(s.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,n,r,i){var s,o=new XMLHttpRequest;try{o.responseType="json"}catch(t){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)r(s=t(o));else try{s=t(o),r(s)}catch(t){i&&i(t)}};try{o.open("GET",e,!0)}catch(t){o.open("GET",n+"/"+e,!0)}o.send()}}}()),"loadAnimation"===t.data.type)s.assetLoader.load(t.data.path,t.data.fullPath,function(e){s.dataManager.completeData(e),s.postMessage({id:t.data.id,payload:e,status:"success"})},function(){s.postMessage({id:t.data.id,status:"error"})});else if("complete"===t.data.type){var n=t.data.animation;s.dataManager.completeData(n),s.postMessage({id:t.data.id,payload:n,status:"success"})}else"loadData"===t.data.type&&s.assetLoader.load(t.data.path,t.data.fullPath,function(e){s.postMessage({id:t.data.id,payload:e,status:"success"})},function(){s.postMessage({id:t.data.id,status:"error"})})})).onmessage=function(t){var e=t.data,n=e.id,i=r[n];r[n]=null,"success"===e.status?i.onComplete(e.payload):i.onError&&i.onError()})}function l(t,e){var i="processId_"+(n+=1);return r[i]={onComplete:t,onError:e},i}return{loadAnimation:function(t,n,r){a();var i=l(n,r);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},loadData:function(t,n,r){a();var i=l(n,r);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},completeAnimation:function(t,n,r){a();var i=l(n,r);e.postMessage({type:"complete",animation:t,id:i})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(t,e,n){var r="";if(t.e)r=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=e+i}else r=n+(t.u?t.u:"")+t.p;return r}function i(t){var e=0,n=setInterval((function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(n)),e+=1}).bind(this),50)}function s(t){var e={assetData:t},n=r(t,this.assetsPath,this.path);return dataManager.loadData(n,(function(t){e.img=t,this._footageLoaded()}).bind(this),(function(){e.img={},this._footageLoaded()}).bind(this)),e}function o(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=s.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return o.prototype={loadAssets:function(t,e){this.imagesLoadedCb=e;var n,r=t.length;for(n=0;n<r;n+=1)t[n].layers||(t[n].t&&"seq"!==t[n].t?3===t[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[n]))):(this.totalImages+=1,this.images.push(this._createImageData(t[n]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,n=this.images.length;e<n;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var n=r(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",(function(){s.img=t,this._imageLoaded()}).bind(this),!1),i.src=n;var s={img:i,assetData:e};return s},createImageData:function(e){var n=r(e,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",(function(){s.img=t,this._imageLoaded()}).bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var s={img:i,assetData:e};return s},imageLoaded:e,footageLoaded:n,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},o}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],r=0;r<n.length;r+=1)n[r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,r=this._cbs[t].length;n<r;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,r-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,n=t.split("\r\n"),r={},i=0,s=0;s<n.length;s+=1)2===(e=n[s].split(":")).length&&(r[e[0]]=e[1].trim(),i+=1);if(0===i)throw Error();return r}return function(e){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],s={time:i.tm,duration:i.dr};try{s.payload=JSON.parse(e[r].cm)}catch(n){try{s.payload=t(e[r].cm)}catch(t){s.payload={name:e[r].cm}}}n.push(s)}return n}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,n=this.compositions.length;e<n;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},r=t.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===i?n.loop=!1:"true"===i?n.loop=!0:""!==i&&(n.loop=parseInt(i,10)),n.autoplay="false"!==(r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value),n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,r=this.animationData.layers,i=r.length,s=t.layers,o=s.length;for(n=0;n<o;n+=1)for(e=0;e<i;){if(r[e].id===s[n].id){r[e]=s[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(e=0,i=t.assets.length;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n="number"==typeof t?t:void 0,r="number"==typeof e?e:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){(!t||this.name===t)&&!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if((e=this.markers[n]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(r,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&!0!==this.loop)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,e=0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var n,r=t.length;for(n=0;n<r;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){(!t||this.name===t)&&this.renderer&&(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path+(t.u?t.u:"")+t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{this.renderer.getElementByPath(t).updateDocumentData(e,n)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,r=0,i=0,s=!0,o=!1;function a(t){for(var n=0,i=t.target;n<r;)e[n].animation===i&&(e.splice(n,1),n-=1,r-=1,i.isPaused||u()),n+=1}function l(t,n){if(!t)return null;for(var i=0;i<r;){if(e[i].elem===t&&null!==e[i].elem)return e[i].animation;i+=1}var s=new AnimationItem;return d(s,t),s.setData(t,n),s}function h(){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r.push(e[t].animation);return r}function c(){i+=1,E()}function u(){i-=1}function d(t,n){t.addEventListener("destroy",a),t.addEventListener("_active",c),t.addEventListener("_idle",u),e.push({elem:n,animation:t}),r+=1}function p(t){var e=new AnimationItem;return d(e,null),e.setParams(t),e}function f(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setSpeed(t,n)}function m(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setDirection(t,n)}function g(t){var n;for(n=0;n<r;n+=1)e[n].animation.play(t)}function y(t){var a,l=t-n;for(a=0;a<r;a+=1)e[a].animation.advanceTime(l);n=t,i&&!o?window.requestAnimationFrame(y):s=!0}function v(t){n=t,window.requestAnimationFrame(y)}function b(t){var n;for(n=0;n<r;n+=1)e[n].animation.pause(t)}function x(t,n,i){var s;for(s=0;s<r;s+=1)e[s].animation.goToAndStop(t,n,i)}function w(t){var n;for(n=0;n<r;n+=1)e[n].animation.stop(t)}function k(t){var n;for(n=0;n<r;n+=1)e[n].animation.togglePause(t)}function S(t){var n;for(n=r-1;n>=0;n-=1)e[n].animation.destroy(t)}function C(t,e,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=i.length;for(r=0;r<s;r+=1)n&&i[r].setAttribute("data-bm-type",n),l(i[r],t);if(e&&0===s){n||(n="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",n),o.appendChild(a),l(a,t)}}function M(){var t;for(t=0;t<r;t+=1)e[t].animation.resize()}function E(){!o&&i&&s&&(window.requestAnimationFrame(v),s=!1)}function A(){o=!0}function _(){o=!1,E()}function T(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setVolume(t,n)}function P(t){var n;for(n=0;n<r;n+=1)e[n].animation.mute(t)}function D(t){var n;for(n=0;n<r;n+=1)e[n].animation.unmute(t)}return t.registerAnimation=l,t.loadAnimation=p,t.setSpeed=f,t.setDirection=m,t.play=g,t.pause=b,t.stop=w,t.togglePause=k,t.searchAnimations=C,t.resize=M,t.goToAndStop=x,t.destroy=S,t.freeze=A,t.unfreeze=_,t.setVolume=T,t.mute=P,t.unmute=D,t.getRegisteredAnimations=h,t}(),BezierFactory=function(){var t={};t.getBezierEasing=n;var e={};function n(t,n,r,i,s){var o=s||("bez_"+t+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(e[o])return e[o];var a=new y([t,n,r,i]);return e[o]=a,a}var r=4,i=.001,s=1e-7,o=10,a=11,l=.1,h="function"==typeof Float32Array;function c(t,e){return 1-3*e+3*t}function u(t,e){return 3*e-6*t}function d(t){return 3*t}function p(t,e,n){return((c(e,n)*t+u(e,n))*t+d(e))*t}function f(t,e,n){return 3*c(e,n)*t*t+2*u(e,n)*t+d(e)}function m(t,e,n,r,i){var a,l,h=0;do(a=p(l=e+(n-e)/2,r,i)-t)>0?n=l:e=l;while(Math.abs(a)>s&&++h<o);return l}function g(t,e,n,i){for(var s=0;s<r;++s){var o=f(e,n,i);if(0===o)break;var a=p(e,n,i)-t;e-=a/o}return e}function y(t){this._p=t,this._mSampleValues=h?new Float32Array(a):Array(a),this._precomputed=!1,this.get=this.get.bind(this)}return y.prototype={get:function(t){var e=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return(this._precomputed||this._precompute(),e===n&&r===i)?t:0===t?0:1===t?1:p(this._getTForX(t),n,i)},_precompute:function(){var t=this._p[0],e=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,(t!==e||n!==r)&&this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<a;++n)this._mSampleValues[n]=p(n*l,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],r=this._mSampleValues,s=0,o=1,h=a-1;o!==h&&r[o]<=t;++o)s+=l;var c=s+(t-r[--o])/(r[o+1]-r[o])*l,u=f(c,e,n);return u>=i?g(t,c,e,n):0===u?c:m(t,s,s+l,e,n)}},t}(),pooling=function(){return{double:function(t){return t.concat(createSizedArray(t.length))}}}(),poolFactory=function(){return function(t,e,n){var r=0,i=t,s=createSizedArray(i);return{newElement:function(){var t;return r?(r-=1,t=s[r]):t=e(),t},release:function(t){r===i&&(s=pooling.double(s),i*=2),n&&n(t),s[r]=t,r+=1}}}}(),bezierLengthPool=function(){return poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})}(),segmentsLengthPool=function(){return poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0})}();function bezFunction(){var t=Math;function e(t,e,n,r,i,s){var o=t*r+e*i+n*s-i*r-s*t-n*e;return o>-.001&&o<.001}function n(n,r,i,s,o,a,l,h,c){if(0===i&&0===a&&0===c)return e(n,r,s,o,l,h);var u,d=t.sqrt(t.pow(s-n,2)+t.pow(o-r,2)+t.pow(a-i,2)),p=t.sqrt(t.pow(l-n,2)+t.pow(h-r,2)+t.pow(c-i,2)),f=t.sqrt(t.pow(l-s,2)+t.pow(h-o,2)+t.pow(c-a,2));return(u=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&u<1e-4}var r=function(){return function(t,e,n,r){var i,s,o,a,l,h,c=getDefaultCurveSegments(),u=0,d=[],p=[],f=bezierLengthPool.newElement();for(i=0,o=n.length;i<c;i+=1){for(s=0,l=i/(c-1),h=0;s<o;s+=1)a=bmPow(1-l,3)*t[s]+3*bmPow(1-l,2)*l*n[s]+3*(1-l)*bmPow(l,2)*r[s]+bmPow(l,3)*e[s],d[s]=a,null!==p[s]&&(h+=bmPow(d[s]-p[s],2)),p[s]=d[s];h&&(u+=h=bmSqrt(h)),f.percents[i]=l,f.lengths[i]=u}return f.addedLength=u,f}}();function i(t){var e,n=segmentsLengthPool.newElement(),i=t.c,s=t.v,o=t.o,a=t.i,l=t._length,h=n.lengths,c=0;for(e=0;e<l-1;e+=1)h[e]=r(s[e],s[e+1],o[e],a[e+1]),c+=h[e].addedLength;return i&&l&&(h[e]=r(s[e],s[0],o[e],a[0]),c+=h[e].addedLength),n.totalLength=c,n}function s(t){this.segmentLength=0,this.points=Array(t)}function o(t,e){this.partialLength=t,this.point=e}var a=function(){var t={};return function(n,r,i,a){var l=(n[0]+"_"+n[1]+"_"+r[0]+"_"+r[1]+"_"+i[0]+"_"+i[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!t[l]){var h,c,u,d,p,f,m,g=getDefaultCurveSegments(),y=0,v=null;2===n.length&&(n[0]!==r[0]||n[1]!==r[1])&&e(n[0],n[1],r[0],r[1],n[0]+i[0],n[1]+i[1])&&e(n[0],n[1],r[0],r[1],r[0]+a[0],r[1]+a[1])&&(g=2);var b=new s(g);for(h=0,u=i.length;h<g;h+=1){for(c=0,m=createSizedArray(u),p=h/(g-1),f=0;c<u;c+=1)d=bmPow(1-p,3)*n[c]+3*bmPow(1-p,2)*p*(n[c]+i[c])+3*(1-p)*bmPow(p,2)*(r[c]+a[c])+bmPow(p,3)*r[c],m[c]=d,null!==v&&(f+=bmPow(m[c]-v[c],2));y+=f=bmSqrt(f),b.points[h]=new o(f,m),v=m}b.segmentLength=y,t[l]=b}return t[l]}}();function l(t,e){var n=e.percents,r=e.lengths,i=n.length,s=bmFloor((i-1)*t),o=t*e.addedLength,a=0;if(s===i-1||0===s||o===r[s])return n[s];for(var l=r[s]>o?-1:1,h=!0;h;)if(r[s]<=o&&r[s+1]>o?(a=(o-r[s])/(r[s+1]-r[s]),h=!1):s+=l,s<0||s>=i-1){if(s===i-1)return n[s];h=!1}return n[s]+(n[s+1]-n[s])*a}function h(e,n,r,i,s,o){var a=l(s,o),h=1-a;return[t.round((h*h*h*e[0]+(a*h*h+h*a*h+h*h*a)*r[0]+(a*a*h+h*a*a+a*h*a)*i[0]+a*a*a*n[0])*1e3)/1e3,t.round((h*h*h*e[1]+(a*h*h+h*a*h+h*h*a)*r[1]+(a*a*h+h*a*a+a*h*a)*i[1]+a*a*a*n[1])*1e3)/1e3]}var c=createTypedArray("float32",8);return{getSegmentsLength:i,getNewSegment:function(e,n,r,i,s,o,a){s<0?s=0:s>1&&(s=1);var h,u=l(s,a),d=l(o=o>1?1:o,a),p=e.length,f=1-u,m=1-d,g=f*f*f,y=u*f*f*3,v=u*u*f*3,b=u*u*u,x=f*f*m,w=u*f*m+f*u*m+f*f*d,k=u*u*m+f*u*d+u*f*d,S=u*u*d,C=f*m*m,M=u*m*m+f*d*m+f*m*d,E=u*d*m+f*d*d+u*m*d,A=u*d*d,_=m*m*m,T=d*m*m+m*d*m+m*m*d,P=d*d*m+m*d*d+d*m*d,D=d*d*d;for(h=0;h<p;h+=1)c[4*h]=t.round((g*e[h]+y*r[h]+v*i[h]+b*n[h])*1e3)/1e3,c[4*h+1]=t.round((x*e[h]+w*r[h]+k*i[h]+S*n[h])*1e3)/1e3,c[4*h+2]=t.round((C*e[h]+M*r[h]+E*i[h]+A*n[h])*1e3)/1e3,c[4*h+3]=t.round((_*e[h]+T*r[h]+P*i[h]+D*n[h])*1e3)/1e3;return c},getPointInSegment:h,buildBezierData:a,pointOnLine2D:e,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n,r,i,s,o,a=this.offsetTime;"multidimensional"===this.propType&&(g=createTypedArray("float32",this.pv.length));for(var l=e.lastIndex,h=l,c=this.keyframes.length-1,u=!0;u;){if(y=this.keyframes[h],v=this.keyframes[h+1],h===c-1&&t>=v.t-a){y.h&&(y=v),l=0;break}if(v.t-a>t){l=h;break}h<c-1?h+=1:(l=0,u=!1)}b=this.keyframesMetadata[h]||{};var d=v.t-a,p=y.t-a;if(y.to){b.bezierData||(b.bezierData=bez.buildBezierData(y.s,v.s||y.e,y.to,y.ti));var f=b.bezierData;if(t>=d||t<p){var m=t>=d?f.points.length-1:0;for(x=0,w=f.points[m].point.length;x<w;x+=1)g[x]=f.points[m].point[x]}else{b.__fnct?C=b.__fnct:b.__fnct=C=BezierFactory.getBezierEasing(y.o.x,y.o.y,y.i.x,y.i.y,y.n).get;var g,y,v,b,x,w,k,S,C,M,E,A=C((t-p)/(d-p)),_=f.segmentLength*A,T=e.lastFrame<t&&e._lastKeyframeIndex===h?e._lastAddedLength:0;for(S=e.lastFrame<t&&e._lastKeyframeIndex===h?e._lastPoint:0,u=!0,k=f.points.length;u;){if(T+=f.points[S].partialLength,0===_||0===A||S===f.points.length-1){for(x=0,w=f.points[S].point.length;x<w;x+=1)g[x]=f.points[S].point[x];break}if(_>=T&&_<T+f.points[S+1].partialLength){for(x=0,E=(_-T)/f.points[S+1].partialLength,w=f.points[S].point.length;x<w;x+=1)g[x]=f.points[S].point[x]+(f.points[S+1].point[x]-f.points[S].point[x])*E;break}S<k-1?S+=1:u=!1}e._lastPoint=S,e._lastAddedLength=T-f.points[S].partialLength,e._lastKeyframeIndex=h}}else if(c=y.s.length,M=v.s||y.e,this.sh&&1!==y.h)t>=d?(g[0]=M[0],g[1]=M[1],g[2]=M[2]):t<=p?(g[0]=y.s[0],g[1]=y.s[1],g[2]=y.s[2]):quaternionToEuler(g,slerp(createQuaternion(y.s),createQuaternion(M),(t-p)/(d-p)));else for(h=0;h<c;h+=1)1!==y.h&&(t>=d?A=1:t<p?A=0:(y.o.x.constructor===Array?(b.__fnct||(b.__fnct=[]),b.__fnct[h]?C=b.__fnct[h]:(n=void 0===y.o.x[h]?y.o.x[0]:y.o.x[h],r=void 0===y.o.y[h]?y.o.y[0]:y.o.y[h],i=void 0===y.i.x[h]?y.i.x[0]:y.i.x[h],s=void 0===y.i.y[h]?y.i.y[0]:y.i.y[h],C=BezierFactory.getBezierEasing(n,r,i,s).get,b.__fnct[h]=C)):b.__fnct?C=b.__fnct:(n=y.o.x,r=y.o.y,i=y.i.x,s=y.i.y,C=BezierFactory.getBezierEasing(n,r,i,s).get,y.keyframeMetadata=C),A=C((t-p)/(d-p)))),M=v.s||y.e,o=1===y.h?y.s[h]:y.s[h]+(M[h]-y.s[h])*A,"multidimensional"===this.propType?g[h]=o:g=o;return e.lastIndex=l,g}function slerp(t,e,n){var r,i,s,o,a,l=[],h=t[0],c=t[1],u=t[2],d=t[3],p=e[0],f=e[1],m=e[2],g=e[3];return(i=h*p+c*f+u*m+d*g)<0&&(i=-i,p=-p,f=-f,m=-m,g=-g),1-i>1e-6?(s=Math.sin(r=Math.acos(i)),o=Math.sin((1-n)*r)/s,a=Math.sin(n*r)/s):(o=1-n,a=n),l[0]=o*h+a*p,l[1]=o*c+a*f,l[2]=o*u+a*m,l[3]=o*d+a*g,l}function quaternionToEuler(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=Math.atan2(2*r*s-2*n*i,1-2*r*r-2*i*i),a=Math.asin(2*n*r+2*i*s),l=Math.atan2(2*n*s-2*r*i,1-2*n*n-2*i*i);t[0]=o/degToRads,t[1]=a/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,r=t[2]*degToRads,i=Math.cos(e/2),s=Math.cos(n/2),o=Math.cos(r/2),a=Math.sin(e/2),l=Math.sin(n/2),h=Math.sin(r/2),c=i*s*o-a*l*h;return[a*l*o+i*s*h,a*s*o+i*l*h,i*l*o-a*s*h,c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,r=this.v.length;n<r;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,r){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,r){this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,s=e.k.length;for(i=0,this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s);i<s;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,r){this.propType="multidimensional";var i,s,o,a,l,h=e.k.length;for(i=0;i<h-1;i+=1)e.k[i].to&&e.k[i].s&&e.k[i+1]&&e.k[i+1].s&&(s=e.k[i].s,o=e.k[i+1].s,a=e.k[i].to,l=e.k[i].ti,(2===s.length&&(s[0]!==o[0]||s[1]!==o[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],s[0]+a[0],s[1]+a[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],o[0]+l[0],o[1]+l[1])||3===s.length&&(s[0]!==o[0]||s[1]!==o[1]||s[2]!==o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],s[0]+a[0],s[1]+a[1],s[2]+a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],o[0]+l[0],o[1]+l[1],o[2]+l[2]))&&(e.k[i].to=null,e.k[i].ti=null),s[0]===o[0]&&s[1]===o[1]&&0===a[0]&&0===a[1]&&0===l[0]&&0===l[1]&&(2===s.length||s[2]===o[2]&&0===a[2]&&0===l[2])&&(e.k[i].to=null,e.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var c=e.k[0].s.length;for(i=0,this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c);i<c;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",c)},this.addEffect=addEffect}var PropertyFactory=function(){return{getProp:function(t,e,n,r,i){var s;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])s=new MultiDimensionalProperty(t,e,r,i);else switch(n){case 0:s=new KeyframedValueProperty(t,e,r,i);break;case 1:s=new KeyframedMultidimensionalProperty(t,e,r,i)}else s=new ValueProperty(t,e,r,i);return s.effectsSequence.length&&i.addDynamicProperty(s),s}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){return poolFactory(8,function(){return createTypedArray("float32",2)})}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,r,i){var s;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}s[r]&&(!s[r]||i)||(s[r]=pointPool.newElement()),s[r][0]=t,s[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,r,i,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(n,r,"o",o,a),this.setXYAt(i,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t,e=new ShapePath;e.setPathData(this.c,this._length);var n=this.v,r=this.o,i=this.i,s=0;this.c&&(e.setTripleAt(n[0][0],n[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),s=1);var o=this._length-1,a=this._length;for(t=s;t<a;t+=1)e.setTripleAt(n[o][0],n[o][1],i[o][0],i[o][1],r[o][0],r[o][1],t,!1),o-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function t(t){var n,r=e.newElement(),i=void 0===t._length?t.v.length:t._length;for(r.setLength(i),r.c=t.c,n=0;n<i;n+=1)r.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],n);return r}var e=poolFactory(4,function(){return new ShapePath},function(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1});return e.clone=t,e}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:i,release:s},e=0,n=4,r=createSizedArray(4);function i(){var t;return e?(e-=1,t=r[e]):t=new ShapeCollection,t}function s(t){var i,s=t._length;for(i=0;i<s;i+=1)shapePool.release(t.shapes[i]);t._length=0,e===n&&(r=pooling.double(r),n*=2),r[e]=t,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(t,e,n){var r=n.lastIndex,i=this.keyframes;if(t<i[0].t-this.offsetTime)s=i[0].s[0],a=!0,r=0;else if(t>=i[i.length-1].t-this.offsetTime)s=i[i.length-1].s?i[i.length-1].s[0]:i[i.length-2].e[0],a=!0;else{for(var s,o,a,l,h,c,u,d,p,f,m,g,y,v=r,b=i.length-1,x=!0;x&&(f=i[v],!((m=i[v+1]).t-this.offsetTime>t));)v<b-1?v+=1:x=!1;g=this.keyframesMetadata[v]||{},a=1===f.h,r=v,a||(t>=m.t-this.offsetTime?d=1:t<f.t-this.offsetTime?d=0:(g.__fnct?y=g.__fnct:g.__fnct=y=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,d=y((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))),o=m.s?m.s[0]:f.e[0]),s=f.s[0]}for(l=0,c=e._length,u=s.i[0].length,n.lastIndex=r;l<c;l+=1)for(h=0;h<u;h+=1)p=a?s.i[l][h]:s.i[l][h]+(o.i[l][h]-s.i[l][h])*d,e.i[l][h]=p,p=a?s.o[l][h]:s.o[l][h]+(o.o[l][h]-s.o[l][h])*d,e.o[l][h]=p,p=a?s.v[l][h]:s.v[l][h]+(o.v[l][h]-s.v[l][h])*d,e.v[l][h]=p}function n(){var e=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return i!==t&&(i<n&&e<n||i>r&&e>r)||(this._caching.lastIndex=i<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function r(){this.paths=this.localShapeCollection}function i(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var n,r=t._length;for(n=0;n<r;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return!1;return!0}function s(t){i(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function o(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var t,e,n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(t,e,n){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===n?e.pt.k:e.ks.k;this.v=shapePool.clone(i),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function l(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function h(e,i,s){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?i.pt.k:i.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}a.prototype.interpolateShape=e,a.prototype.getValue=o,a.prototype.setVValue=s,a.prototype.addEffect=l,h.prototype.getValue=o,h.prototype.interpolateShape=e,h.prototype.setVValue=s,h.prototype.addEffect=l;var c=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=n-i,o.v[1][0]=s?e+r:e-r,o.v[1][1]=n,o.v[2][0]=e,o.v[2][1]=n+i,o.v[3][0]=s?e-r:e+r,o.v[3][1]=n,o.i[0][0]=s?e-r*t:e+r*t,o.i[0][1]=n-i,o.i[1][0]=s?e+r:e-r,o.i[1][1]=n-i*t,o.i[2][0]=s?e+r*t:e-r*t,o.i[2][1]=n+i,o.i[3][0]=s?e-r:e+r,o.i[3][1]=n+i*t,o.o[0][0]=s?e+r*t:e-r*t,o.o[0][1]=n-i,o.o[1][0]=s?e+r:e-r,o.o[1][1]=n+i*t,o.o[2][0]=s?e-r*t:e+r*t,o.o[2][1]=n+i,o.o[3][0]=s?e-r:e+r,o.o[3][1]=n-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,n,r,i=2*Math.floor(this.pt.v),s=2*Math.PI/i,o=!0,a=this.or.v,l=this.ir.v,h=this.os.v,c=this.is.v,u=2*Math.PI*a/(2*i),d=2*Math.PI*l/(2*i),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(t=0,this.v._length=0;t<i;t+=1){e=o?a:l,n=o?h:c,r=o?u:d;var m=e*Math.cos(p),g=e*Math.sin(p),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),v=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*r*n*f,g-v*r*n*f,m+y*r*n*f,g+v*r*n*f,t,!0),o=!o,p+=s*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),n=2*Math.PI/e,r=this.or.v,i=this.os.v,s=2*Math.PI*r/(4*e),o=-(.5*Math.PI),a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=r*Math.cos(o),h=r*Math.sin(o),c=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),u=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-c*s*i*a,h-u*s*i*a,l+c*s*i*a,h+u*s*i*a,t,!0),o+=n*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),d=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=bmMin(n,r,this.r.v),s=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+i,t+n,e-r+s,0,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-s,t+n,e+r-i,1,!0),0!==i?(this.v.setTripleAt(t+n-i,e+r,t+n-i,e+r,t+n-s,e+r,2,!0),this.v.setTripleAt(t-n+i,e+r,t-n+s,e+r,t-n+i,e+r,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-i,t-n,e+r-s,4,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+s,t-n,e-r+i,5,!0),this.v.setTripleAt(t-n+i,e-r,t-n+i,e-r,t-n+s,e-r,6,!0),this.v.setTripleAt(t+n-i,e-r,t+n-s,e-r,t+n-i,e-r,7,!0)):(this.v.setTripleAt(t-n,e+r,t-n+s,e+r,t-n,e+r,2),this.v.setTripleAt(t-n,e-r,t-n,e-r+s,t-n,e-r,3))):(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+s,t+n,e-r+i,0,!0),0!==i?(this.v.setTripleAt(t+n-i,e-r,t+n-i,e-r,t+n-s,e-r,1,!0),this.v.setTripleAt(t-n+i,e-r,t-n+s,e-r,t-n+i,e-r,2,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+i,t-n,e-r+s,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-s,t-n,e+r-i,4,!0),this.v.setTripleAt(t-n+i,e+r,t-n+i,e+r,t-n+s,e+r,5,!0),this.v.setTripleAt(t+n-i,e+r,t+n-s,e+r,t+n-i,e+r,6,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-i,t+n,e+r-s,7,!0)):(this.v.setTripleAt(t-n,e-r,t-n+s,e-r,t-n,e-r,1,!0),this.v.setTripleAt(t-n,e+r,t-n,e+r-s,t-n,e+r,2,!0),this.v.setTripleAt(t+n,e+r,t+n-s,e+r,t+n,e+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}();function p(){return a}function f(){return h}var m={};return m.getShapeProp=function(t,e,n){var r;return 3===n||4===n?r=(3===n?e.pt:e.ks).k.length?new h(t,e,n):new a(t,e,n):5===n?r=new d(t,e):6===n?r=new c(t,e):7===n&&(r=new u(t,e)),r.k&&t.addDynamicProperty(r),r},m.getConstructorFunction=p,m.getKeyframedConstructorFunction=f,m}(),Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function o(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function a(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function l(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function h(t,e){return this._t(1,e,t,1,0,0)}function c(t,e){return this.shear(n(t),n(e))}function u(r,i){var s=t(i),o=e(i);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function d(t,e,n){return(n||0===n||(n=1),1===t&&1===e&&1===n)?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}function p(t,e,n,r,i,s,o,a,l,h,c,u,d,p,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=l,this.props[9]=h,this.props[10]=c,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(t,e,n){return(n=n||0,0!==t||0!==e||0!==n)?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this}function m(t,e,n,r,i,s,o,a,l,h,c,u,d,p,f,m){var g=this.props;if(1===t&&0===e&&0===n&&0===r&&0===i&&1===s&&0===o&&0===a&&0===l&&0===h&&1===c&&0===u)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*s+g[15]*p,g[14]=g[14]*c+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],v=g[1],b=g[2],x=g[3],w=g[4],k=g[5],S=g[6],C=g[7],M=g[8],E=g[9],A=g[10],_=g[11],T=g[12],P=g[13],D=g[14],N=g[15];return g[0]=y*t+v*i+b*l+x*d,g[1]=y*e+v*s+b*h+x*p,g[2]=y*n+v*o+b*c+x*f,g[3]=y*r+v*a+b*u+x*m,g[4]=w*t+k*i+S*l+C*d,g[5]=w*e+k*s+S*h+C*p,g[6]=w*n+k*o+S*c+C*f,g[7]=w*r+k*a+S*u+C*m,g[8]=M*t+E*i+A*l+_*d,g[9]=M*e+E*s+A*h+_*p,g[10]=M*n+E*o+A*c+_*f,g[11]=M*r+E*a+A*u+_*m,g[12]=T*t+P*i+D*l+N*d,g[13]=T*e+P*s+D*h+N*p,g[14]=T*n+P*o+D*c+N*f,g[15]=T*r+P*a+D*u+N*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function y(){return this._identityCalculated||(this._identity=1===this.props[0]&&0===this.props[1]&&0===this.props[2]&&0===this.props[3]&&0===this.props[4]&&1===this.props[5]&&0===this.props[6]&&0===this.props[7]&&0===this.props[8]&&0===this.props[9]&&1===this.props[10]&&0===this.props[11]&&0===this.props[12]&&0===this.props[13]&&0===this.props[14]&&1===this.props[15],this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function b(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function x(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function w(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}}function k(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]}function S(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]}function C(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}function M(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,n=-this.props[1]/t,r=-this.props[4]/t,i=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new Matrix;return a.props[0]=e,a.props[1]=n,a.props[4]=r,a.props[5]=i,a.props[12]=s,a.props[13]=o,a}function E(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function A(t){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r[e]=E(t[e]);return r}function _(t,e,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],l=this.props[12],h=this.props[13];r[0]=t[0]*i+t[1]*o+l,r[1]=t[0]*s+t[1]*a+h,r[2]=e[0]*i+e[1]*o+l,r[3]=e[0]*s+e[1]*a+h,r[4]=n[0]*i+n[1]*o+l,r[5]=n[0]*s+n[1]*a+h}return r}function T(t,e,n){var r;return this.isIdentity()?[t,e,n]:[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]]}function P(t,e){if(this.isIdentity())return t+","+e;var n=this.props;return Math.round((t*n[0]+e*n[4]+n[12])*100)/100+","+Math.round((t*n[1]+e*n[5]+n[13])*100)/100}function D(){for(var t=0,e=this.props,n="matrix3d(",i=1e4;t<16;)n+=r(e[t]*i)/i,n+=15===t?")":",",t+=1;return n}function N(t){var e=1e4;return t<1e-6&&t>0||t>-1e-6&&t<0?r(t*e)/e:t}function O(){var t=this.props;return"matrix("+N(t[0])+","+N(t[1])+","+N(t[4])+","+N(t[5])+","+N(t[12])+","+N(t[13])+")"}return function(){this.reset=i,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=l,this.skew=c,this.skewFromAxis=u,this.shear=h,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=w,this.applyToX=k,this.applyToY=S,this.applyToZ=C,this.applyToPointArray=T,this.applyToTriplePoints=_,this.applyToPointStringified=P,this.toCSS=D,this.to2dCSS=O,this.clone=b,this.cloneFromProps=x,this.equals=v,this.inversePoints=A,this.inversePoint=E,this.getInverseMatrix=M,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"===_typeof$3(exports)||"function"==typeof define&&define.amd||(window.bodymovin=lottie)}catch(err){}var ShapeModifiers=function(){var t={},e={};function n(t,n,r){return new e[t](n,r)}return t.registerModifier=function t(t,n){e[t]||(e[t]=n)},t.getModifier=n,t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,r,i){var s,o,a,l=[];e<=1?l.push({s:t,e:e}):t>=1?l.push({s:t-1,e:e-1}):(l.push({s:t,e:1}),l.push({s:0,e:e-1}));var h=[],c=l.length;for(s=0;s<c;s+=1)(o=l[s]).e*i<r||o.s*i>r+n||(a=o.s*i<=r?0:(o.s*i-r)/n,h.push([a,o.e*i>=r+n?1:(o.e*i-r)/n]));return h.length||h.push([0,0]),h},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){if(this._mdf||t){var e=this.o.v%360/360;if(e<0&&(e+=1),(s=this.s.v>1?1+e:this.s.v<0?0+e:this.s.v+e)>(o=this.e.v>1?1+e:this.e.v<0?0+e:this.e.v+e)){var n=s;s=o,o=n}s=1e-4*Math.round(1e4*s),o=1e-4*Math.round(1e4*o),this.sValue=s,this.eValue=o}else s=this.sValue,o=this.eValue;var r=this.shapes.length,i=0;if(o===s)for(l=0;l<r;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if((1!==o||0!==s)&&(0!==o||1!==s)){var s,o,a,l,h,c,u,d,p,f,m,g,y=[];for(l=0;l<r;l+=1)if((f=this.shapes[l]).shape._mdf||this._mdf||t||2===this.m){if(c=(a=f.shape.paths)._length,p=0,!f.shape._mdf&&f.pathsData.length)p=f.totalShapeLength;else{for(h=0,u=this.releasePathsData(f.pathsData);h<c;h+=1)d=bez.getSegmentsLength(a.shapes[h]),u.push(d),p+=d.totalLength;f.totalShapeLength=p,f.pathsData=u}i+=p,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v=s,b=o,x=0;for(l=r-1;l>=0;l-=1)if((f=this.shapes[l]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&r>1?(g=this.calculateShapeEdges(s,o,f.totalShapeLength,x,i),x+=f.totalShapeLength):g=[[v,b]],c=g.length,h=0;h<c;h+=1){v=g[h][0],b=g[h][1],y.length=0,b<=1?y.push({s:f.totalShapeLength*v,e:f.totalShapeLength*b}):v>=1?y.push({s:f.totalShapeLength*(v-1),e:f.totalShapeLength*(b-1)}):(y.push({s:f.totalShapeLength*v,e:f.totalShapeLength}),y.push({s:0,e:f.totalShapeLength*(b-1)}));var w=this.addShapes(f,y[0]);if(y[0].s!==y[0].e){if(y.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var k=w.pop();this.addPaths(w,m),w=this.addShapes(f,y[1],k)}else this.addPaths(w,m),w=this.addShapes(f,y[1]);this.addPaths(w,m)}}f.shape.paths=m}}else if(this._mdf)for(l=0;l<r;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0},TrimModifier.prototype.addPaths=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,r,i,s,o){i.setXYAt(e[0],e[1],"o",s),i.setXYAt(n[0],n[1],"i",s+1),o&&i.setXYAt(t[0],t[1],"v",s),i.setXYAt(r[0],r[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,r){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),r&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var r,i,s,o,a,l,h,c,u=t.pathsData,d=t.shape.paths.shapes,p=t.shape.paths._length,f=0,m=[],g=!0;for(n?(a=n._length,c=n._length):(n=shapePool.newElement(),a=0,c=0),m.push(n),r=0;r<p;r+=1){for(i=1,l=u[r].lengths,n.c=d[r].c,s=d[r].c?l.length:l.length+1;i<s;i+=1)if(f+(o=l[i-1]).addedLength<e.s)f+=o.addedLength,n.c=!1;else if(f>e.e){n.c=!1;break}else e.s<=f&&e.e>=f+o.addedLength?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[i],d[r].v[i],n,a,g),g=!1):(h=bez.getNewSegment(d[r].v[i-1],d[r].v[i],d[r].o[i-1],d[r].i[i],(e.s-f)/o.addedLength,(e.e-f)/o.addedLength,l[i-1]),this.addSegmentFromArray(h,n,a,g),g=!1,n.c=!1),f+=o.addedLength,a+=1;if(d[r].c&&l.length){if(o=l[i-1],f<=e.e){var y=l[i-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[0],d[r].v[0],n,a,g),g=!1):(h=bez.getNewSegment(d[r].v[i-1],d[r].v[0],d[r].o[i-1],d[r].i[0],(e.s-f)/y,(e.e-f)/y,l[i-1]),this.addSegmentFromArray(h,n,a,g),g=!1,n.c=!1)}else n.c=!1;f+=o.addedLength,a+=1}if(n._length&&(n.setXYAt(n.v[c][0],n.v[c][1],"i",c),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>e.e)break;r<p-1&&(n=shapePool.newElement(),g=!0,m.push(n),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n,r,i,s,o,a,l=e/100,h=[0,0],c=t._length,u=0;for(u=0;u<c;u+=1)h[0]+=t.v[u][0],h[1]+=t.v[u][1];h[0]/=c,h[1]/=c;var d=shapePool.newElement();for(u=0,d.c=t.c;u<c;u+=1)n=t.v[u][0]+(h[0]-t.v[u][0])*l,r=t.v[u][1]+(h[1]-t.v[u][1])*l,i=t.o[u][0]+-((h[0]-t.o[u][0])*l),s=t.o[u][1]+-((h[1]-t.o[u][1])*l),o=t.i[u][0]+-((h[0]-t.i[u][0])*l),a=t.i[u][1]+-((h[1]-t.i[u][1])*l),d.setTripleAt(n,r,i,s,o,a,u);return d},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,r,i,s,o,a=this.shapes.length,l=this.amount.v;if(0!==l)for(n=0;n<a;n+=1){if(o=(s=this.shapes[n]).localShapeCollection,!(!s.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)o.addShape(this.processPath(e[r],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0}function n(t,e,n){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var r,i=e.or.k.length;for(r=0;r<i;r+=1)e.or.k[r].to=null,e.or.k[r].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return n.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){var r=[],i=[],s=this.px,o=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(r[0]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),r[1]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),i[0]=s.getValueAtTime(s.keyframes[0].t/n,0),i[1]=o.getValueAtTime(o.keyframes[0].t/n,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(r[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),r[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),i[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0),i[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0)):(r=[s.pv,o.pv],i[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime),i[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime))}else r=i=t;this.v.rotate(-Math.atan2(r[1]-i[1],r[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length){if(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk)if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;else this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],n),n.prototype.addDynamicProperty=e,n.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,e,r){return new n(t,e,r)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return 1e-5>=Math.abs(t)}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(0===t)return[];var r=e*e-4*t*n;if(r<0)return[];var i=-e/(2*t);if(0===r)return[i];var s=Math.sqrt(r)/(2*t);return[i-s,i+s]}function polynomialCoefficients(t,e,n,r){return[-t+3*e-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,r,i){i&&pointEqual(t,e)&&(e=lerpPoint(t,r,1/3)),i&&pointEqual(n,r)&&(n=lerpPoint(t,r,2/3));var s=polynomialCoefficients(t[0],e[0],n[0],r[0]),o=polynomialCoefficients(t[1],e[1],n[1],r[1]);this.a=[s[0],o[0]],this.b=[s[1],o[1]],this.c=[s[2],o[2]],this.d=[s[3],o[3]],this.points=[t,e,n,r]}function extrema(t,e){var n=t.points[0][e],r=t.points[t.points.length-1][e];if(n>r){var i=r;r=n,n=i}for(var s=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),o=0;o<s.length;o+=1)if(s[o]>0&&s[o]<1){var a=t.point(s[o])[e];a<n?n=a:a>r&&(r=a)}return{min:n,max:r}}function intersectData(t,e,n){var r=t.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,n,r,i,s){if(boxIntersect(t,e)){if(n>=s||t.width<=r&&t.height<=r&&e.width<=r&&e.height<=r)return void i.push([t.t,e.t]);var o=splitData(t),a=splitData(e);intersectsImpl(o[0],a[0],n+1,r,i,s),intersectsImpl(o[0],a[1],n+1,r,i,s),intersectsImpl(o[1],a[0],n+1,r,i,s),intersectsImpl(o[1],a[1],n+1,r,i,s)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,r){var i=[t[0],t[1],1],s=[e[0],e[1],1],o=[n[0],n[1],1],a=[r[0],r[1],1],l=crossProduct(crossProduct(i,s),crossProduct(o,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,n,r,i,s,o){var a=n-Math.PI/2,l=n+Math.PI/2,h=e[0]+Math.cos(n)*r*i,c=e[1]-Math.sin(n)*r*i;t.setTripleAt(h,c,h+Math.cos(a)*s,c-Math.sin(a)*s,h+Math.cos(l)*o,c-Math.sin(l)*o,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],r=-(.5*Math.PI);return[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]]}function getProjectingAngle(t,e){var n=0===e?t.length()-1:e-1,r=(e+1)%t.length(),i=getPerpendicularVector(t.v[n],t.v[r]);return Math.atan2(0,1)-Math.atan2(i[1],i[0])}function zigZagCorner(t,e,n,r,i,s,o){var a=getProjectingAngle(e,n),l=e.v[n%e._length],h=e.v[0===n?e._length-1:n-1],c=e.v[(n+1)%e._length],u=2===s?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0,d=2===s?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0;setPoint(t,e.v[n%e._length],a,o,r,d/((i+1)*2),u/((i+1)*2),s)}function zigZagSegment(t,e,n,r,i,s){for(var o=0;o<r;o+=1){var a=(o+1)/(r+1),l=2===i?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,h=e.normalAngle(a);setPoint(t,e.point(a),h,s,n,l/((r+1)*2),l/((r+1)*2),i),s=-s}return s}function linearOffset(t,e,n){var r=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,r,n),polarOffset(e,r,n)]}function offsetSegment(t,e){n=(a=linearOffset(t.points[0],t.points[1],e))[0],r=a[1],i=(a=linearOffset(t.points[1],t.points[2],e))[0],s=a[1],o=(a=linearOffset(t.points[2],t.points[3],e))[0];var n,r,i,s,o,a,l=a[1],h=lineIntersection(n,r,i,s);null===h&&(h=r);var c=lineIntersection(o,l,i,s);return null===c&&(c=o),new PolynomialBezier(n,h,c,l)}function joinLines(t,e,n,r,i){var s=e.points[3],o=n.points[0];if(3===r||pointEqual(s,o))return s;if(2===r){var a=-e.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,h=lineIntersection(s,polarOffset(s,a+Math.PI/2,100),o,polarOffset(o,a+Math.PI/2,100)),c=h?pointDistance(h,s):pointDistance(s,o)/2,u=polarOffset(s,a,2*c*roundCorner);return t.setXYAt(u[0],u[1],"o",t.length()-1),u=polarOffset(o,l,2*c*roundCorner),t.setTripleAt(o[0],o[1],o[0],o[1],u[0],u[1],t.length()),o}var d=pointEqual(s,e.points[2])?e.points[0]:e.points[2],p=pointEqual(o,n.points[1])?n.points[3]:n.points[1],f=lineIntersection(d,s,o,p);return f&&pointDistance(f,s)<i?(t.setTripleAt(f[0],f[1],f[0],f[1],f[0],f[1],t.length()),f):s}function getIntersection(t,e){var n=t.intersections(e);return(n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length)?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),r=e.slice(),i=getIntersection(t[t.length-1],e[0]);return(i&&(n[t.length-1]=t[t.length-1].split(i[0])[0],r[0]=e[0].split(i[1])[1]),t.length>1&&e.length>1&&(i=getIntersection(t[0],e[e.length-1])))?[[t[0].split(i[0])[0]],[e[e.length-1].split(i[1])[1]]]:[n,r]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n,r,i,s,o=t.inflectionPoints();if(0===o.length)return[offsetSegment(t,e)];if(1===o.length||floatEqual(o[1],1))return n=(i=t.split(o[0]))[0],r=i[1],[offsetSegment(n,e),offsetSegment(r,e)];n=(i=t.split(o[0]))[0];var a=(o[1]-o[0])/(1-o[0]);return s=(i=i[1].split(a))[0],r=i[1],[offsetSegment(n,e),offsetSegment(s,e),offsetSegment(r,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",r="normal",i=e.length,s=0;s<i;s+=1)switch(e[s].toLowerCase()){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:r,weight:t.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,r,i,s){var o=s?-1:1,a=r.s.v[0]+(1-r.s.v[0])*(1-i),l=r.s.v[1]+(1-r.s.v[1])*(1-i);t.translate(r.p.v[0]*o*i,r.p.v[1]*o*i,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*o*i),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(s?1/a:a,s?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,r){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e=!1;if(this._mdf||t){var n,r,i,s,o,a,l,h,c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var u={it:this.cloneElements(this._elements),ty:"gr"};u.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,u),this._groups.splice(0,0,u),this._currentCopies+=1}this.elem.reloadShapes(),e=!0}for(i=0,o=0;i<=this._groups.length-1;i+=1){if(a=o<c,this._groups[i]._render=a,this.changeGroupRender(this._groups[i].it,a),!a){var d=this.elemsData[i].it,p=d[d.length-1];0!==p.transform.op.v?(p.transform.op._mdf=!0,p.transform.op.v=0):p.transform.op._mdf=!1}o+=1}this._currentCopies=c;var f=this.o.v,m=f%1,g=f>0?Math.floor(f):Math.ceil(f),y=this.pMatrix.props,v=this.rMatrix.props,b=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var x=0;if(f>0){for(;x<g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),x+=1;m&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,m,!1),x+=m)}else if(f<0){for(;x>g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),x-=1;m&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-m,!0),x-=m)}for(i=1===this.data.m?0:this._currentCopies-1,s=1===this.data.m?1:-1,o=this._currentCopies;o;){if(h=(r=(n=this.elemsData[i].it)[n.length-1].transform.mProps.v.props).length,n[n.length-1].transform.mProps._mdf=!0,n[n.length-1].transform.op._mdf=!0,n[n.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),0!==x){for((0!==i&&1===s||i!==this._currentCopies-1&&-1===s)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),l=0;l<h;l+=1)r[l]=this.matrix.props[l];this.matrix.reset()}else for(this.matrix.reset(),l=0;l<h;l+=1)r[l]=this.matrix.props[l];x+=1,o-=1,i+=s}}else for(o=this._currentCopies,i=0,s=1;o;)r=(n=this.elemsData[i].it)[n.length-1].transform.mProps.v.props,n[n.length-1].transform.mProps._mdf=!1,n[n.length-1].transform.op._mdf=!1,o-=1,i+=s;return e},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,r,i,s,o,a,l,h,c,u,d,p,f,m=shapePool.newElement();m.c=t.c;var g=t._length,y=0;for(n=0;n<g;n+=1)r=t.v[n],s=t.o[n],i=t.i[n],r[0]===s[0]&&r[1]===s[1]&&r[0]===i[0]&&r[1]===i[1]?0!==n&&n!==g-1||t.c?(o=0===n?t.v[g-1]:t.v[n-1],l=(a=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(a/2,e)/a:0,h=p=r[0]+(o[0]-r[0])*l,c=f=r[1]-(r[1]-o[1])*l,u=h-(h-r[0])*roundCorner,d=c-(c-r[1])*roundCorner,m.setTripleAt(h,c,u,d,p,f,y),y+=1,o=n===g-1?t.v[0]:t.v[n+1],l=(a=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(a/2,e)/a:0,h=u=r[0]+(o[0]-r[0])*l,c=d=r[1]+(o[1]-r[1])*l,p=h-(h-r[0])*roundCorner,f=c-(c-r[1])*roundCorner,m.setTripleAt(h,c,u,d,p,f,y)):m.setTripleAt(r[0],r[1],s[0],s[1],i[0],i[1],y):m.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],y),y+=1;return m},RoundCornersModifier.prototype.processShapes=function(t){var e,n,r,i,s,o,a=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<a;n+=1){if(o=(s=this.shapes[n]).localShapeCollection,!(!s.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)o.addShape(this.processPath(e[r],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[e]:[]:[e-r,e+r].filter(function(t){return t>0&&t<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),r=lerpPoint(this.points[2],this.points[3],t),i=lerpPoint(e,n,t),s=lerpPoint(n,r,t),o=lerpPoint(i,s,t);return[new PolynomialBezier(this.points[0],e,i,o,!0),new PolynomialBezier(o,s,r,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,n){void 0===e&&(e=2),void 0===n&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,r,n),r},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,n,r){var i=t._length,s=shapePool.newElement();if(s.c=t.c,t.c||(i-=1),0===i)return s;var o=-1,a=PolynomialBezier.shapeSegment(t,0);zigZagCorner(s,t,0,e,n,r,o);for(var l=0;l<i;l+=1)o=zigZagSegment(s,a,e,n,r,-o),a=l!==i-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%i):null,zigZagCorner(s,t,l+1,e,n,r,o);return s},ZigZagModifier.prototype.processShapes=function(t){var e,n,r,i,s,o,a=this.shapes.length,l=this.amplitude.v,h=Math.max(0,Math.round(this.frequency.v)),c=this.pointsType.v;if(0!==l)for(n=0;n<a;n+=1){if(o=(s=this.shapes[n]).localShapeCollection,!(!s.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)o.addShape(this.processPath(e[r],l,h,c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,n,r){var i,s,o,a=shapePool.newElement();a.c=t.c;var l=t.length();t.c||(l-=1);var h=[];for(i=0;i<l;i+=1)o=PolynomialBezier.shapeSegment(t,i),h.push(offsetSegmentSplit(o,e));if(!t.c)for(i=l-1;i>=0;i-=1)o=PolynomialBezier.shapeSegmentInverted(t,i),h.push(offsetSegmentSplit(o,e));h=pruneIntersections(h);var c=null,u=null;for(i=0;i<h.length;i+=1){var d=h[i];for(u&&(c=joinLines(a,u,d[0],n,r)),u=d[d.length-1],s=0;s<d.length;s+=1)o=d[s],c&&pointEqual(o.points[0],c)?a.setXYAt(o.points[1][0],o.points[1][1],"o",a.length()-1):a.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],a.length()),a.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],a.length()),c=o.points[3]}return h.length&&joinLines(a,u,h[0][0],n,r),a},OffsetPathModifier.prototype.processShapes=function(t){var e,n,r,i,s,o,a=this.shapes.length,l=this.amount.v,h=this.miterLimit.v,c=this.lineJoin;if(0!==l)for(n=0;n<a;n+=1){if(o=(s=this.shapes[n]).localShapeCollection,!(!s.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)o.addShape(this.processPath(e[r],l,c,h));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,i=917631,s=917601,o=917626,a=65039,l=8205,h=127462,c=127487,u=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function d(t){var e,n=t.split(","),r=n.length,i=[];for(e=0;e<r;e+=1)"sans-serif"!==n[e]&&"monospace"!==n[e]&&i.push(n[e]);return i.join(",")}function p(t,e){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=e;var r=createTag("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=d(t)+", "+e,{node:r,w:i,parent:n}}function f(){var e,n,r,i=this.fonts.length,s=i;for(e=0;e<i;e+=1)this.fonts[e].loaded?s-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(n=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,n.offsetWidth!==r?(s-=1,this.fonts[e].loaded=!0):(n=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,n.offsetWidth!==r&&(s-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==s&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function m(t,e){var n,r=document.body&&e?"svg":"canvas",i=getFontProperties(t);if("svg"===r){var s=createNS("text");s.style.fontSize="100px",s.setAttribute("font-family",t.fFamily),s.setAttribute("font-style",i.style),s.setAttribute("font-weight",i.weight),s.textContent="1",t.fClass?(s.style.fontFamily="inherit",s.setAttribute("class",t.fClass)):s.style.fontFamily=t.fFamily,e.appendChild(s),n=s}else{var o=new OffscreenCanvas(500,500).getContext("2d");o.font=i.style+" "+i.weight+" 100px "+t.fFamily,n=o}return{measureText:function(t){return"svg"===r?(n.textContent=t,n.getComputedTextLength()):n.measureText(t).width}}}function g(t,e){if(!t){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=t.list;return}if(!document.body){this.isLoaded=!0,t.list.forEach(function(t){t.helper=m(t),t.cache={}}),this.fonts=t.list;return}var n=t.list,r=n.length,i=r;for(s=0;s<r;s+=1){var s,o,a,l=!0;if(n[s].loaded=!1,n[s].monoCase=p(n[s].fFamily,"monospace"),n[s].sansCase=p(n[s].fFamily,"sans-serif"),n[s].fPath){if("p"===n[s].fOrigin||3===n[s].origin){if((o=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[s].fFamily+'"], style[f-origin="3"][f-family="'+n[s].fFamily+'"]')).length>0&&(l=!1),l){var h=createTag("style");h.setAttribute("f-forigin",n[s].fOrigin),h.setAttribute("f-origin",n[s].origin),h.setAttribute("f-family",n[s].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+n[s].fFamily+"; font-style: normal; src: url('"+n[s].fPath+"');}",e.appendChild(h)}}else if("g"===n[s].fOrigin||1===n[s].origin){for(a=0,o=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');a<o.length;a+=1)-1!==o[a].href.indexOf(n[s].fPath)&&(l=!1);if(l){var c=createTag("link");c.setAttribute("f-forigin",n[s].fOrigin),c.setAttribute("f-origin",n[s].origin),c.type="text/css",c.rel="stylesheet",c.href=n[s].fPath,document.body.appendChild(c)}}else if("t"===n[s].fOrigin||2===n[s].origin){for(a=0,o=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');a<o.length;a+=1)n[s].fPath===o[a].src&&(l=!1);if(l){var u=createTag("link");u.setAttribute("f-forigin",n[s].fOrigin),u.setAttribute("f-origin",n[s].origin),u.setAttribute("rel","stylesheet"),u.setAttribute("href",n[s].fPath),e.appendChild(u)}}}else n[s].loaded=!0,i-=1;n[s].helper=m(n[s],e),n[s].cache={},this.fonts.push(n[s])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function y(t){if(t){this.chars||(this.chars=[]);var e,n,r,i=t.length,s=this.chars.length;for(e=0;e<i;e+=1){for(n=0,r=!1;n<s;)this.chars[n].style===t[e].style&&this.chars[n].fFamily===t[e].fFamily&&this.chars[n].ch===t[e].ch&&(r=!0),n+=1;r||(this.chars.push(t[e]),s+=1)}}}function v(t,n,r){for(var i=0,s=this.chars.length;i<s;){if(this.chars[i].ch===t&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0),e}function b(t,e,n){var r=this.getFontByName(e),i=t;if(!r.cache[i]){var s=r.helper;if(" "===t){var o=s.measureText("|"+t+"|"),a=s.measureText("||");r.cache[i]=(o-a)/100}else r.cache[i]=s.measureText(t)/100}return r.cache[i]*n}function x(t){for(var e=0,n=this.fonts.length;e<n;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]}function w(t){var e=0,n=t.charCodeAt(0);if(n>=55296&&n<=56319){var r=t.charCodeAt(1);r>=56320&&r<=57343&&(e=(n-55296)*1024+r-56320+65536)}return e}function k(t){return t===l}function S(t){return t===a}function C(t){var e=w(t);return!!(e>=h)&&!!(e<=c)}function M(t){return C(t.substr(0,2))&&C(t.substr(2,2))}function E(t){return -1!==n.indexOf(t)}function A(t,e){var n=w(t.substr(e,2));if(n!==r)return!1;var a=0;for(e+=2;a<5;){if((n=w(t.substr(e,2)))<s||n>o)return!1;a+=1,e+=2}return w(t.substr(e,2))===i}function _(){this.isLoaded=!0}var T=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return T.isModifier=function(t,e){var n=t.toString(16)+e.toString(16);return -1!==u.indexOf(n)},T.isZeroWidthJoiner=k,T.isFlagEmoji=M,T.isRegionalCode=C,T.isCombinedCharacter=E,T.isRegionalFlag=A,T.isVariationSelector=S,T.BLACK_FLAG_CODE_POINT=r,T.prototype={addChars:y,addFonts:g,getCharData:v,getFontByName:x,measureText:b,checkLoadedFonts:f,setIsLoaded:_},T}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,r,i=t.ef||[];this.effectElements=[];var s=i.length;for(n=0;n<s;n+=1)r=new GroupEffect(i[n],e),this.effectElements.push(r)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,r,i=this.data.ef.length,s=this.data.ef;for(n=0;n<i;n+=1){switch(r=null,s[n].ty){case 0:r=new SliderEffect(s[n],e,this);break;case 1:r=new AngleEffect(s[n],e,this);break;case 2:r=new ColorEffect(s[n],e,this);break;case 3:r=new PointEffect(s[n],e,this);break;case 4:case 7:r=new CheckboxEffect(s[n],e,this);break;case 10:r=new LayerIndexEffect(s[n],e,this);break;case 11:r=new MaskIndexEffect(s[n],e,this);break;case 5:r=new EffectsManager(s[n],e,this);break;default:r=new NoValueEffect(s[n],e,this)}r&&this.effectElements.push(r)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),r=t("shape"),i=t("text"),s=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),0===this.data.ty||this.data.xt?this.compInterface=s(this):4===this.data.ty?(this.layerInterface.shapeInterface=r(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=i(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,n,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e-=1)!this.elements[e]&&(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,n,r=t.length,i=this.layers.length;for(e=0;e<r;e+=1)for(n=0;n<i;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var r=this.elements,i=this.layers,s=0,o=i.length;s<o;)i[s].ind==e&&(r[s]&&!0!==r[s]?(n.push(r[s]),r[s].setAsParent(),void 0!==i[s].parent?this.buildElementParenting(t,i[s].parent,n):t.setHierarchy(n)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift();if("number"==typeof e)n=this.elements[e];else{var n,r,i=this.elements.length;for(r=0;r<i;r+=1)if(this.elements[r].data.nm===e){n=this.elements[r];break}}return 0===t.length?n:n.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r=this.globalData.defs,i=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(i),this.solidPath="";var s=this.masksProperties,o=0,a=[],l=createElementID(),h="clipPath",c="clip-path";for(u=0;u<i;u+=1)if(("a"!==s[u].mode&&"n"!==s[u].mode||s[u].inv||100!==s[u].o.k||s[u].o.x)&&(h="mask",c="mask"),("s"===s[u].mode||"i"===s[u].mode)&&0===o?((f=createNS("rect")).setAttribute("fill","#ffffff"),f.setAttribute("width",this.element.comp.data.w||0),f.setAttribute("height",this.element.comp.data.h||0),a.push(f)):f=null,d=createNS("path"),"n"===s[u].mode)this.viewData[u]={op:PropertyFactory.getProp(this.element,s[u].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,s[u],3),elem:d,lastPath:""},r.appendChild(d);else{if(o+=1,d.setAttribute("fill","s"===s[u].mode?"#000000":"#ffffff"),d.setAttribute("clip-rule","nonzero"),0!==s[u].x.k?(h="mask",c="mask",y=PropertyFactory.getProp(this.element,s[u].x,0,null,this.element),v=createElementID(),(m=createNS("filter")).setAttribute("id",v),(g=createNS("feMorphology")).setAttribute("operator","erode"),g.setAttribute("in","SourceGraphic"),g.setAttribute("radius","0"),m.appendChild(g),r.appendChild(m),d.setAttribute("stroke","s"===s[u].mode?"#000000":"#ffffff")):(g=null,y=null),this.storedData[u]={elem:d,x:y,expan:g,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===s[u].mode){var u,d,p,f,m,g,y,v,b=a.length,x=createNS("g");for(p=0;p<b;p+=1)x.appendChild(a[p]);var w=createNS("mask");w.setAttribute("mask-type","alpha"),w.setAttribute("id",l+"_"+o),w.appendChild(d),r.appendChild(w),x.setAttribute("mask","url("+getLocationHref()+"#"+l+"_"+o+")"),a.length=0,a.push(x)}else a.push(d);s[u].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[u]={elem:d,lastPath:"",op:PropertyFactory.getProp(this.element,s[u].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,s[u],3),invRect:f},this.viewData[u].prop.k||this.drawPath(s[u],this.viewData[u].prop.v,this.viewData[u])}for(u=0,this.maskElement=createNS(h),i=a.length;u<i;u+=1)this.maskElement.appendChild(a[u]);o>0&&(this.maskElement.setAttribute("id",l),this.element.maskedElement.setAttribute(c,"url("+getLocationHref()+"#"+l+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<r;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var r=this.localTransforms[t].matrix;n.multiply(r)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var i=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)i*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=i}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e,n,r=[];r.push(this.finalTransform);for(var i=!0,s=this.comp;i;)s.finalTransform?(s.data.hasMask&&r.splice(0,0,s.finalTransform),s=s.comp):i=!1;var o=r.length;for(e=0;e<o;e+=1)n=r[e].mat.applyToPointArray(0,0,0),t=[t[0]-n[0],t[1]-n[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(e=0;e<r;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+(" h"+this.globalData.compSize.w+" v"+this.globalData.compSize.h+" h-"+this.globalData.compSize.w+(" v-"+this.globalData.compSize.h)+" ")},MaskElement.prototype.drawPath=function(t,e,n){var r,i,s=" M"+e.v[0][0]+","+e.v[0][1];for(r=1,i=e._length;r<i;r+=1)s+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&i>1&&(s+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==s){var o="";n.elem&&(e.c&&(o=t.inv?this.solidPath+s:s),n.elem.setAttribute("d",o)),n.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};function e(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}return t.createFilter=function t(t,e){var n=createNS("filter");return n.setAttribute("id",t),!0!==e&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n},t.createAlphaToLuminanceFilter=e,t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n,r="SourceGraphic",i=t.data.ef?t.data.ef.length:0,s=createElementID(),o=filtersFactory.createFilter(s,!0),a=0;for(e=0,this.filters=[];e<i;e+=1){n=null;var l=t.data.ef[e].ty;registeredEffects$1[l]&&(n=new registeredEffects$1[l].effect(o,t.effectsManager.effectElements[e],t,idPrefix+a,r),r=idPrefix+a,registeredEffects$1[l].countsAsEffect&&(a+=1)),n&&this.filters.push(n)}a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),r=createNS("path");r.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var i=createElementID();if(n.setAttribute("id",i),n.appendChild(r),this.globalData.defs.appendChild(n),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),s.appendChild(this.layerElement),this.transformedElement=s,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,n,r,i,s=this.layerId+"_"+t;if(1===t||3===t){var o=createNS("mask");o.setAttribute("id",s),o.setAttribute("mask-type",3===t?"luminance":"alpha"),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(r),this.globalData.defs.appendChild(o),featureSupport.maskType||1!==t||(o.setAttribute("mask-type","luminance"),e=createElementID(),n=filtersFactory.createFilter(e),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(r),o.appendChild(i),i.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var a=createNS("mask");a.setAttribute("id",s),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),e=createElementID(),n=filtersFactory.createFilter(e);var h=createNS("feComponentTransfer");h.setAttribute("in","SourceGraphic"),n.appendChild(h);var c=createNS("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),h.appendChild(c),this.globalData.defs.appendChild(n);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(u),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(r),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),l.appendChild(u),i.appendChild(this.layerElement),l.appendChild(i)),this.globalData.defs.appendChild(a)}this.matteMasks[t]=s}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},function(){extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement)}(),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=0,n=this.shapeModifiers.length;e<n;)if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(e=this.shapeModifiers.length,t=e-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,r=e.length;n<r;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===t){n[r].pos=e;return}n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var r=0,i=t.length;r<i;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,n,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var i,s,o=e.length||0;for(i=0;i<o;i+=1)s=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=s.k||this.k,this.dataProps[i]={n:e[i].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<n;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,r,i=4*this.data.p;for(e=0;e<i;e+=1)n=e%4==0?100:255,r=Math.round(this.prop.v[e]*n),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)n=e%2==0?100:1,r=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n,r,i,s=createElementID(),o=createNS(1===e.t?"linearGradient":"radialGradient");o.setAttribute("id",s),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var a=[];for(r=0,i=4*e.g.p;r<i;r+=4)n=createNS("stop"),o.appendChild(n),a.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+s+")"),this.gf=o,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,s=createNS("mask"),o=createNS("path");s.appendChild(o);var a=createElementID(),l=createElementID();s.setAttribute("id",l);var h=createNS(1===t.t?"linearGradient":"radialGradient");h.setAttribute("id",a),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var c=this.stops;for(r=4*t.g.p;r<i;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(n),c.push(n);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===t.ty&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&o.setAttribute("stroke-miterlimit",t.ml)),this.of=h,this.ms=s,this.ost=c,this.maskId=l,e.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,n,r){if(0===e)return"";var i,s=t.o,o=t.i,a=t.v,l=" M"+r.applyToPointStringified(a[0][0],a[0][1]);for(i=1;i<e;i+=1)l+=" C"+r.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+r.applyToPointStringified(o[i][0],o[i][1])+" "+r.applyToPointStringified(a[i][0],a[i][1]);return n&&e&&(l+=" C"+r.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+r.applyToPointStringified(o[0][0],o[0][1])+" "+r.applyToPointStringified(a[0][0],a[0][1])+"z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(t,e,n){(n||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(n||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function r(){}function i(n,r,i){var s,o,a,l,h,c,u,d,p,f,m=r.styles.length,g=r.lvl;for(c=0;c<m;c+=1){if(l=r.sh._mdf||i,r.styles[c].lvl<g){for(d=e.reset(),p=g-r.styles[c].lvl,f=r.transformers.length-1;!l&&p>0;)l=r.transformers[f].mProps._mdf||l,p-=1,f-=1;if(l)for(p=g-r.styles[c].lvl,f=r.transformers.length-1;p>0;)d.multiply(r.transformers[f].mProps.v),p-=1,f-=1}else d=t;if(o=(u=r.sh.paths)._length,l){for(s=0,a="";s<o;s+=1)(h=u.shapes[s])&&h._length&&(a+=buildShapeString(h,h._length,h.c,d));r.caches[c]=a}else a=r.caches[c];r.styles[c].d+=!0===n.hd?"":a,r.styles[c]._mdf=l||r.styles[c]._mdf}}function s(t,e,n){var r=e.style;(e.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,n){a(t,e,n),l(t,e,n)}function a(t,e,n){var r,i,s,o,a,l=e.gf,h=e.g._hasOpacity,c=e.s.v,u=e.e.v;if(e.o._mdf||n){var d="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(d,e.o.v)}if(e.s._mdf||n){var p=1===t.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,c[0]),l.setAttribute(f,c[1]),h&&!e.g._collapsable&&(e.of.setAttribute(p,c[0]),e.of.setAttribute(f,c[1]))}if(e.g._cmdf||n){r=e.cst;var m=e.g.c;for(i=0,s=r.length;i<s;i+=1)(o=r[i]).setAttribute("offset",m[4*i]+"%"),o.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(h&&(e.g._omdf||n)){var g=e.g.o;for(i=0,s=(r=e.g._collapsable?e.cst:e.ost).length;i<s;i+=1)o=r[i],e.g._collapsable||o.setAttribute("offset",g[2*i]+"%"),o.setAttribute("stop-opacity",g[2*i+1])}if(1===t.t)(e.e._mdf||n)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),h&&!e.g._collapsable&&(e.of.setAttribute("x2",u[0]),e.of.setAttribute("y2",u[1])));else if((e.s._mdf||e.e._mdf||n)&&(a=Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2)),l.setAttribute("r",a),h&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.s._mdf||e.e._mdf||e.h._mdf||e.a._mdf||n){a||(a=Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2)));var y=Math.atan2(u[1]-c[1],u[0]-c[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var b=a*v,x=Math.cos(y+e.a.v)*b+c[0],w=Math.sin(y+e.a.v)*b+c[1];l.setAttribute("fx",x),l.setAttribute("fy",w),h&&!e.g._collapsable&&(e.of.setAttribute("fx",x),e.of.setAttribute("fy",w))}}function l(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return s;case"gf":return a;case"gs":return o;case"st":return l;case"sh":case"el":case"rc":case"sr":return i;case"tr":return n;case"no":return r;default:return null}}}}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function LetterProps(t,e,n,r,i,s){this.o=t,this.sw=e,this.sc=n,this.fc=r,this.m=i,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,r,i=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(n=0;n<s;n+=1){for(t=0,r=this.stylesList[n],a=!1,o.length=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(r)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,r=new SVGStyleData(t,e),i=r.pElem;return"st"===t.ty?n=new SVGStrokeStyleData(this,t,r):"fl"===t.ty?n=new SVGFillStyleData(this,t,r):"gf"===t.ty||"gs"===t.ty?(n=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):"no"===t.ty&&(n=new SVGNoStyleData(this,t,r)),("st"===t.ty||"gs"===t.ty)&&(i.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var i=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,r,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)-1!==n.indexOf(this.stylesList[e])||this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,r,i,s,o){var a,l,h,c,u,d,p=[].concat(s),f=t.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((d=this.searchProcessedElement(t[a]))?e[a]=n[d-1]:t[a]._render=o,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty||"no"===t[a].ty)d?e[a].style.closed=t[a].hd:e[a]=this.createStyleElement(t[a],i),t[a]._render&&e[a].style.pElem.parentNode!==r&&r.appendChild(e[a].style.pElem),m.push(e[a].style);else if("gr"===t[a].ty){if(d)for(l=0,h=e[a].it.length;l<h;l+=1)e[a].prevViewData[l]=e[a].it[l];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,i+1,p,o),t[a]._render&&e[a].gr.parentNode!==r&&r.appendChild(e[a].gr)}else"tr"===t[a].ty?(d||(e[a]=this.createTransformElement(t[a],r)),c=e[a].transform,p.push(c)):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?(d||(e[a]=this.createShapeElement(t[a],p,i)),this.setElementStyles(e[a])):"tm"===t[a].ty||"rd"===t[a].ty||"ms"===t[a].ty||"pb"===t[a].ty||"zz"===t[a].ty||"op"===t[a].ty?(d?(u=e[a]).closed=!1:((u=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=u,this.shapeModifiers.push(u)),g.push(u)):"rp"===t[a].ty&&(d?(u=e[a]).closed=!0:(u=ShapeModifiers.getModifier(t[a].ty),e[a]=u,u.init(this,t,a,e),this.shapeModifiers.push(u),o=!1),g.push(u));this.addProcessedElement(t[a],a+1)}for(a=0,f=m.length;a<f;a+=1)m[a].closed=!0;for(a=0,f=g.length;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,n,r,i,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,o=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,o=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,o=!0),s.length&&(this.p[0]!==s[0]||this.p[1]!==s[1]||this.p[4]!==s[4]||this.p[5]!==s[5]||this.p[12]!==s[12]||this.p[13]!==s[13])&&(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e,n=this.currentData,r=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(e=0;e<i;e+=1)s=r!==this.keysIndex?this.effectsSequence[e](s,s.t):this.effectsSequence[e](this.currentData,s.t);n!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,r=t.length;n<=r-1&&n!==r-1&&!(t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n,r=[],i=0,s=t.length,o=!1,a=!1,l="";i<s;)o=a,a=!1,e=t.charCodeAt(i),l=t.charAt(i),FontManager.isCombinedCharacter(e)?o=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,i)?l=t.substr(i,14):(n=t.charCodeAt(i+1))>=56320&&n<=57343&&(FontManager.isModifier(e,n)?(l=t.substr(i,2),o=!0):l=FontManager.isFlagEmoji(t.substr(i,4))?t.substr(i,4):t.substr(i,2)):e>56319?(n=t.charCodeAt(i+1),FontManager.isVariationSelector(e)&&(o=!0)):FontManager.isZeroWidthJoiner(e)&&(o=!0,a=!0),o?(r[r.length-1]+=l,o=!1):r.push(l),i+=l.length;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,n=this.data,r=[],i=0,s=n.m.g,o=0,a=0,l=0,h=[],c=0,u=0,d=e.getFontByName(t.f),p=0,f=getFontProperties(d);t.fWeight=f.weight,t.fStyle=f.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),y=t.finalText.length,t.finalLineHeight=t.lh;var m=t.tr/1e3*t.finalSize;if(t.sz)for(var g,y,v,b,x,w,k,S,C,M,E=!0,A=t.sz[0],_=t.sz[1];E;){M=this.buildFinalText(t.t),C=0,c=0,y=M.length,m=t.tr/1e3*t.finalSize;var T=-1;for(g=0;g<y;g+=1)S=M[g].charCodeAt(0),v=!1," "===M[g]?T=g:(13===S||3===S)&&(c=0,v=!0,C+=t.finalLineHeight||1.2*t.finalSize),e.chars?(k=e.getCharData(M[g],d.fStyle,d.fFamily),p=v?0:k.w*t.finalSize/100):p=e.measureText(M[g],t.f,t.finalSize),c+p>A&&" "!==M[g]?(-1===T?y+=1:g=T,C+=t.finalLineHeight||1.2*t.finalSize,M.splice(g,+(T===g),"\r"),T=-1,c=0):(c+=p,c+=m);C+=d.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&_<C?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=M,y=t.finalText.length,E=!1)}c=-m,p=0;var P=0;for(g=0;g<y;g+=1)if(v=!1,13===(S=(O=t.finalText[g]).charCodeAt(0))||3===S?(P=0,h.push(c),u=c>u?c:u,c=-2*m,b="",v=!0,l+=1):b=O,e.chars?(k=e.getCharData(O,d.fStyle,e.getFontByName(t.f).fFamily),p=v?0:k.w*t.finalSize/100):p=e.measureText(b,t.f,t.finalSize)," "===O?P+=p+m:(c+=p+m+P,P=0),r.push({l:p,an:p,add:o,n:v,anIndexes:[],val:b,line:l,animatorJustifyOffset:0}),2==s){if(o+=p,""===b||" "===b||g===y-1){for((""===b||" "===b)&&(o-=p);a<=g;)r[a].an=o,r[a].ind=i,r[a].extra=p,a+=1;i+=1,o=0}}else if(3==s){if(o+=p,""===b||g===y-1){for(""===b&&(o-=p);a<=g;)r[a].an=o,r[a].ind=i,r[a].extra=p,a+=1;o=0,i+=1}}else r[i].ind=i,r[i].extra=0,i+=1;if(t.l=r,u=c>u?c:u,h.push(c),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=u,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=h;var D=n.a;w=D.length;var N=[];for(x=0;x<w;x+=1){for((I=D[x]).a.sc&&(t.strokeColorAnim=!0),I.a.sw&&(t.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(t.fillColorAnim=!0),R=0,z=I.s.b,g=0;g<y;g+=1)(L=r[g]).anIndexes[x]=R,(1==z&&""!==L.val||2==z&&""!==L.val&&" "!==L.val||3==z&&(L.n||" "==L.val||g==y-1)||4==z&&(L.n||g==y-1))&&(1===I.s.rn&&N.push(R),R+=1);n.a[x].s.totalChars=R;var O,I,L,z,R,F,B=-1;if(1===I.s.rn)for(g=0;g<y;g+=1)B!=(L=r[g]).anIndexes[x]&&(B=L.anIndexes[x],F=N.splice(Math.floor(Math.random()*N.length),1)[0]),L.anIndexes[x]=F}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=d.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),"e"in e?this.e=PropertyFactory.getProp(t,e.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,s=0,o=1,a=1;this.ne.v>0?i=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(i,s,o,a).get,h=0,c=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)h=l(h=u===c?+(r>=u):t(0,e(.5/(u-c)+(r-c)/(u-c),1)));else if(3===d)h=l(h=u===c?r>=u?0:1:1-t(0,e(.5/(u-c)+(r-c)/(u-c),1)));else if(4===d)u===c?h=0:(h=t(0,e(.5/(u-c)+(r-c)/(u-c),1)))<.5?h*=2:h=1-2*(h-.5),h=l(h);else if(5===d){if(u===c)h=0;else{var p=u-c,f=-p/2+(r=e(t(0,r+.5-c),u-c)),m=p/2;h=Math.sqrt(1-f*f/(m*m))}h=l(h)}else 6===d?h=l(h=u===c?0:(1+Math.cos(Math.PI+2*Math.PI*(r=e(t(0,r+.5-c),u-c))/(u-c)))/2):(r>=n(c)&&(h=r-c<0?t(0,e(e(u,1)-(c-r),1)):t(0,e(u-r,1))),h=l(h));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;h<y?h=0:(h=(h-y)/g)>1&&(h=1)}return h*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/e,r=this.s.v/e+n,i=this.e.v/e+n;if(r>i){var s=r;r=i,i=s}this.finalS=r,this.finalE=i}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(t,e,n){return new r(t,e,n)}}}();function TextAnimatorDataProperty(t,e,n){var r={propType:!1},i=PropertyFactory.getProp,s=e.a;this.a={r:s.r?i(t,s.r,0,degToRads,n):r,rx:s.rx?i(t,s.rx,0,degToRads,n):r,ry:s.ry?i(t,s.ry,0,degToRads,n):r,sk:s.sk?i(t,s.sk,0,degToRads,n):r,sa:s.sa?i(t,s.sa,0,degToRads,n):r,s:s.s?i(t,s.s,1,.01,n):r,a:s.a?i(t,s.a,1,0,n):r,o:s.o?i(t,s.o,0,.01,n):r,p:s.p?i(t,s.p,1,0,n):r,sw:s.sw?i(t,s.sw,0,0,n):r,sc:s.sc?i(t,s.sc,1,0,n):r,fc:s.fc?i(t,s.fc,1,0,n):r,fh:s.fh?i(t,s.fh,0,0,n):r,fs:s.fs?i(t,s.fs,0,.01,n):r,fb:s.fb?i(t,s.fb,0,.01,n):r,t:s.t?i(t,s.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,n=this._textData.a.length,r=PropertyFactory.getProp;for(t=0;t<n;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,s,o,a,l,h,c,u,d,p,f,m,g,y,v,b,x=this._moreOptions.alignment.v,w=this._animatorsData,k=this._textData,S=this.mHelper,C=this._renderType,M=this.renderedLetters.length,E=t.l;if(this._hasMaskedPath){if(W=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,_,T,P,D,N,O,I,L,z,R,F,B,j,V,$,H,q,W,K,U=W.v;for(this._pathData.r.v&&(U=U.reverse()),D={tLength:0,segments:[]},P=U._length-1,$=0,T=0;T<P;T+=1)K=bez.buildBezierData(U.v[T],U.v[T+1],[U.o[T][0]-U.v[T][0],U.o[T][1]-U.v[T][1]],[U.i[T+1][0]-U.v[T+1][0],U.i[T+1][1]-U.v[T+1][1]]),D.tLength+=K.segmentLength,D.segments.push(K),$+=K.segmentLength;T=P,W.v.c&&(K=bez.buildBezierData(U.v[T],U.v[0],[U.o[T][0]-U.v[T][0],U.o[T][1]-U.v[T][1]],[U.i[0][0]-U.v[0][0],U.i[0][1]-U.v[0][1]]),D.tLength+=K.segmentLength,D.segments.push(K),$+=K.segmentLength),this._pathData.pi=D}if(D=this._pathData.pi,N=this._pathData.f.v,R=0,z=1,I=0,L=!0,j=D.segments,N<0&&W.v.c)for(D.tLength<Math.abs(N)&&(N=-Math.abs(N)%D.tLength),R=j.length-1,z=(B=j[R].points).length-1;N<0;)N+=B[z].partialLength,(z-=1)<0&&(R-=1,z=(B=j[R].points).length-1);F=(B=j[R].points)[z-1],V=(O=B[z]).partialLength}P=E.length,A=0,_=0;var J=1.2*t.finalSize*.714,G=!0;s=w.length;var Y=-1,X=N,Z=R,Q=z,tt=-1,te="",tn=this.defaultPropsArray;if(2===t.j||1===t.j){var tr=0,ti=0,ts=2===t.j?-.5:-1,to=0,ta=!0;for(T=0;T<P;T+=1)if(E[T].n){for(tr&&(tr+=ti);to<T;)E[to].animatorJustifyOffset=tr,to+=1;tr=0,ta=!0}else{for(i=0;i<s;i+=1)(n=w[i].a).t.propType&&(ta&&2===t.j&&(ti+=n.t.v*ts),(a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars)).length?tr+=n.t.v*a[0]*ts:tr+=n.t.v*a*ts);ta=!1}for(tr&&(tr+=ti);to<T;)E[to].animatorJustifyOffset=tr,to+=1}for(T=0;T<P;T+=1){if(S.reset(),u=1,E[T].n)A=0,_+=t.yOffset,_+=+!!G,N=X,G=!1,this._hasMaskedPath&&(R=Z,z=Q,F=(B=j[R].points)[z-1],V=(O=B[z]).partialLength,I=0),te="",v="",g="",b="",tn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(tt!==E[T].line){switch(t.j){case 1:N+=$-t.lineWidths[E[T].line];break;case 2:N+=($-t.lineWidths[E[T].line])/2}tt=E[T].line}Y!==E[T].ind&&(E[Y]&&(N+=E[Y].extra),N+=E[T].an/2,Y=E[T].ind),N+=x[0]*E[T].an*.005;var tl=0;for(i=0;i<s;i+=1)(n=w[i].a).p.propType&&((a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars)).length?tl+=n.p.v[0]*a[0]:tl+=n.p.v[0]*a),n.a.propType&&((a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars)).length?tl+=n.a.v[0]*a[0]:tl+=n.a.v[0]*a);for(L=!0,this._pathData.a.v&&(N=.5*E[0].an+($-this._pathData.f.v-.5*E[0].an-.5*E[E.length-1].an)*Y/(P-1)+this._pathData.f.v);L;)I+V>=N+tl||!B?(H=(N+tl-I)/O.partialLength,h=F.point[0]+(O.point[0]-F.point[0])*H,c=F.point[1]+(O.point[1]-F.point[1])*H,S.translate(-x[0]*E[T].an*.005,-(.01*(x[1]*J))),L=!1):B&&(I+=O.partialLength,(z+=1)>=B.length&&(z=0,j[R+=1]?B=j[R].points:W.v.c?(z=0,B=j[R=0].points):(I-=O.partialLength,B=null)),B&&(F=O,V=(O=B[z]).partialLength));l=E[T].an/2-E[T].add,S.translate(-l,0,0)}else l=E[T].an/2-E[T].add,S.translate(-l,0,0),S.translate(-x[0]*E[T].an*.005,-x[1]*J*.01,0);for(i=0;i<s;i+=1)(n=w[i].a).t.propType&&(a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars),(0!==A||0!==t.j)&&(this._hasMaskedPath?a.length?N+=n.t.v*a[0]:N+=n.t.v*a:a.length?A+=n.t.v*a[0]:A+=n.t.v*a));for(t.strokeWidthAnim&&(p=t.sw||0),t.strokeColorAnim&&(d=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(f=[t.fc[0],t.fc[1],t.fc[2]]),i=0;i<s;i+=1)(n=w[i].a).a.propType&&((a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars)).length?S.translate(-n.a.v[0]*a[0],-n.a.v[1]*a[1],n.a.v[2]*a[2]):S.translate(-n.a.v[0]*a,-n.a.v[1]*a,n.a.v[2]*a));for(i=0;i<s;i+=1)(n=w[i].a).s.propType&&((a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars)).length?S.scale(1+(n.s.v[0]-1)*a[0],1+(n.s.v[1]-1)*a[1],1):S.scale(1+(n.s.v[0]-1)*a,1+(n.s.v[1]-1)*a,1));for(i=0;i<s;i+=1){if(n=w[i].a,a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars),n.sk.propType&&(a.length?S.skewFromAxis(-n.sk.v*a[0],n.sa.v*a[1]):S.skewFromAxis(-n.sk.v*a,n.sa.v*a)),n.r.propType&&(a.length?S.rotateZ(-n.r.v*a[2]):S.rotateZ(-n.r.v*a)),n.ry.propType&&(a.length?S.rotateY(n.ry.v*a[1]):S.rotateY(n.ry.v*a)),n.rx.propType&&(a.length?S.rotateX(n.rx.v*a[0]):S.rotateX(n.rx.v*a)),n.o.propType&&(a.length?u+=(n.o.v*a[0]-u)*a[0]:u+=(n.o.v*a-u)*a),t.strokeWidthAnim&&n.sw.propType&&(a.length?p+=n.sw.v*a[0]:p+=n.sw.v*a),t.strokeColorAnim&&n.sc.propType)for(m=0;m<3;m+=1)a.length?d[m]+=(n.sc.v[m]-d[m])*a[0]:d[m]+=(n.sc.v[m]-d[m])*a;if(t.fillColorAnim&&t.fc){if(n.fc.propType)for(m=0;m<3;m+=1)a.length?f[m]+=(n.fc.v[m]-f[m])*a[0]:f[m]+=(n.fc.v[m]-f[m])*a;n.fh.propType&&(f=a.length?addHueToRGB(f,n.fh.v*a[0]):addHueToRGB(f,n.fh.v*a)),n.fs.propType&&(f=a.length?addSaturationToRGB(f,n.fs.v*a[0]):addSaturationToRGB(f,n.fs.v*a)),n.fb.propType&&(f=a.length?addBrightnessToRGB(f,n.fb.v*a[0]):addBrightnessToRGB(f,n.fb.v*a))}}for(i=0;i<s;i+=1)(n=w[i].a).p.propType&&(a=(r=w[i].s).getMult(E[T].anIndexes[i],k.a[i].s.totalChars),this._hasMaskedPath?a.length?S.translate(0,n.p.v[1]*a[0],-n.p.v[2]*a[1]):S.translate(0,n.p.v[1]*a,-n.p.v[2]*a):a.length?S.translate(n.p.v[0]*a[0],n.p.v[1]*a[1],-n.p.v[2]*a[2]):S.translate(n.p.v[0]*a,n.p.v[1]*a,-n.p.v[2]*a));if(t.strokeWidthAnim&&(g=p<0?0:p),t.strokeColorAnim&&(y="rgb("+Math.round(255*d[0])+","+Math.round(255*d[1])+","+Math.round(255*d[2])+")"),t.fillColorAnim&&t.fc&&(v="rgb("+Math.round(255*f[0])+","+Math.round(255*f[1])+","+Math.round(255*f[2])+")"),this._hasMaskedPath){if(S.translate(0,-t.ls),S.translate(0,x[1]*J*.01+_,0),this._pathData.p.v){var th=180*Math.atan(q=(O.point[1]-F.point[1])/(O.point[0]-F.point[0]))/Math.PI;O.point[0]<F.point[0]&&(th+=180),S.rotate(-th*Math.PI/180)}S.translate(h,c,0),N-=x[0]*E[T].an*.005,E[T+1]&&Y!==E[T+1].ind&&(N+=E[T].an/2,N+=.001*t.tr*t.finalSize)}else{switch(S.translate(A,_,0),t.ps&&S.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:S.translate(E[T].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[E[T].line]),0,0);break;case 2:S.translate(E[T].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[E[T].line])/2,0,0)}S.translate(0,-t.ls),S.translate(l,0,0),S.translate(x[0]*E[T].an*.005,x[1]*J*.01,0),A+=E[T].l+.001*t.tr*t.finalSize}"html"===C?te=S.toCSS():"svg"===C?te=S.to2dCSS():tn=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],b=u}M<=T?(o=new LetterProps(b,g,y,v,te,tn),this.renderedLetters.push(o),M+=1,this.lettersChangedFlag=!0):(o=this.renderedLetters[T],this.lettersChangedFlag=o.update(b,g,y,v,te,tn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,r,i=e.length,s="";for(n=0;n<i;n+=1)"sh"===e[n].ty&&(s+=buildShapeString(r=e[n].ks.k,r.i.length,!0,t));return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,r,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(r,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function ISolidElement(t,e,n){this.initElement(t,e,n)}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=e.title,this.svgElement.appendChild(r),n+=i}if(e&&e.description){var s=createNS("desc"),o=createElementID();s.setAttribute("id",o),s.textContent=e.description,this.svgElement.appendChild(s),n+=" "+o}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,r=[],i="";e<n;)"\r"===t[e]||"\x03"===t[e]?(r.push(i),i=""):i+=t[e],e+=1;return r.push(i),r},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=e,r.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t?t.l.length:0),t.fc?this.layerElement.setAttribute("fill",this.buildColor(t.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),t.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(t.sc)),this.layerElement.setAttribute("stroke-width",t.sw)),this.layerElement.setAttribute("font-size",t.finalSize);var e=this.globalData.fontManager.getFontByName(t.f);if(e.fClass)this.layerElement.setAttribute("class",e.fClass);else{this.layerElement.setAttribute("font-family",e.fFamily);var n=t.fWeight,r=t.fStyle;this.layerElement.setAttribute("font-style",r),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",t.t);var i=t.l||[],s=!!this.globalData.fontManager.chars;g=i.length;var o=this.mHelper,a="",l=this.data.singleShape,h=0,c=0,u=!0,d=.001*t.tr*t.finalSize;if(!l||s||t.sz){var p=this.textSpans.length;for(m=0;m<g;m+=1){if(this.textSpans[m]||(this.textSpans[m]={span:null,childSpan:null,glyph:null}),!s||!l||0===m){if(y=p>m?this.textSpans[m].span:createNS(s?"g":"text"),p<=m){if(y.setAttribute("stroke-linecap","butt"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit","4"),this.textSpans[m].span=y,s){var f=createNS("g");y.appendChild(f),this.textSpans[m].childSpan=f}this.textSpans[m].span=y,this.layerElement.appendChild(y)}y.style.display="inherit"}if(o.reset(),l&&(i[m].n&&(h=-d,c+=t.yOffset,c+=+!!u,u=!1),this.applyTextPropertiesToMatrix(t,o,i[m].line,h,c),h+=i[m].l||0,h+=d),s){if(1===(v=this.globalData.fontManager.getCharData(t.finalText[m],e.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily)).t)b=new SVGCompElement(v.data,this.globalData,this);else{var m,g,y,v,b,x=emptyShapeData;v.data&&v.data.shapes&&(x=this.buildShapeData(v.data,t.finalSize)),b=new SVGShapeElement(x,this.globalData,this)}if(this.textSpans[m].glyph){var w=this.textSpans[m].glyph;this.textSpans[m].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[m].glyph=b,b._debug=!0,b.prepareFrame(0),b.renderFrame(),this.textSpans[m].childSpan.appendChild(b.layerElement),1===v.t&&this.textSpans[m].childSpan.setAttribute("transform","scale("+t.finalSize/100+","+t.finalSize/100+")")}else l&&y.setAttribute("transform","translate("+o.props[12]+","+o.props[13]+")"),y.textContent=i[m].val,y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}l&&y&&y.setAttribute("d",a)}else{var k=this.textContainer,S="start";switch(t.j){case 1:S="end";break;case 2:S="middle";break;default:S="start"}k.setAttribute("text-anchor",S),k.setAttribute("letter-spacing",d);var C=this.buildTextContents(t.finalText);for(m=0,g=C.length,c=t.ps?t.ps[1]+t.ascent:0;m<g;m+=1)(y=this.textSpans[m].span||createNS("tspan")).textContent=C[m],y.setAttribute("x",0),y.setAttribute("y",c),y.style.display="inherit",k.appendChild(y),this.textSpans[m]||(this.textSpans[m]={span:null,glyph:null}),this.textSpans[m].span=y,c+=t.finalLineHeight;this.layerElement.appendChild(k)}for(;m<this.textSpans.length;)this.textSpans[m].span.style.display="none",m+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,n=this.textSpans.length;for(t=0,this.renderedFrame=this.comp.renderedFrame;t<n;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,n,r,i,s=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(t=0,e=o.length;t<e;t+=1)!o[t].n&&(n=s[t],r=this.textSpans[t].span,(i=this.textSpans[t].glyph)&&i.renderFrame(),n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return -1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var r="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===r)return;if(this.elements[r]&&!0!==this.elements[r]){var i=e[r].getMatte(this.layers[t].tt);n.setMatte(i)}else this.buildItem(r),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var r="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[r].getMatte(this.layers[e].tt);t.setMatte(i);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n,r=t.getBaseElement();if(r){for(var i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e,n=this.tm.v;n===this.data.op&&(n=this.data.op-1),this.renderedFrame=n}var r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&(this.elements[e].prepareFrame(this.renderedFrame-this.layers[e].st),this.elements[e]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,r="_";for(e=0;e<n;e+=1)r+=t[e].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var n=0,r=t.transforms.length,i=e;n<r&&!e;){if(t.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(t.finalTransform.reset(),n=r-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=i},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,r=null;function i(){var e=createNS("svg"),n=createNS("filter"),r=createNS("feColorMatrix");return n.setAttribute("id",t),r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),n.appendChild(r),e.appendChild(n),e.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(e.style.display="none"),e}function s(){e||(r=i(),document.body.appendChild(r),(n=(e=createTag("canvas")).getContext("2d")).filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}function o(r){return e||s(),e.width=r.width,e.height=r.height,n.filter="url(#"+t+")",e}return{load:s,get:o}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas}}(),registeredEffects={};function CVEffects(t){var e,n,r=t.data.ef?t.data.ef.length:0;for(e=0,this.filters=[];e<r;e+=1){n=null;var i=t.data.ef[e].ty;registeredEffects[i]&&(n=new registeredEffects[i].effect(t.effectsManager.effectElements[e],t)),n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,r=this.masksProperties.length,i=!1;for(n=0;n<r;n+=1)"n"!==this.masksProperties[n].mode&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,n=this.masksProperties.length;for(e.beginPath(),r=0;r<n;r+=1)if("n"!==this.masksProperties[r].mode){this.masksProperties[r].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),o=this.viewData[r].v,i=t.applyToPointArray(o.v[0][0],o.v[0][1],0),e.moveTo(i[0],i[1]);var r,i,s,o,a,l=o._length;for(a=1;a<l;a+=1)s=t.applyToTriplePoints(o.o[a-1],o.i[a],o.v[a]),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);s=t.applyToTriplePoints(o.o[a-1],o.i[0],o.v[0]),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i,s,o=4;"rc"===e.ty?o=5:"el"===e.ty?o=6:"sr"===e.ty&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,o,t);var a=n.length;for(i=0;i<a;i+=1)n[i].closed||(s={transforms:r.addTransformSequence(n[i].transforms),trNodes:[]},this.styledShapes.push(s),n[i].elements.push(s))}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,e=15;for(t=0;t<e;t+=1){var n=new CanvasContext;this.stack[t]=n}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,s=t.ks.or.k.length;for(i=0;i<s;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},r={};return"fl"===t.ty||"st"===t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):("gf"===t.ty||"gs"===t.ty)&&(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty?(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],1==t.lj&&(n.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(n.wi=r.w.v),t.d&&(r.d=new DashProperty(this,t.d,"canvas",this),r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0]))):n.r=2===t.r?"evenodd":"nonzero",this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,r,i){var s,o,a,l,h,c,u=t.length-1,d=[],p=[],f=[].concat(i);for(s=u;s>=0;s-=1){if((l=this.searchProcessedElement(t[s]))?e[s]=n[l-1]:t[s]._shouldRender=r,"fl"===t[s].ty||"st"===t[s].ty||"gf"===t[s].ty||"gs"===t[s].ty)l?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],f),d.push(e[s].style);else if("gr"===t[s].ty){if(l)for(o=0,a=e[s].it.length;o<a;o+=1)e[s].prevViewData[o]=e[s].it[o];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,r,f)}else"tr"===t[s].ty?(l||(c=this.createTransformElement(t[s]),e[s]=c),f.push(e[s]),this.addTransformToStyleList(e[s])):"sh"===t[s].ty||"rc"===t[s].ty||"el"===t[s].ty||"sr"===t[s].ty?l||(e[s]=this.createShapeElement(t[s])):"tm"===t[s].ty||"rd"===t[s].ty||"pb"===t[s].ty||"zz"===t[s].ty||"op"===t[s].ty?(l?(h=e[s]).closed=!1:((h=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=h,this.shapeModifiers.push(h)),p.push(h)):"rp"===t[s].ty&&(l?(h=e[s]).closed=!0:(h=ShapeModifiers.getModifier(t[s].ty),e[s]=h,h.init(this,t,s,e),this.shapeModifiers.push(h),r=!1),p.push(h));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,s=0;s<u;s+=1)p[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,r,i,s,o,a,l,h=this.stylesList.length,c=this.globalData.renderer,u=this.globalData.canvasContext;for(t=0;t<h;t+=1)if(!(("st"===(a=(l=this.stylesList[t]).type)||"gs"===a)&&0===l.wi||!l.data._shouldRender||0===l.coOp||0===this.globalData.currentGlobalAlpha)){for(c.save(),s=l.elements,"st"===a||"gs"===a?(c.ctxStrokeStyle("st"===a?l.co:l.grd),c.ctxLineWidth(l.wi),c.ctxLineCap(l.lc),c.ctxLineJoin(l.lj),c.ctxMiterLimit(l.ml||0)):c.ctxFillStyle("fl"===a?l.co:l.grd),c.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&u.beginPath(),c.ctxTransform(l.preTransforms.finalTransform.props),n=s.length,e=0;e<n;e+=1){for(("st"===a||"gs"===a)&&(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),i=(o=s[e].trNodes).length,r=0;r<i;r+=1)"m"===o[r].t?u.moveTo(o[r].p[0],o[r].p[1]):"c"===o[r].t?u.bezierCurveTo(o[r].pts[0],o[r].pts[1],o[r].pts[2],o[r].pts[3],o[r].pts[4],o[r].pts[5]):u.closePath();("st"===a||"gs"===a)&&(c.ctxStroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&this.globalData.renderer.ctxFill(l.r),c.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,r){var i,s,o=e.length-1;for(s=t,i=o;i>=0;i-=1)"tr"===e[i].ty?(s=n[i].transform,this.renderShapeTransform(t,s)):"sh"===e[i].ty||"el"===e[i].ty||"rc"===e[i].ty||"sr"===e[i].ty?this.renderPath(e[i],n[i]):"fl"===e[i].ty?this.renderFill(e[i],n[i],s):"st"===e[i].ty?this.renderStroke(e[i],n[i],s):"gf"===e[i].ty||"gs"===e[i].ty?this.renderGradientFill(e[i],n[i],s):"gr"===e[i].ty?this.renderShape(s,e[i].it,n[i].it):e[i].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,r,i,s=t.trNodes,o=e.paths,a=o._length;s.length=0;var l=t.transforms.finalTransform;for(i=0;i<a;i+=1){var h=o.shapes[i];if(h&&h.v){for(n=1,r=h._length;n<r;n+=1)1===n&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(h.o[n-1],h.i[n],h.v[n])});1===r&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&r&&(s.push({t:"c",pts:l.applyToTriplePoints(h.o[n-1],h.i[0],h.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var n,r=e.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var i,s,o=this.globalData.canvasContext,a=e.s.v,l=e.e.v;if(1===t.t)i=o.createLinearGradient(a[0],a[1],l[0],l[1]);else{var h=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),c=Math.atan2(l[1]-a[1],l[0]-a[0]),u=e.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var d=h*u,p=Math.cos(c+e.a.v)*d+a[0],f=Math.sin(c+e.a.v)*d+a[1];i=o.createRadialGradient(p,f,0,a[0],a[1],h)}var m=t.g.p,g=e.g.c,y=1;for(s=0;s<m;s+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*s+1]),i.addColorStop(g[4*s]/100,"rgba("+g[4*s+1]+","+g[4*s+2]+","+g[4*s+3]+","+y+")");r.grd=i}r.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t,e,n,r,i,s,o,a,l,h,c,u,d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var p=!1;d.fc?(p=!0,this.values.fill=this.buildColor(d.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=p;var f=!1;d.sc&&(f=!0,this.values.stroke=this.buildColor(d.sc),this.values.sWidth=d.sw);var m=this.globalData.fontManager.getFontByName(d.f),g=d.l,y=this.mHelper;this.stroke=f,this.values.fValue=d.finalSize+"px "+this.globalData.fontManager.getFontByName(d.f).fFamily,e=d.finalText.length;var v=this.data.singleShape,b=.001*d.tr*d.finalSize,x=0,w=0,k=!0,S=0;for(t=0;t<e;t+=1){r=(n=this.globalData.fontManager.getCharData(d.finalText[t],m.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily))&&n.data||{},y.reset(),v&&g[t].n&&(x=-b,w+=d.yOffset,w+=+!!k,k=!1),l=(o=r.shapes?r.shapes[0].it:[]).length,y.scale(d.finalSize/100,d.finalSize/100),v&&this.applyTextPropertiesToMatrix(d,y,g[t].line,x,w),c=createSizedArray(l-1);var C=0;for(a=0;a<l;a+=1)if("sh"===o[a].ty){for(i=1,s=o[a].ks.k.i.length,h=o[a].ks.k,u=[];i<s;i+=1)1===i&&u.push(y.applyToX(h.v[0][0],h.v[0][1],0),y.applyToY(h.v[0][0],h.v[0][1],0)),u.push(y.applyToX(h.o[i-1][0],h.o[i-1][1],0),y.applyToY(h.o[i-1][0],h.o[i-1][1],0),y.applyToX(h.i[i][0],h.i[i][1],0),y.applyToY(h.i[i][0],h.i[i][1],0),y.applyToX(h.v[i][0],h.v[i][1],0),y.applyToY(h.v[i][0],h.v[i][1],0));u.push(y.applyToX(h.o[i-1][0],h.o[i-1][1],0),y.applyToY(h.o[i-1][0],h.o[i-1][1],0),y.applyToX(h.i[0][0],h.i[0][1],0),y.applyToY(h.i[0][0],h.i[0][1],0),y.applyToX(h.v[0][0],h.v[0][1],0),y.applyToY(h.v[0][0],h.v[0][1],0)),c[C]=u,C+=1}v&&(x+=g[t].l,x+=b),this.textSpans[S]?this.textSpans[S].elem=c:this.textSpans[S]={elem:c},S+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,e,n,r,i,s,o,a,l,h=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;e=c.length;var u=null,d=null,p=null,f=this.globalData.renderer;for(t=0;t<e;t+=1)if(!c[t].n){if((o=h[t])&&(f.save(),f.ctxTransform(o.p),f.ctxOpacity(o.o)),this.fill){for(o&&o.fc?u!==o.fc&&(f.ctxFillStyle(o.fc),u=o.fc):u!==this.values.fill&&(u=this.values.fill,f.ctxFillStyle(this.values.fill)),r=(a=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(s=(l=a[n]).length,this.globalData.canvasContext.moveTo(l[0],l[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(l[i],l[i+1],l[i+2],l[i+3],l[i+4],l[i+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(o&&o.sw?p!==o.sw&&(p=o.sw,f.ctxLineWidth(o.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),o&&o.sc?d!==o.sc&&(d=o.sc,f.ctxStrokeStyle(o.sc)):d!==this.values.stroke&&(d=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),r=(a=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(s=(l=a[n]).length,this.globalData.canvasContext.moveTo(l[0],l[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(l[i],l[i+1],l[i+2],l[i+3],l[i+4],l[i+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}o&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t,e,n=createTag("canvas");n.width=this.assetData.w,n.height=this.assetData.h;var r=n.getContext("2d"),i=this.img.width,s=this.img.height,o=i/s,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===l||o<a&&"xMidYMid slice"!==l?t=(e=s)*a:e=(t=i)/a,r.drawImage(this.img,(i-t)/2,(s-e)/2,t,e,0,0,this.assetData.w,this.assetData.h),this.img=n}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])&&this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,r){this.canvasContext.fillRect(t,e,n,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){if(this.reset(),t?(n=t,r=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var n,r,i,s,o=this.renderConfig.preserveAspectRatio.split(" "),a=o[1]||"meet",l=o[0]||"xMidYMid",h=l.substr(0,4),c=l.substr(4);i=n/r,(s=this.transformCanvas.w/this.transformCanvas.h)>i&&"meet"===a||s<i&&"slice"===a?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),"xMid"===h&&(s<i&&"meet"===a||s>i&&"slice"===a)?this.transformCanvas.tx=(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===h&&(s<i&&"meet"===a||s>i&&"slice"===a)?this.transformCanvas.tx=(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,"YMid"===c&&(s>i&&"meet"===a||s<i&&"slice"===a)?this.transformCanvas.ty=(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===c&&(s>i&&"meet"===a||s<i&&"slice"===a)?this.transformCanvas.ty=(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,n=this.stack[this.cArrPos],r=n.transform,i=this.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];if(t){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(t||-1!==n.opacity&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e,n=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r=this.stack[this.cArrPos];for(e=0;e<16;e+=1)r.transform[e]=n[e];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=r.opacity,i.fillStyle=r.fillStyle,i.strokeStyle=r.strokeStyle,i.lineWidth=r.lineWidth,i.lineCap=r.lineCap,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,r,i,s,o,a=t.sh.v,l=t.transformers,h=a._length;if(!(h<=1)){for(n=0;n<h-1;n+=1)r=this.getTransformedPoint(l,a.v[n]),i=this.getTransformedPoint(l,a.o[n]),s=this.getTransformedPoint(l,a.i[n+1]),o=this.getTransformedPoint(l,a.v[n+1]),this.checkBounds(r,i,s,o,e);a.c&&(r=this.getTransformedPoint(l,a.v[n]),i=this.getTransformedPoint(l,a.o[n]),s=this.getTransformedPoint(l,a.i[0]),o=this.getTransformedPoint(l,a.v[0]),this.checkBounds(r,i,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,r,i){this.getBoundsOfCurve(t,e,n,r);var s=this.shapeBoundingBox;i.x=bmMin(s.left,i.x),i.xMax=bmMax(s.right,i.xMax),i.y=bmMin(s.top,i.y),i.yMax=bmMax(s.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,r){for(var i,s,o,a,l,h,c,u=[[t[0],r[0]],[t[1],r[1]]],d=0;d<2;++d)s=6*t[d]-12*e[d]+6*n[d],i=-3*t[d]+9*e[d]-9*n[d]+3*r[d],o=3*e[d]-3*t[d],s|=0,o|=0,0==(i|=0)&&0===s||(0===i?(a=-o/s)>0&&a<1&&u[d].push(this.calculateF(a,t,e,n,r,d)):(l=s*s-4*o*i)>=0&&((h=(-s+bmSqrt(l))/(2*i))>0&&h<1&&u[d].push(this.calculateF(h,t,e,n,r,d)),(c=(-s-bmSqrt(l))/(2*i))>0&&c<1&&u[d].push(this.calculateF(c,t,e,n,r,d))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(t,e,n,r,i,s){return bmPow(1-t,3)*e[s]+3*bmPow(1-t,2)*t*n[s]+3*(1-t)*bmPow(t,2)*r[s]+bmPow(t,3)*i[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var r=0;r<t.keyframes.length;r+=1){var i=t.keyframes[r].s;i>n&&(n=i)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=999999,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,!this.currentBoxContains(t)){var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=i,r.webkitTransform=i}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",r.fClass)this.innerElem.className=r.fClass;else{e.fontFamily=r.fFamily;var i=t.fWeight;e.fontStyle=t.fStyle,e.fontWeight=i}var s=t.l;c=s.length;var o=this.mHelper,a="",l=0;for(h=0;h<c;h+=1){if(this.globalData.fontManager.chars?(this.textPaths[l]?u=this.textPaths[l]:((u=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),u.setAttribute("stroke-linejoin",lineJoinEnum[2]),u.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[l]?p=(d=this.textSpans[l]).children[0]:((d=createTag("div")).style.lineHeight=0,(p=createNS("svg")).appendChild(u),styleDiv(d)))):this.isMasked?u=this.textPaths[l]?this.textPaths[l]:createNS("text"):this.textSpans[l]?(d=this.textSpans[l],u=this.textPaths[l]):(styleDiv(d=createTag("span")),styleDiv(u=createTag("span")),d.appendChild(u)),this.globalData.fontManager.chars){var h,c,u,d,p,f,m,g=this.globalData.fontManager.getCharData(t.finalText[h],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(m=g?g.data:null,o.reset(),m&&m.shapes&&m.shapes.length&&(f=m.shapes[0].it,o.scale(t.finalSize/100,t.finalSize/100),a=this.createPathShape(o,f),u.setAttribute("d",a)),this.isMasked)this.innerElem.appendChild(u);else{if(this.innerElem.appendChild(d),m&&m.shapes){document.body.appendChild(p);var y=p.getBBox();p.setAttribute("width",y.width+2),p.setAttribute("height",y.height+2),p.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var v=p.style,b="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";v.transform=b,v.webkitTransform=b,s[h].yOffset=y.y-1}else p.setAttribute("width",1),p.setAttribute("height",1);d.appendChild(p)}}else if(u.textContent=s[h].val,u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(u);else{this.innerElem.appendChild(d);var x=u.style,w="translate3d(0,"+-t.finalSize/1.2+"px,0)";x.transform=w,x.webkitTransform=w}this.isMasked?this.textSpans[l]=u:this.textSpans[l]=d,this.textSpans[l].style.display="block",this.textPaths[l]=u,l+=1}for(;l<this.textSpans.length;)this.textSpans[l].style.display="none",l+=1},HTextElement.prototype.renderInnerContent=function(){if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var t,e,n,r,i,s=this.svgElement.style,o="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";s.transform=o,s.webkitTransform=o}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var a=0,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(t=0,e=h.length;t<e;t+=1)h[t].n?a+=1:(r=this.textSpans[t],i=this.textPaths[t],n=l[a],a+=1,n._mdf.m&&(this.isMasked?r.setAttribute("transform",n.m):(r.style.webkitTransform=n.m,r.style.transform=n.m)),r.style.opacity=n.o,n.sw&&n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&i.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(i.setAttribute("fill",n.fc),i.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.innerElem.getBBox();this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.svgElement.setAttribute("width",c.width)),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.svgElement.setAttribute("height",c.height));var u=1;if(this.currentBBox.w!==c.width+2*u||this.currentBBox.h!==c.height+2*u||this.currentBBox.x!==c.x-u||this.currentBBox.y!==c.y-u){this.currentBBox.w=c.width+2*u,this.currentBBox.h=c.height+2*u,this.currentBBox.x=c.x-u,this.currentBBox.y=c.y-u,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),s=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=d,s.webkitTransform=d}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,r,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){n=e.perspectiveElem.style,r=e.container.style;var s=this.pe.v+"px",o="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=s,n.webkitPerspective=s,r.transformOrigin=o,r.mozTransformOrigin=o,r.webkitTransformOrigin=o,n.transform=a,n.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame;if(this.hierarchy)for(n=0,r=this.hierarchy.length;n<r;n+=1)t=this.hierarchy[n].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=r=this.hierarchy.length-1;n>=0;n-=1){var e=this.hierarchy[n].finalTransform.mProp;this.mat.translate(-e.p.v[0],-e.p.v[1],e.p.v[2]),this.mat.rotateX(-e.or.v[0]).rotateY(-e.or.v[1]).rotateZ(e.or.v[2]),this.mat.rotateX(-e.rx.v).rotateY(-e.ry.v).rotateZ(e.rz.v),this.mat.scale(1/e.s.v[0],1/e.s.v[1],1/e.s.v[2]),this.mat.translate(e.a.v[0],e.a.v[1],e.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n,r,i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]],s=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),o=[i[0]/s,i[1]/s,i[2]/s],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),l=Math.atan2(o[1],a),h=Math.atan2(o[0],-o[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var c=!this._prevMat.equals(this.mat);if((c||this.pe._mdf)&&this.comp.threeDElements){for(n=0,r=this.comp.threeDElements.length;n<r;n+=1)if("3d"===(u=this.comp.threeDElements[n]).type){if(c){var u,d,p,f=this.mat.toCSS();(p=u.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=u.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var i,s,o=0;o<e;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o],i=(this.layers[o].ddd?this.getThreeDContainerByPos(o):s.getBaseElement())||i),o+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,i):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n,r,i=createTag("div");styleDiv(i);var s=createTag("div");if(styleDiv(s),"3d"===e){(n=i.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var o="50% 50%";n.webkitTransformOrigin=o,n.mozTransformOrigin=o,n.transformOrigin=o;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(r=s.style).transform=a,r.webkitTransform=a}i.appendChild(s);var l={container:s,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e,n=this.layers.length,r="";for(t=0;t<n;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?"3d"!==r&&(r="3d",e=this.createThreeDContainer(t,"3d")):"2d"!==r&&(r="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t);for(t=(n=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,r=this.threeDElements.length;n<r;){if(e<=this.threeDElements[n].endPos){for(var i,s=this.threeDElements[n].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s].getBaseElement()),s+=1;i?this.threeDElements[n].container.insertBefore(t,i):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",this.resizerElem=e,styleDiv(e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),r.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var s=createNS("defs");i.appendChild(s),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=s,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,n,r,i=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,o=i/s;this.globalData.compSize.w/this.globalData.compSize.h>o?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,n=0,r=(s-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,n=(i-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,r=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+r+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;t<r;t+=1){var i=this.threeDElements[t].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,r=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,r=0;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(){return function(t){function e(e){for(var n=0,r=t.layers.length;n<r;){if(t.layers[n].nm===e||t.layers[n].ind===e)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}();function _typeof$2(t){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function seedRandom(t,e){var n,r=this,i=256,s=6,o=52,a="random",l=e.pow(i,s),h=e.pow(2,o),c=2*h,u=i-1;function d(n,r,o){var u=[],d=g(m((r=!0===r?{entropy:!0}:r||{}).entropy?[n,v(t)]:null===n?y():n,3),u),b=new p(u),x=function(){for(var t=b.g(s),e=l,n=0;t<h;)t=(t+n)*i,e*=i,n=b.g(1);for(;t>=c;)t/=2,e/=2,n>>>=1;return(t+n)/e};return x.int32=function(){return 0|b.g(4)},x.quick=function(){return b.g(4)/0x100000000},x.double=x,g(v(b.S),t),(r.pass||o||function(t,n,r,i){return(i&&(i.S&&f(i,b),t.state=function(){return f(b,{})}),r)?(e[a]=t,n):t})(x,d,"global"in r?r.global:this==e,r.state)}function p(t){var e,n=t.length,r=this,s=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);s<i;)a[s]=s++;for(s=0;s<i;s++)a[s]=a[o=u&o+t[s%n]+(e=a[s])],a[o]=e;r.g=function(t){for(var e,n=0,s=r.i,o=r.j,a=r.S;t--;)e=a[s=u&s+1],n=n*i+a[u&(a[s]=a[o=u&o+e])+(a[o]=e)];return r.i=s,r.j=o,n}}function f(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){var n,r=[],i=_typeof$2(t);if(e&&"object"==i)for(n in t)try{r.push(m(t[n],e-1))}catch(t){}return r.length?r:"string"==i?t:t+"\0"}function g(t,e){for(var n,r=t+"",i=0;i<r.length;)e[u&i]=u&(n^=19*e[u&i])+r.charCodeAt(i++);return v(e)}function y(){try{if(n)return v(n.randomBytes(i));var e=new Uint8Array(i);return(r.crypto||r.msCrypto).getRandomValues(e),v(e)}catch(e){var s=r.navigator,o=s&&s.plugins;return[+new Date,r,o,r.screen,v(t)]}}function v(t){return String.fromCharCode.apply(0,t)}e["seed"+a]=d,g(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var n,r=t.length,i=[];for(n=0;n<r;n+=1)i[n]=-t[n];return i}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e)||"string"===n||"string"===r)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,o=e.length,a=[];i<s||i<o;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]+e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e))return"string"===n&&(t=parseInt(t,10)),"string"===r&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,o=e.length,a=[];i<s||i<o;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]-e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}function mul(t,e){var n,r,i,s=_typeof$1(t),o=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(r=0,n=createTypedArray("float32",i=t.length);r<i;r+=1)n[r]=t[r]*e;return n}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(r=0,n=createTypedArray("float32",i=e.length);r<i;r+=1)n[r]=t*e[r];return n}return 0}function div(t,e){var n,r,i,s=_typeof$1(t),o=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(r=0,n=createTypedArray("float32",i=t.length);r<i;r+=1)n[r]=t[r]/e;return n}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(r=0,n=createTypedArray("float32",i=e.length);r<i;r+=1)n[r]=t/e[r];return n}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var r=n;n=e,e=r}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var n,r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(e[n]-t[n],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,r=t[0],i=t[1],s=t[2],o=Math.max(r,i,s),a=Math.min(r,i,s),l=(o+a)/2;if(o===a)e=0,n=0;else{var h=o-a;switch(n=l>.5?h/(2-o-a):h/(o+a),o){case r:e=(i-s)/h+6*(i<s);break;case i:e=(s-r)/h+2;break;case s:e=(r-i)/h+4}e/=6}return[e,n,l,t[3]]}function hue2rgb(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,r,i=t[0],s=t[1],o=t[2];if(0===s)e=o,r=o,n=o;else{var a=o<.5?o*(1+s):o+s-o*s,l=2*o-a;e=hue2rgb(l,a,i+1/3),n=hue2rgb(l,a,i),r=hue2rgb(l,a,i-1/3)}return[e,n,r,t[3]]}function linear(t,e,n,r,i){if((void 0===r||void 0===i)&&(r=e,i=n,e=0,n=1),n<e){var s,o=n;n=e,e=o}if(t<=e)return r;if(t>=n)return i;var a=n===e?0:(t-e)/(n-e);if(!r.length)return r+(i-r)*a;var l=r.length,h=createTypedArray("float32",l);for(s=0;s<l;s+=1)h[s]=r[s]+(i[s]-r[s])*a;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var n,r=e.length;t||(t=createTypedArray("float32",r));var i=createTypedArray("float32",r),s=BMMath.random();for(n=0;n<r;n+=1)i[n]=t[n]+s*(e[n]-t[n]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,r){var i,s,o,a=t.length,l=shapePool.newElement();l.setPathData(!!r,a);var h=[0,0];for(i=0;i<a;i+=1)s=e&&e[i]?e[i]:h,o=n&&n[i]?n[i]:h,l.setTripleAt(t[i][0],t[i][1],o[0]+t[i][0],o[1]+t[i][1],s[0]+t[i][0],s[1]+t[i][1],i,!0);return l}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var transform,$bm_transform,content,effect,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,time,velocity,value,text,textIndex,textTotal,selectorValue,parent,val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=(function(t,e){var n,r,i=this.pv.length?this.pv.length:1,s=createTypedArray("float32",i);t=5;var o=Math.floor(time*t);for(n=0,r=0;n<o;){for(r=0;r<i;r+=1)s[r]+=-e+2*e*BMMath.random();n+=1}var a=time*t,l=a-Math.floor(a),h=createTypedArray("float32",i);if(i>1){for(r=0;r<i;r+=1)h[r]=this.pv[r]+s[r]+(-e+2*e*BMMath.random())*l;return h}return this.pv+s[0]+(-e+2*e*BMMath.random())*l}).bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loop_in=loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loop_out=loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(t,e,n,r,i){return applyEase(easeOutBez,t,e,n,r,i)}function easeIn(t,e,n,r,i){return applyEase(easeInBez,t,e,n,r,i)}function ease(t,e,n,r,i){return applyEase(easeInOutBez,t,e,n,r,i)}function applyEase(t,e,n,r,i,s){void 0===i?(i=n,s=r):e=(e-n)/(r-n),e>1?e=1:e<0&&(e=0);var o=t(e);if($bm_isInstanceOfArray(i)){var a,l=i.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=(s[a]-i[a])*o+i[a];return h}return(s-i)*o+i}function nearestKey(t){var e,n,r,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(e=0;e<i-1;e+=1)if(t===data.k[e].t){n=e+1,r=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,r=data.k[e+1].t):(n=e+1,r=data.k[e].t);break}-1===n&&(n=e+1,r=data.k[e].t)}else n=0,r=0;var s={};return s.index=n,s.time=r/elem.comp.globalData.frameRate,s}function key(t){if(!data.k.length||"number"==typeof data.k[0])throw Error("The property has no keyframe at index "+t);t-=1;var e,n,r={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]},i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(e=0,n=i.length;e<n;e+=1)r[e]=i[e],r.value[e]=i[e];return r}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return(value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType)?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),!transform&&($bm_transform=transform=elem.layerInterface("ADBE Transform Group"),transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!!(elem.hierarchy&&elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};return t.initExpressions=function t(t){var e=0,n=[];function r(){e+=1}function i(){0==(e-=1)&&o()}function s(t){-1===n.indexOf(t)&&n.push(t)}function o(){var t,e=n.length;for(t=0;t<e;t+=1)n[t].release();n.length=0}t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=r,t.renderer.globalData.popExpression=i,t.renderer.globalData.registerExpressionProperty=s},t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var n,r=createSizedArray(e.viewData.length),i=e.viewData.length;for(n=0;n<i;n+=1)r[n]=new t(e.viewData[n],e.masksProperties[n]);return function(t){for(n=0;n<i;){if(e.masksProperties[n].nm===t)return r[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(t,e,n){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(r){if(!t.numKeys)return 0;var i="";i="s"in e.keyframes[r-1]?e.keyframes[r-1].s:"e"in e.keyframes[r-2]?e.keyframes[r-2].e:e.keyframes[r-2].s;var s="unidimensional"===n?new Number(i):Object.assign({},i);return s.time=e.keyframes[r-1].t/e.elem.comp.globalData.frameRate,s.value="unidimensional"===n?i[0]:i,s},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function r(e){e&&"pv"in e||(e=t);var r=1/e.mult,i=e.pv*r,s=new Number(i);return s.value=i,n(s,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*r,s.value!==i&&((s=new Number(i)).value=i,s[0]=i,n(s,e,"unidimensional")),s}}function i(t){t&&"pv"in t||(t=e);var r=1/t.mult,i=t.data&&t.data.l||t.pv.length,s=createTypedArray("float32",i),o=createTypedArray("float32",i);return s.value=o,n(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)o[e]=t.v[e]*r,s[e]=o[e];return s}}function s(){return t}return function(t){return t?"unidimensional"===t.propType?r(t):i(t):s}}(),TransformExpressionInterface=function(){return function(t){var e,n,r,i;function s(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return s.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return s.rotation;case"ADBE Rotate X":return s.xRotation;case"ADBE Rotate Y":return s.yRotation;case"position":case"Position":case"ADBE Position":case 2:return s.position;case"ADBE Position_0":return s.xPosition;case"ADBE Position_1":return s.yPosition;case"ADBE Position_2":return s.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return s.anchorPoint;case"opacity":case"Opacity":case 11:return s.opacity;default:return null}}return Object.defineProperty(s,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(s,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(s,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(s,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(s,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?i=ExpressionPropertyInterface(t.p):(e=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(r=ExpressionPropertyInterface(t.pz))),Object.defineProperty(s,"position",{get:function(){return t.p?i():[e(),n(),r?r():0]}}),Object.defineProperty(s,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(s,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(s,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(s,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(s,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(s,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(s,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(s,"orientation",{get:ExpressionPropertyInterface(t.or)}),s}}(),LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,t)}function n(t,e){var n=this.getMatrix(e);return this.applyPoint(n,t)}function r(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,t)}function i(t,e){var n=this.getMatrix(e);return this.invertPoint(n,t)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function o(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function a(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(h){function c(t){d.mask=new MaskManagerInterface(t,h)}function u(t){d.effect=t}function d(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return p;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=t,d.invertPoint=o,d.applyPoint=s,d.toWorld=n,d.toWorldVec=e,d.fromWorld=i,d.fromWorldVec=r,d.toComp=n,d.fromComp=a,d.sampleImage=l,d.sourceRectAtTime=h.sourceRectAtTime.bind(h),d._elem=h;var p=TransformExpressionInterface(h.finalTransform.mProp),f=getDescriptor(p,"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return h.hierarchy.length}},parent:{get:function(){return h.hierarchy[0].layerInterface}},rotation:getDescriptor(p,"rotation"),scale:getDescriptor(p,"scale"),position:getDescriptor(p,"position"),opacity:getDescriptor(p,"opacity"),anchorPoint:f,anchor_point:f,transform:{get:function(){return p}},active:{get:function(){return h.isInRange}}}),d.startTime=h.data.st,d.index=h.data.ind,d.source=h.data.refId,d.height=0===h.data.ty?h.data.h:100,d.width=0===h.data.ty?h.data.w:100,d.inPoint=h.data.ip/h.comp.globalData.frameRate,d.outPoint=h.data.op/h.comp.globalData.frameRate,d._name=h.data.nm,d.registerMaskInterface=c,d.registerEffectsInterface=u,d}}(),propertyGroupFactory=function(){return function(t,e){return function(n){return(n=void 0===n?1:n)<=0?t:e(n-1)}}}(),PropertyInterface=function(){return function(t,e){var n={_name:t};return function(t){return(t=void 0===t?1:t)<=0?n:e(t-1)}}}(),EffectsExpressionInterface=function(){function t(n,r,i,s){function o(t){for(var e=n.ef,r=0,i=e.length;r<i;){if(t===e[r].nm||t===e[r].mn||t===e[r].ix){if(5===e[r].ty)return h[r];return h[r]()}r+=1}throw Error()}var a,l=propertyGroupFactory(o,i),h=[],c=n.ef.length;for(a=0;a<c;a+=1)5===n.ef[a].ty?h.push(t(n.ef[a],r.effectElements[a],r.effectElements[a].propertyGroup,s)):h.push(e(r.effectElements[a],n.ef[a].ty,s,l));return"ADBE Color Control"===n.mn&&Object.defineProperty(o,"color",{get:function(){return h[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:l}}),o.enabled=0!==n.en,o.active=o.enabled,o}function e(t,e,n,r){var i=ExpressionPropertyInterface(t.p);function s(){return 10===e?n.comp.compInterface(t.p.v):i()}return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",r)),s}return{createEffectsInterface:function(e,n){if(e.effectsManager){var r,i=[],s=e.data.ef,o=e.effectsManager.effectElements.length;for(r=0;r<o;r+=1)i.push(t(s[r],e.effectsManager.effectElements[r],n,e));var a=e.data.ef||[],l=function(t){for(r=0,o=a.length;r<o;){if(t===a[r].nm||t===a[r].mn||t===a[r].ix)return i[r];r+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}}}(),ShapePathInterface=function(){return function(t,e,n){var r=e.sh;function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?i.path:null}var s=propertyGroupFactory(i,n);return r.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(i,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),i}}(),ShapeExpressionInterface=function(){function t(t,e,l){var f,m=[],g=t?t.length:0;for(f=0;f<g;f+=1)"gr"===t[f].ty?m.push(n(t[f],e[f],l)):"fl"===t[f].ty?m.push(r(t[f],e[f],l)):"st"===t[f].ty?m.push(o(t[f],e[f],l)):"tm"===t[f].ty?m.push(a(t[f],e[f],l)):"tr"===t[f].ty||("el"===t[f].ty?m.push(h(t[f],e[f],l)):"sr"===t[f].ty?m.push(c(t[f],e[f],l)):"sh"===t[f].ty?m.push(ShapePathInterface(t[f],e[f],l)):"rc"===t[f].ty?m.push(u(t[f],e[f],l)):"rd"===t[f].ty?m.push(d(t[f],e[f],l)):"rp"===t[f].ty?m.push(p(t[f],e[f],l)):"gf"===t[f].ty?m.push(i(t[f],e[f],l)):m.push(s(t[f],e[f],l)));return m}function e(e,n,r){var i,s=function(t){for(var e=0,n=i.length;e<n;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}return"number"==typeof t?i[t-1]:null};s.propertyGroup=propertyGroupFactory(s,r),i=t(e.it,n.it,s.propertyGroup),s.numProperties=i.length;var o=l(e.it[e.it.length-1],n.it[n.it.length-1],s.propertyGroup);return s.transform=o,s.propertyIndex=e.cix,s._name=e.nm,s}function n(t,n,r){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=propertyGroupFactory(i,r);var s=e(t,n,i.propertyGroup),o=l(t.it[t.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.content=s,i.transform=o,Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.numProperties=t.np,i.propertyIndex=t.ix,i.nm=t.nm,i.mn=t.mn,i}function r(t,e,n){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function i(t,e,n){function r(t){return"Start Point"===t||"start point"===t?r.startPoint:"End Point"===t||"end point"===t?r.endPoint:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",n)),e.e.setGroupProperty(PropertyInterface("End Point",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function s(){return function(){return null}}function o(t,e,n){var r,i=propertyGroupFactory(h,n),s=propertyGroupFactory(l,i);function o(n){Object.defineProperty(l,t.d[n].nm,{get:ExpressionPropertyInterface(e.d.dataProps[n].p)})}var a=t.d?t.d.length:0,l={};for(r=0;r<a;r+=1)o(r),e.d.dataProps[r].p.setGroupProperty(s);function h(t){return"Color"===t||"color"===t?h.color:"Opacity"===t||"opacity"===t?h.opacity:"Stroke Width"===t||"stroke width"===t?h.strokeWidth:null}return Object.defineProperties(h,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),h}function a(t,e,n){function r(e){return e===t.e.ix||"End"===e||"end"===e?r.end:e===t.s.ix?r.start:e===t.o.ix?r.offset:null}var i=propertyGroupFactory(r,n);return r.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",i)),e.e.setGroupProperty(PropertyInterface("End",i)),e.o.setGroupProperty(PropertyInterface("Offset",i)),r.propertyIndex=t.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),r.mn=t.mn,r}function l(t,e,n){function r(e){return t.a.ix===e||"Anchor Point"===e?r.anchorPoint:t.o.ix===e||"Opacity"===e?r.opacity:t.p.ix===e||"Position"===e?r.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?r.rotation:t.s.ix===e||"Scale"===e?r.scale:t.sk&&t.sk.ix===e||"Skew"===e?r.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?r.skewAxis:null}var i=propertyGroupFactory(r,n);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",i)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",i)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",i)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",i)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",i)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",i)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",i))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",i)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),r.ty="tr",r.mn=t.mn,r.propertyGroup=n,r}function h(t,e,n){function r(e){return t.p.ix===e?r.position:t.s.ix===e?r.size:null}var i=propertyGroupFactory(r,n);r.propertyIndex=t.ix;var s="tm"===e.sh.ty?e.sh.prop:e.sh;return s.s.setGroupProperty(PropertyInterface("Size",i)),s.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:t.nm}}),r.mn=t.mn,r}function c(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.pt.ix===e?r.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?r.outerRadius:t.os.ix===e?r.outerRoundness:t.ir&&(t.ir.ix===e||"ADBE Vector Star Inner Radius"===e)?r.innerRadius:t.is&&t.is.ix===e?r.innerRoundness:null}var i=propertyGroupFactory(r,n),s="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",i)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),s.pt.setGroupProperty(PropertyInterface("Points",i)),s.p.setGroupProperty(PropertyInterface("Position",i)),s.r.setGroupProperty(PropertyInterface("Rotation",i)),t.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:t.nm}}),r.mn=t.mn,r}function u(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?r.size:null}var i=propertyGroupFactory(r,n),s="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,s.p.setGroupProperty(PropertyInterface("Position",i)),s.s.setGroupProperty(PropertyInterface("Size",i)),s.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:t.nm}}),r.mn=t.mn,r}function d(t,e,n){function r(e){return t.r.ix===e||"Round Corners 1"===e?r.radius:null}var i=propertyGroupFactory(r,n),s=e;return r.propertyIndex=t.ix,s.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:t.nm}}),r.mn=t.mn,r}function p(t,e,n){function r(e){return t.c.ix===e||"Copies"===e?r.copies:t.o.ix===e||"Offset"===e?r.offset:null}var i=propertyGroupFactory(r,n),s=e;return r.propertyIndex=t.ix,s.c.setGroupProperty(PropertyInterface("Copies",i)),s.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:t.nm}}),r.mn=t.mn,r}return function(e,n,r){var i;function s(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?r:i[t-1];for(var e=0,n=i.length;e<n;){if(i[e]._name===t)return i[e];e+=1}return null}return s.propertyGroup=propertyGroupFactory(s,function(){return r}),i=t(e,n,s.propertyGroup),s.numProperties=i.length,s._name="Contents",s}}(),TextExpressionInterface=function(){return function(t){var e;function n(t){return"ADBE Text Document"===t?n.sourceText:null}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return e&&n===e.value||((e=new String(n)).value=n||new String(n),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n}}();function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var FootageInterface=function(){var t=function(t){var e="",n=t.getFootageData();function r(t){if(n[t])return(e=t,n=n[t],"object"===_typeof(n))?r:n;var i=t.indexOf(e);return -1!==i?(n=n[parseInt(t.substr(i+e.length),10)],"object"===_typeof(n))?r:n:""}return function(){return e="",n=t.getFootageData(),r}},e=function(e){function n(t){return"Outline"===t?n.outlineInterface():null}return n._name="Outline",n.outlineInterface=t(e),n};return function(t){function n(t){return"Data"===t?n.dataInterface:null}return n._name="Data",n.dataInterface=e(t),n}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=function(){return{searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e,n=-.01,r=this.getValueAtTime(t),i=this.getValueAtTime(t+n),s=0;if(r.length){for(e=0;e<r.length;e+=1)s+=Math.pow(i[e]-r[e],2);s=100*Math.sqrt(s)}else s=0;return s},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,n,r=-.001,i=this.getValueAtTime(t),s=this.getValueAtTime(t+r);if(i.length)for(n=0,e=createTypedArray("float32",i.length);n<i.length;n+=1)e[n]=(s[n]-i[n])/r;else e=(s-i)/r;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}}}();function addPropertyDecorator(){function t(t,e,n){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r,i,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,c=h[h.length-1].t;if(l<=c)return this.pv;if(n?(r=e?Math.abs(c-this.elem.comp.globalData.frameRate*e):Math.max(0,c-this.elem.data.ip),i=c-r):((!e||e>h.length-1)&&(e=h.length-1),r=c-(i=h[h.length-1-e].t)),"pingpong"===t){if(Math.floor((l-i)/r)%2!=0)return this.getValueAtTime((r-(l-i)%r+i)/this.comp.globalData.frameRate,0)}else if("offset"===t){var u=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime(c/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0),f=Math.floor((l-i)/r);if(this.pv.length){for(s=0,o=(a=Array(u.length)).length;s<o;s+=1)a[s]=(d[s]-u[s])*f+p[s];return a}return(d-u)*f+p}else if("continue"===t){var m=this.getValueAtTime(c/this.comp.globalData.frameRate,0),g=this.getValueAtTime((c-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=0,o=(a=Array(m.length)).length;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*((l-c)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-c)/.001*(m-g)}return this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0)}function e(t,e,n){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r,i,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,c=h[0].t;if(l>=c)return this.pv;if(n?(r=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-c),i=c+r):((!e||e>h.length-1)&&(e=h.length-1),r=(i=h[e].t)-c),"pingpong"===t){if(Math.floor((c-l)/r)%2==0)return this.getValueAtTime(((c-l)%r+c)/this.comp.globalData.frameRate,0)}else if("offset"===t){var u=this.getValueAtTime(c/this.comp.globalData.frameRate,0),d=this.getValueAtTime(i/this.comp.globalData.frameRate,0),p=this.getValueAtTime((r-(c-l)%r+c)/this.comp.globalData.frameRate,0),f=Math.floor((c-l)/r)+1;if(this.pv.length){for(s=0,o=(a=Array(u.length)).length;s<o;s+=1)a[s]=p[s]-(d[s]-u[s])*f;return a}return p-(d-u)*f}else if("continue"===t){var m=this.getValueAtTime(c/this.comp.globalData.frameRate,0),g=this.getValueAtTime((c+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=0,o=(a=Array(m.length)).length;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*(c-l)/.001;return a}return m+(m-g)*(c-l)/.001}return this.getValueAtTime((r-((c-l)%r+c))/this.comp.globalData.frameRate,0)}function n(t,e){if(!this.k||(t=.5*(t||.4),(e=Math.floor(e||5))<=1))return this.pv;var n,r,i=this.comp.renderedFrame/this.comp.globalData.frameRate,s=i-t,o=i+t,a=e>1?(o-s)/(e-1):1,l=0,h=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;l<e;){if(r=this.getValueAtTime(s+l*a),this.pv.length)for(h=0;h<this.pv.length;h+=1)n[h]+=r[h];else n+=r;l+=1}if(this.pv.length)for(h=0;h<this.pv.length;h+=1)n[h]/=e;else n/=e;return n}function r(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(t);e.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(t);e.scale(r[0]*this.s.mult,r[1]*this.s.mult,r[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var i=this.sk.getValueAtTime(t),s=this.sa.getValueAtTime(t);e.skewFromAxis(-i*this.sk.mult,s*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var o=this.r.getValueAtTime(t);e.rotate(-o*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),h=this.rx.getValueAtTime(t),c=this.or.getValueAtTime(t);e.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(h*this.rx.mult).rotateZ(-c[2]*this.or.mult).rotateY(c[1]*this.or.mult).rotateX(c[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(t),d=this.py.getValueAtTime(t);if(this.data.p.z){var p=this.pz.getValueAtTime(t);e.translate(u*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else e.translate(u*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}function i(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,n){var o=s(t,e,n);return o.dynamicProperties.length?o.getValueAtTime=r.bind(o):o.getValueAtTime=i.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;function a(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}PropertyFactory.getProp=function(r,i,s,a,l){var h=o(r,i,s,a,l);h.kf?h.getValueAtTime=expressionHelpers.getValueAtTime.bind(h):h.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(h),h.setGroupProperty=expressionHelpers.setGroupProperty,h.loopOut=t,h.loopIn=e,h.smooth=n,h.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(h),h.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(h),h.numKeys=1===i.a?i.k.length:0,h.propertyIndex=i.ix;var c=0;return 0!==s&&(c=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),h._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:c},expressionHelpers.searchExpressions(r,i,h),h.k&&l.addDynamicProperty(h),h};var l=ShapePropertyFactory.getConstructorFunction(),h=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var n,r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var i=r._length,s=r[t],o=r.v,a=createSizedArray(i);for(n=0;n<i;n+=1)"i"===t||"o"===t?a[n]=[s[n][0]-o[n][0],s[n][1]-o[n][1]]:a[n]=[s[n][0],s[n][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var n,r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var i=this._segmentsLength,s=i.lengths,o=i.totalLength*t,a=0,l=s.length,h=0;a<l;){if(h+s[a].addedLength>o){var c=a,u=r.c&&a===l-1?0:a+1,d=(o-h)/s[a].addedLength;n=bez.getPointInSegment(r.v[c],r.v[u],r.o[c],r.i[u],d,s[a]);break}h+=s[a].addedLength,a+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(t,e,n){1==t?t=this.v.c:0==t&&(t=.999);var r=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),s=i[0]-r[0],o=i[1]-r[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return 0===a?[0,0]:"tangent"===n?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],l),extendPrototype([c],h),h.prototype.getValueAtTime=a,h.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,n,r,i){var s=u(t,e,n,r,i);return s.propertyIndex=e.ix,s.lock=!1,3===n?expressionHelpers.searchExpressions(t,e.pt,s):4===n&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var r={};return this.copyData(r,t),r.t=n.toString(),r.__complete=!1,r}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var n,r,i=createNS("feMerge");for(i.setAttribute("result",t),r=0;r<e.length;r+=1)(n=createNS("feMergeNode")).setAttribute("in",e[r]),i.appendChild(n),i.appendChild(n);return i}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,r,i){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",r+"_tint_1"),t.appendChild(s),(s=createNS("feColorMatrix")).setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",r+"_tint_2"),t.appendChild(s),this.matrixFilter=s;var o=this.createMergeNode(r,[i,r+"_tint_1",r+"_tint_2"]);t.appendChild(o)}function SVGFillFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",r),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}function SVGTritoneFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(i);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",r),this.matrixFilter=s;var o=createNS("feFuncR");o.setAttribute("type","table"),s.appendChild(o),this.feFuncR=o;var a=createNS("feFuncG");a.setAttribute("type","table"),s.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),s.appendChild(l),this.feFuncB=l,t.appendChild(s)}function SVGProLevelsFilter(t,e,n,r){this.filterManager=e;var i=this.filterManager.effectElements,s=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s)),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&((s=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",r),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(t,e,n,r,i){var s=e.container.globalData.renderConfig.filterSize,o=e.data.fs||s;t.setAttribute("x",o.x||s.x),t.setAttribute("y",o.y||s.y),t.setAttribute("width",o.width||s.width),t.setAttribute("height",o.height||s.height),this.filterManager=e;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",r+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,t.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=h,t.appendChild(h);var c=createNS("feComposite");c.setAttribute("in",r+"_drop_shadow_3"),c.setAttribute("in2",r+"_drop_shadow_2"),c.setAttribute("operator","in"),c.setAttribute("result",r+"_drop_shadow_4"),t.appendChild(c);var u=this.createMergeNode(r,[r+"_drop_shadow_4",i]);t.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=(n=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<r;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+o+")");i[0];)a.appendChild(i[0]);this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e=this.paths.length;for(n=0;n<e;n+=1)if(-1!==this.paths[n].m&&(r=this.elem.maskManager.viewData[this.paths[n].m],i=this.paths[n].p,(t||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var n,r,i,s,o,a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),h=i.getTotalLength();s="0 0 0 "+h*a+" ";var c=Math.floor(h*(l-a)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(o=0;o<c;o+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*h+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var u=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*u[0])+","+bmFloor(255*u[1])+","+bmFloor(255*u[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[0]+" "+n[0]+" "+e[0],s=r[1]+" "+n[1]+" "+e[1],o=r[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,r,i){for(var s,o,a=0,l=256,h=Math.min(t,e),c=Math.max(t,e),u=Array.call(null,{length:256}),d=0,p=i-r,f=e-t;a<=256;)o=(s=a/256)<=h?f<0?i:r:s>=c?f<0?r:i:r+p*Math.pow((s-t)/f,1/n),u[d]=o,d+=1,a+=256/(l-1);return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),s=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(t,e,n,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("result",r),t.appendChild(i),this.feGaussianBlur=i}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n,r=t.layerElement.parentNode;if(r){for(var i=r.children,s=0,o=i.length;s<o&&i[s]!==t.layerElement;)s+=1;s<=o-2&&(n=i[s+1]);var a=createNS("use");a.setAttribute("href","#"+e),n?r.insertBefore(a,n):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(r);var s=createNS("symbol");s.setAttribute("id",n),this.replaceInParent(e,n),s.appendChild(e.layerElement),i.appendChild(s);var o=createNS("use");o.setAttribute("href","#"+n),r.appendChild(o),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,r=e.length;n<r;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,n=this.filterManager.effectElements[0].p.v*e,r=this.filterManager.effectElements[1].p.v,i=3==r?0:n,s=2==r?0:n;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+s);var o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",o)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,r=e[1].p.v,i=1===e[2].p.v,s=e[3].p.v,o=i?s:e[4].p.v,a=e[5].p.v,l=e[6].p.v,h=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*o,.01*s,1),this.matrix.rotate(-h*degToRads),this.matrix.skewFromAxis(-a*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})},243:function(t,e,n){"use strict";var r=n(363);function i(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e}var s="function"==typeof Object.is?Object.is:i,o=r.useState,a=r.useEffect,l=r.useLayoutEffect,h=r.useDebugValue;function c(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return l(function(){i.value=n,i.getSnapshot=e,u(i)&&s({inst:i})},[t,n,e]),a(function(){return u(i)&&s({inst:i}),t(function(){u(i)&&s({inst:i})})},[t]),h(n),n}function u(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!s(t,n)}catch(t){return!0}}function d(t,e){return e()}var p="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?d:c;e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:p},136:function(t,e,n){"use strict";var r=n(363),i=n(182);function s(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e}var o="function"==typeof Object.is?Object.is:s,a=i.useSyncExternalStore,l=r.useRef,h=r.useEffect,c=r.useMemo,u=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=l(null);if(null===s.current){var d={hasValue:!1,value:null};s.current=d}else d=s.current;var p=a(t,(s=c(function(){function t(t){if(!l){if(l=!0,s=t,t=r(t),void 0!==i&&d.hasValue){var e=d.value;if(i(e,t))return a=e}return a=t}if(e=a,o(s,t))return e;var n=r(t);return void 0!==i&&i(e,n)?(s=t,e):(s=t,a=n)}var s,a,l=!1,h=void 0===n?null:n;return[function(){return t(e())},null===h?void 0:function(){return t(h())}]},[e,n,r,i]))[0],s[1]);return h(function(){d.hasValue=!0,d.value=p},[p]),u(p),p}},182:function(t,e,n){"use strict";t.exports=n(243)},352:function(t,e,n){"use strict";t.exports=n(136)},365:function(t,e,n){"use strict";n.d(e,{Vz1:()=>r,aUl:()=>i});var r={prefix:"fab",iconName:"github",icon:[512,512,[],"f09b","M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},i={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]}},451:function(t,e,n){"use strict";n.d(e,{$6A:()=>x,$UM:()=>s,AmE:()=>Q,BEE:()=>i,BH7:()=>D,CeG:()=>tt,Cyq:()=>E,DN2:()=>k,DW4:()=>Z,DX_:()=>U,Eze:()=>o,GQu:()=>F,GRI:()=>H,INu:()=>I,Jyw:()=>$,KMJ:()=>g,LBj:()=>m,QLR:()=>te,ReK:()=>ts,SGM:()=>J,SIw:()=>L,Tsj:()=>j,U23:()=>ti,USd:()=>N,Wzs:()=>Y,X46:()=>B,XkK:()=>b,Ys0:()=>X,bMg:()=>l,cNj:()=>A,dmS:()=>V,e68:()=>z,gdJ:()=>w,hSh:()=>a,isI:()=>y,jTw:()=>T,k6j:()=>tr,l5I:()=>S,nWR:()=>P,nx5:()=>p,oE6:()=>G,pNp:()=>q,pS3:()=>c,pch:()=>to,q9p:()=>K,qIE:()=>ta,qcK:()=>v,rC2:()=>_,rtb:()=>f,rwq:()=>h,s0Q:()=>C,s4k:()=>d,v02:()=>R,vZS:()=>W,yBu:()=>O,yLS:()=>u,y_8:()=>r,yek:()=>tn,zqi:()=>M});var r={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},i={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},s={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},o={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M204.2 18.4c12 5 19.8 16.6 19.8 29.6l0 80 112 0c97.2 0 176 78.8 176 176 0 113.3-81.5 163.9-100.2 174.1-2.5 1.4-5.3 1.9-8.1 1.9-10.9 0-19.7-8.9-19.7-19.7 0-7.5 4.3-14.4 9.8-19.5 9.4-8.8 22.2-26.4 22.2-56.7 0-53-43-96-96-96l-96 0 0 80c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-160-160c-12.5-12.5-12.5-32.8 0-45.3l160-160c9.2-9.2 22.9-11.9 34.9-6.9z"]},a={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},l={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0 160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]},h={prefix:"fas",iconName:"camera",icon:[512,512,[62258,"camera-alt"],"f030","M149.1 64.8L138.7 96 64 96C28.7 96 0 124.7 0 160L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64l-74.7 0-10.4-31.2C356.4 45.2 338.1 32 317.4 32L194.6 32c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},c={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},u={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},d={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8-79.3 23.6-137.1 97.1-137.1 184.1 0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256 512 397.4 397.4 512 256 512S0 397.4 0 256c0-116 77.1-213.9 182.9-245.4 16.9-5 34.8 4.6 39.8 21.5z"]},p={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},f={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M345 273c9.4-9.4 9.4-24.6 0-33.9L201 95c-6.9-6.9-17.2-8.9-26.2-5.2S160 102.3 160 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L345 273zm7 143c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0z"]},m={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M384 512L96 512c-53 0-96-43-96-96L0 96C0 43 43 0 96 0L400 0c26.5 0 48 21.5 48 48l0 288c0 20.9-13.4 38.7-32 45.3l0 66.7c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0zM96 384c-17.7 0-32 14.3-32 32s14.3 32 32 32l256 0 0-64-256 0zm32-232c0 13.3 10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0c-13.3 0-24 10.7-24 24zm24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0z"]},g={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},y={prefix:"fas",iconName:"paper-plane",icon:[576,512,[61913],"f1d8","M536.4-26.3c9.8-3.5 20.6-1 28 6.3s9.8 18.2 6.3 28l-178 496.9c-5 13.9-18.1 23.1-32.8 23.1-14.2 0-27-8.6-32.3-21.7l-64.2-158c-4.5-11-2.5-23.6 5.2-32.6l94.5-112.4c5.1-6.1 4.7-15-.9-20.6s-14.6-6-20.6-.9L229.2 276.1c-9.1 7.6-21.6 9.6-32.6 5.2L38.1 216.8c-13.1-5.3-21.7-18.1-21.7-32.3 0-14.7 9.2-27.8 23.1-32.8l496.9-178z"]},v={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},b={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},x={prefix:"fas",iconName:"strikethrough",icon:[512,512,[],"f0cc","M96 157.5C96 88.2 152.2 32 221.5 32L368 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L221.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61l44.1 5.5 222 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l83.1 0C103 204.6 96 181.8 96 157.5zM349.2 336l65.5 0c.9 6.1 1.4 12.2 1.4 18.5 0 69.3-56.2 125.5-125.5 125.5L144 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-6.4-1-12.7-2.8-18.5z"]},w={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M320 16a104 104 0 1 1 0 208 104 104 0 1 1 0-208zM96 88a72 72 0 1 1 0 144 72 72 0 1 1 0-144zM0 416c0-70.7 57.3-128 128-128 12.8 0 25.2 1.9 36.9 5.4-32.9 36.8-52.9 85.4-52.9 138.6l0 16c0 11.4 2.4 22.2 6.7 32L32 480c-17.7 0-32-14.3-32-32l0-32zm521.3 64c4.3-9.8 6.7-20.6 6.7-32l0-16c0-53.2-20-101.8-52.9-138.6 11.7-3.5 24.1-5.4 36.9-5.4 70.7 0 128 57.3 128 128l0 32c0 17.7-14.3 32-32 32l-86.7 0zM472 160a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zM160 432c0-88.4 71.6-160 160-160s160 71.6 160 160l0 16c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-16z"]},k={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 132.5-114.6 240-256 240-37.1 0-72.3-7.4-104.1-20.7L33.5 510.1c-9.4 4-20.2 1.7-27.1-5.8S-2 485.8 2.8 476.8l48.8-92.2C19.2 344.3 0 294.3 0 240 0 107.5 114.6 0 256 0S512 107.5 512 240z"]},S={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l32 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l224 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM288 160c0 35.3-28.7 64-64 64l-96 0 0-128 96 0c35.3 0 64 28.7 64 64zM128 416l0-128 128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0z"]},C={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM167 167c9.4-9.4 24.6-9.4 33.9 0l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9z"]},M={prefix:"fas",iconName:"crown",icon:[576,512,[128081],"f521","M313 87.2c9.2-7.3 15-18.6 15-31.2 0-22.1-17.9-40-40-40s-40 17.9-40 40c0 12.6 5.9 23.9 15 31.2L194.6 194.8c-10 15.7-31.3 19.6-46.2 8.4L88.9 158.7c4.5-6.4 7.1-14.3 7.1-22.7 0-22.1-17.9-40-40-40s-40 17.9-40 40c0 21.8 17.5 39.6 39.2 40L87.8 393.5c4.7 31.3 31.6 54.5 63.3 54.5l273.8 0c31.7 0 58.6-23.2 63.3-54.5L520.8 176c21.7-.4 39.2-18.2 39.2-40 0-22.1-17.9-40-40-40s-40 17.9-40 40c0 8.4 2.6 16.3 7.1 22.7l-59.4 44.6c-14.9 11.2-36.2 7.3-46.2-8.4L313 87.2z"]},E={prefix:"fas",iconName:"image",icon:[448,512,[],"f03e","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z"]},A={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z"]},_={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M292.9 384c7.3-22.3 21.9-42.5 38.4-59.9 32.7-34.4 52.7-80.9 52.7-132.1 0-106-86-192-192-192S0 86 0 192c0 51.2 20 97.7 52.7 132.1 16.5 17.4 31.2 37.6 38.4 59.9l201.7 0zM288 432l-192 0 0 16c0 44.2 35.8 80 80 80l32 0c44.2 0 80-35.8 80-80l0-16zM184 112c-39.8 0-72 32.2-72 72 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3 53.7-120 120-120 13.3 0 24 10.7 24 24s-10.7 24-24 24z"]},T={prefix:"fas",iconName:"code",icon:[576,512,[],"f121","M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 150.6 182.6c12.5-12.5 12.5-32.8 0-45.3z"]},P={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]},D={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]},N={prefix:"fas",iconName:"user-group",icon:[576,512,[128101,"user-friends"],"f500","M64 128a112 112 0 1 1 224 0 112 112 0 1 1 -224 0zM0 464c0-97.2 78.8-176 176-176s176 78.8 176 176l0 6c0 23.2-18.8 42-42 42L42 512c-23.2 0-42-18.8-42-42l0-6zM432 64a96 96 0 1 1 0 192 96 96 0 1 1 0-192zm0 240c79.5 0 144 64.5 144 144l0 22.4c0 23-18.6 41.6-41.6 41.6l-144.8 0c6.6-12.5 10.4-26.8 10.4-42l0-6c0-51.5-17.4-98.9-46.5-136.7 22.6-14.7 49.6-23.3 78.5-23.3z"]},O={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},I={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},L={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0-133.3 320 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0 133.3-320-64 0c-17.7 0-32-14.3-32-32z"]},z={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]},R={prefix:"fas",iconName:"house",icon:[512,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z"]},F={prefix:"fas",iconName:"brain",icon:[512,512,[129504],"f5dc","M120 56c0-30.9 25.1-56 56-56l24 0c17.7 0 32 14.3 32 32l0 448c0 17.7-14.3 32-32 32l-32 0c-29.8 0-54.9-20.4-62-48-.7 0-1.3 0-2 0-44.2 0-80-35.8-80-80 0-18 6-34.6 16-48-19.4-14.6-32-37.8-32-64 0-30.9 17.6-57.8 43.2-71.1-7.1-12-11.2-26-11.2-40.9 0-44.2 35.8-80 80-80l0-24zm272 0l0 24c44.2 0 80 35.8 80 80 0 15-4.1 29-11.2 40.9 25.7 13.3 43.2 40.1 43.2 71.1 0 26.2-12.6 49.4-32 64 10 13.4 16 30 16 48 0 44.2-35.8 80-80 80-.7 0-1.3 0-2 0-7.1 27.6-32.2 48-62 48l-32 0c-17.7 0-32-14.3-32-32l0-448c0-17.7 14.3-32 32-32l24 0c30.9 0 56 25.1 56 56z"]},B={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},j={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M0 72C0 58.8 10.7 48 24 48l48 0c13.3 0 24 10.7 24 24l0 104 24 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-80-24 0C10.7 96 0 85.3 0 72zM30.4 301.2C41.8 292.6 55.7 288 70 288l4.9 0c33.7 0 61.1 27.4 61.1 61.1 0 19.6-9.4 37.9-25.2 49.4l-24 17.5 33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-90.7 0C13.1 464 0 450.9 0 434.7 0 425.3 4.5 416.5 12.1 411l70.5-51.3c3.4-2.5 5.4-6.4 5.4-10.6 0-7.2-5.9-13.1-13.1-13.1L70 336c-3.9 0-7.7 1.3-10.8 3.6L38.4 355.2c-10.6 8-25.6 5.8-33.6-4.8S-1 324.8 9.6 316.8l20.8-15.6zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},V={prefix:"fas",iconName:"arrow-right",icon:[512,512,[8594],"f061","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},$={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},H=$,q={prefix:"fas",iconName:"lock-open",icon:[576,512,[],"f3c1","M384 96c0-35.3 28.7-64 64-64s64 28.7 64 64l0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32c0-70.7-57.3-128-128-128S320 25.3 320 96l0 64-160 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64l-32 0 0-64z"]},W={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM120 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]},K={prefix:"fas",iconName:"comments",icon:[576,512,[128490,61670],"f086","M384 144c0 97.2-86 176-192 176-26.7 0-52.1-5-75.2-14L35.2 349.2c-9.3 4.9-20.7 3.2-28.2-4.2s-9.2-18.9-4.2-28.2l35.6-67.2C14.3 220.2 0 183.6 0 144 0 46.8 86-32 192-32S384 46.8 384 144zm0 368c-94.1 0-172.4-62.1-188.8-144 120-1.5 224.3-86.9 235.8-202.7 83.3 19.2 145 88.3 145 170.7 0 39.6-14.3 76.2-38.4 105.6l35.6 67.2c4.9 9.3 3.2 20.7-4.2 28.2s-18.9 9.2-28.2 4.2L459.2 498c-23.1 9-48.5 14-75.2 14z"]},U={prefix:"fas",iconName:"tags",icon:[576,512,[],"f02c","M401.2 39.1L549.4 189.4c27.7 28.1 27.7 73.1 0 101.2L393 448.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L515.3 256.8c9.2-9.3 9.2-24.4 0-33.7L367 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM32.1 229.5L32.1 96c0-35.3 28.7-64 64-64l133.5 0c17 0 33.3 6.7 45.3 18.7l144 144c25 25 25 65.5 0 90.5L285.4 418.7c-25 25-65.5 25-90.5 0l-144-144c-12-12-18.7-28.3-18.7-45.3zm144-85.5a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},J={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},G={prefix:"fas",iconName:"quote-right",icon:[448,512,[8221,"quote-right-alt"],"f10e","M448 296c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 136zm-256 0c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 136z"]},Y={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},X={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M263.4-27L278.2 9.8 315 24.6c3 1.2 5 4.2 5 7.4s-2 6.2-5 7.4L278.2 54.2 263.4 91c-1.2 3-4.2 5-7.4 5s-6.2-2-7.4-5L233.8 54.2 197 39.4c-3-1.2-5-4.2-5-7.4s2-6.2 5-7.4L233.8 9.8 248.6-27c1.2-3 4.2-5 7.4-5s6.2 2 7.4 5zM110.7 41.7l21.5 50.1 50.1 21.5c5.9 2.5 9.7 8.3 9.7 14.7s-3.8 12.2-9.7 14.7l-50.1 21.5-21.5 50.1c-2.5 5.9-8.3 9.7-14.7 9.7s-12.2-3.8-14.7-9.7L59.8 164.2 9.7 142.7C3.8 140.2 0 134.4 0 128s3.8-12.2 9.7-14.7L59.8 91.8 81.3 41.7C83.8 35.8 89.6 32 96 32s12.2 3.8 14.7 9.7zM464 304c6.4 0 12.2 3.8 14.7 9.7l21.5 50.1 50.1 21.5c5.9 2.5 9.7 8.3 9.7 14.7s-3.8 12.2-9.7 14.7l-50.1 21.5-21.5 50.1c-2.5 5.9-8.3 9.7-14.7 9.7s-12.2-3.8-14.7-9.7l-21.5-50.1-50.1-21.5c-5.9-2.5-9.7-8.3-9.7-14.7s3.8-12.2 9.7-14.7l50.1-21.5 21.5-50.1c2.5-5.9 8.3-9.7 14.7-9.7zM460 0c11 0 21.6 4.4 29.5 12.2l42.3 42.3C539.6 62.4 544 73 544 84s-4.4 21.6-12.2 29.5l-88.2 88.2-101.3-101.3 88.2-88.2C438.4 4.4 449 0 460 0zM44.2 398.5L308.4 134.3 409.7 235.6 145.5 499.8C137.6 507.6 127 512 116 512s-21.6-4.4-29.5-12.2L44.2 457.5C36.4 449.6 32 439 32 428s4.4-21.6 12.2-29.5z"]},Z={prefix:"fas",iconName:"lock",icon:[384,512,[128274],"f023","M128 96l0 64 128 0 0-64c0-35.3-28.7-64-64-64s-64 28.7-64 64zM64 160l0-64C64 25.3 121.3-32 192-32S320 25.3 320 96l0 64c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64z"]},Q={prefix:"fas",iconName:"heading",icon:[448,512,["header"],"f1dc","M0 64C0 46.3 14.3 32 32 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 112 224 0 0-112-16 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 320 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-144-224 0 0 144 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-320-16 0C14.3 96 0 81.7 0 64z"]},tt={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},te={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},tn={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M436.7 74.7L448 85.4 448 32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 128c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l47.9 0-7.6-7.2c-.2-.2-.4-.4-.6-.6-75-75-196.5-75-271.5 0s-75 196.5 0 271.5 196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c99.9-99.9 261.7-100 361.7-.3z"]},tr={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},ti={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z"]},ts={prefix:"fas",iconName:"book-open",icon:[512,512,[128214,128366],"f518","M256 141.3l0 309.3 .5-.2C311.1 427.7 369.7 416 428.8 416l19.2 0 0-320-19.2 0c-42.2 0-84.1 8.4-123.1 24.6-16.8 7-33.4 13.9-49.7 20.7zM230.9 61.5L256 72 281.1 61.5C327.9 42 378.1 32 428.8 32L464 32c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-35.2 0c-50.7 0-100.9 10-147.7 29.5l-12.8 5.3c-7.9 3.3-16.7 3.3-24.6 0l-12.8-5.3C184.1 490 133.9 480 83.2 480L48 480c-26.5 0-48-21.5-48-48L0 80C0 53.5 21.5 32 48 32l35.2 0c50.7 0 100.9 10 147.7 29.5z"]},to={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},ta={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M232.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 149.8C5.4 145.8 0 137.3 0 128s5.4-17.9 13.9-21.8L232.5 5.2zM48.1 218.4l164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 277.8C5.4 273.8 0 265.3 0 256s5.4-17.9 13.9-21.8l34.1-15.8zM13.9 362.2l34.1-15.8 164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 405.8C5.4 401.8 0 393.3 0 384s5.4-17.9 13.9-21.8z"]}},469:function(t,e,n){"use strict";n.d(e,{gc:()=>st});var r,i,s=n(363);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t){if(Array.isArray(t))return t}function l(t){if(Array.isArray(t))return o(t)}function h(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=M(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function p(t,e,n){return(e=S(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function m(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){h=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function g(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t,e){return a(t)||m(t,e)||M(t,e)||g()}function w(t){return l(t)||f(t)||M(t)||y()}function k(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function S(t){var e=k(t,"string");return"symbol"==typeof e?e:e+""}function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){if(t){if("string"==typeof t)return o(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}var E=function(){},A={},_={},T=null,P={mark:E,measure:E};try{"undefined"!=typeof window&&(A=window),"undefined"!=typeof document&&(_=document),"undefined"!=typeof MutationObserver&&(T=MutationObserver),"undefined"!=typeof performance&&(P=performance)}catch(t){}var D=(A.navigator||{}).userAgent,N=void 0===D?"":D,O=A,I=_,L=T,z=P;O.document;var R=!!I.documentElement&&!!I.head&&"function"==typeof I.addEventListener&&"function"==typeof I.createElement,F=~N.indexOf("MSIE")||~N.indexOf("Trident/"),B=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,j=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,V={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},$={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},H=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],q="classic",W="duotone",K="sharp",U="sharp-duotone",J="chisel",G="etch",Y="jelly",X="jelly-duo",Z="jelly-fill",Q="notdog",tt="notdog-duo",te="slab",tn="slab-press",tr="thumbprint",ti="utility",ts="utility-duo",to="utility-fill",ta="whiteboard",tl="Duotone",th="Sharp",tc="Sharp Duotone",tu="Chisel",td="Etch",tp="Jelly",tf="Jelly Duo",tm="Jelly Fill",tg="Notdog",ty="Notdog Duo",tv="Slab",tb="Slab Press",tx="Thumbprint",tw="Utility",tk="Utility Duo",tS="Utility Fill",tC="Whiteboard",tM=[q,W,K,U,J,G,Y,X,Z,Q,tt,te,tn,tr,ti,ts,to,ta];p(p(p(p(p(p(p(p(p(p(r={},q,"Classic"),W,tl),K,th),U,tc),J,tu),G,td),Y,tp),X,tf),Z,tm),Q,tg),p(p(p(p(p(p(p(p(r,tt,ty),te,tv),tn,tb),tr,tx),ti,tw),ts,tk),to,tS),ta,tC);var tE={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},tA={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},t_=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),tT={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},tP=["fak","fa-kit","fakd","fa-kit-duotone"],tD={fak:"kit","fa-kit":"kit"},tN={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},tO=["kit"],tI="kit-duotone",tL="Kit Duotone";p(p({},"kit","Kit"),tI,tL);var tz={"fa-kit":"fak"},tR={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},tF={fak:"fa-kit"},tB={kit:"fak"},tj={"kit-duotone":"fakd"},tV="duotone-group",t$="swap-opacity",tH="primary",tq="secondary",tW=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],tK="duotone",tU="sharp",tJ="sharp-duotone",tG="chisel",tY="etch",tX="jelly",tZ="jelly-duo",tQ="jelly-fill",t0="notdog",t1="notdog-duo",t2="slab",t3="slab-press",t4="thumbprint",t5="utility",t6="utility-duo",t7="utility-fill",t8="whiteboard",t9="Duotone",et="Sharp",ee="Sharp Duotone",en="Chisel",er="Etch",ei="Jelly",es="Jelly Duo",eo="Jelly Fill",ea="Notdog",el="Notdog Duo",eh="Slab",ec="Slab Press",eu="Thumbprint",ed="Utility",ep="Utility Duo",ef="Utility Fill",em="Whiteboard";p(p(p(p(p(p(p(p(p(p(i={},"classic","Classic"),tK,t9),tU,et),tJ,ee),tG,en),tY,er),tX,ei),tZ,es),tQ,eo),t0,ea),p(p(p(p(p(p(p(p(i,t1,el),t2,eh),t3,ec),t4,eu),t5,ed),t6,ep),t7,ef),t8,em);var eg="kit-duotone",ey="Kit Duotone";p(p({},"kit","Kit"),eg,ey);var ev={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},eb={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},ex={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},ew=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(tW,["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"]),ek=["solid","regular","light","thin","duotone","brands","semibold"],eS=[1,2,3,4,5,6,7,8,9,10],eC=eS.concat([11,12,13,14,15,16,17,18,19,20]),eM=["aw","fw","pull-left","pull-right"],eE=[].concat(w(Object.keys(eb)),ek,eM,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",tV,t$,tH,tq]).concat(eS.map(function(t){return"".concat(t,"x")})).concat(eC.map(function(t){return"w-".concat(t)})),eA={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},e_="___FONT_AWESOME___",eT=16,eP="fa",eD="svg-inline--fa",eN="data-fa-i2svg",eO="data-fa-pseudo-element",eI="data-fa-pseudo-element-pending",eL="data-prefix",ez="data-icon",eR="fontawesome-i2svg",eF="async",eB=["HTML","HEAD","STYLE","SCRIPT"],ej=["::before","::after",":before",":after"],eV=function(){try{return!0}catch(t){return!1}}();function e$(t){return new Proxy(t,{get:function(t,e){return e in t?t[e]:t[q]}})}var eH=b({},V);eH[q]=b(b(b(b({},{"fa-duotone":"duotone"}),V[q]),tD),tN);var eq=e$(eH),eW=b({},tT);eW[q]=b(b(b(b({},{duotone:"fad"}),eW[q]),tB),tj);var eK=e$(eW),eU=b({},ex);eU[q]=b(b({},eU[q]),tF);var eJ=e$(eU),eG=b({},ev);eG[q]=b(b({},eG[q]),tz),e$(eG);var eY=B,eX="fa-layers-text",eZ=j;e$(b({},tE));var eQ=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],e0=$,e1=[].concat(w(tO),w(eE)),e2=O.FontAwesomeConfig||{};function e3(t){var e=I.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function e4(t){return""===t||"false"!==t&&("true"===t||t)}I&&"function"==typeof I.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=x(t,2),n=e[0],r=e[1],i=e4(e3(n));null!=i&&(e2[r]=i)});var e5={styleDefault:"solid",familyDefault:q,cssPrefix:eP,replacementClass:eD,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};e2.familyPrefix&&(e2.cssPrefix=e2.familyPrefix);var e6=b(b({},e5),e2);e6.autoReplaceSvg||(e6.observeMutations=!1);var e7={};Object.keys(e5).forEach(function(t){Object.defineProperty(e7,t,{enumerable:!0,set:function(e){e6[t]=e,e8.forEach(function(t){return t(e7)})},get:function(){return e6[t]}})}),Object.defineProperty(e7,"familyPrefix",{enumerable:!0,set:function(t){e6.cssPrefix=t,e8.forEach(function(t){return t(e7)})},get:function(){return e6.cssPrefix}}),O.FontAwesomeConfig=e7;var e8=[];function e9(t){return e8.push(t),function(){e8.splice(e8.indexOf(t),1)}}var nt=eT,ne={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function nn(t){if(t&&R){var e=I.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=I.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i];["STYLE","LINK"].indexOf((s.tagName||"").toUpperCase())>-1&&(r=s)}return I.head.insertBefore(e,r),t}}var nr="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ni(){for(var t=12,e="";t-- >0;)e+=nr[62*Math.random()|0];return e}function ns(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function no(t){return t.classList?ns(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(t){return t})}function na(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nl(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(na(t[n]),'" ')},"").trim()}function nh(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function nc(t){return t.size!==ne.size||t.x!==ne.x||t.y!==ne.y||t.rotate!==ne.rotate||t.flipX||t.flipY}function nu(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(-(r/2*1)," -256)")}}}function nd(t){var e=t.transform,n=t.width,r=void 0===n?eT:n,i=t.height,s=void 0===i?eT:i,o=t.startCentered,a=void 0!==o&&o,l="";return a&&F?l+="translate(".concat(e.x/nt-r/2,"em, ").concat(e.y/nt-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/nt,"em), calc(-50% + ").concat(e.y/nt,"em)) "):l+="translate(".concat(e.x/nt,"em, ").concat(e.y/nt,"em) "),l+="scale(".concat(e.size/nt*(e.flipX?-1:1),", ").concat(e.size/nt*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) ")}var np=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";\n  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";\n  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";\n  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";\n  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";\n  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";\n  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";\n  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";\n  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";\n  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";\n  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";\n  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";\n  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";\n  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";\n}\n\n.svg-inline--fa {\n  box-sizing: content-box;\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285714em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left,\n.svg-inline--fa .fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-pull-right,\n.svg-inline--fa .fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.fa-layers .svg-inline--fa {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xs {\n  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-sm {\n  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-lg {\n  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xl {\n  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-2xl {\n  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-width-auto {\n  --fa-width: auto;\n}\n\n.fa-fw,\n.fa-width-fixed {\n  --fa-width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-inline-start: var(--fa-li-margin, 2.5em);\n  padding-inline-start: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n/* Heads Up: Bordered Icons will not be supported in the future!\n  - This feature will be deprecated in the next major release of Font Awesome (v8)!\n  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.\n*/\n/* Notes:\n* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)\n* --@{v.$css-prefix}-border-padding =\n  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it\'s vertical alignment)\n  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)\n*/\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.0625em);\n  box-sizing: var(--fa-border-box-sizing, content-box);\n  padding: var(--fa-border-padding, 0.1875em 0.25em);\n}\n\n.fa-pull-left,\n.fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right,\n.fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n  .fa-bounce,\n  .fa-fade,\n  .fa-beat-fade,\n  .fa-flip,\n  .fa-pulse,\n  .fa-shake,\n  .fa-spin,\n  .fa-spin-pulse {\n    animation: none !important;\n    transition: none !important;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.svg-inline--fa.fa-inverse {\n  fill: var(--fa-inverse, #fff);\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  line-height: 2em;\n  position: relative;\n  vertical-align: middle;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  --fa-width: 1.25em;\n  height: 1em;\n  width: var(--fa-width);\n}\n.svg-inline--fa.fa-stack-2x {\n  --fa-width: 2.5em;\n  height: 2em;\n  width: var(--fa-width);\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  z-index: var(--fa-stack-z-index, auto);\n}';function nf(){var t=eP,e=eD,n=e7.cssPrefix,r=e7.replacementClass,i=np;if(n!==t||r!==e){var s=RegExp("\\.".concat(t,"\\-"),"g"),o=RegExp("\\--".concat(t,"\\-"),"g"),a=RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var nm=!1;function ng(){e7.autoAddCss&&!nm&&(nn(nf()),nm=!0)}var ny={mixout:function(){return{dom:{css:nf,insertCss:ng}}},hooks:function(){return{beforeDOMElementCreation:function(){ng()},beforeI2svg:function(){ng()}}}},nv=O||{};nv[e_]||(nv[e_]={}),nv[e_].styles||(nv[e_].styles={}),nv[e_].hooks||(nv[e_].hooks={}),nv[e_].shims||(nv[e_].shims=[]);var nb=nv[e_],nx=[],nw=function(){I.removeEventListener("DOMContentLoaded",nw),nk=1,nx.map(function(t){return t()})},nk=!1;function nS(t){R&&(nk?setTimeout(t,0):nx.push(t))}function nC(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?na(t):"<".concat(e," ").concat(nl(r),">").concat(s.map(nC).join(""),"</").concat(e,">")}function nM(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}R&&((nk=(I.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(I.readyState))||I.addEventListener("DOMContentLoaded",nw));var nE=function(t,e){return function(n,r,i,s){return t.call(e,n,r,i,s)}},nA=function(t,e,n,r){var i,s,o,a=Object.keys(t),l=a.length,h=void 0!==r?nE(e,r):e;for(void 0===n?(i=1,o=t[a[0]]):(i=0,o=n);i<l;i++)o=h(o,t[s=a[i]],s,t);return o};function n_(t){return 1!==w(t).length?null:t.codePointAt(0).toString(16)}function nT(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function nP(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,s=nT(e);"function"!=typeof nb.hooks.addPack||i?nb.styles[t]=b(b({},nb.styles[t]||{}),s):nb.hooks.addPack(t,nT(e)),"fas"===t&&nP("fa",e)}var nD=nb.styles,nN=nb.shims,nO=Object.keys(eJ),nI=nO.reduce(function(t,e){return t[e]=Object.keys(eJ[e]),t},{}),nL=null,nz={},nR={},nF={},nB={},nj={};function nV(t){return~e1.indexOf(t)}function n$(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||nV(i)?null:i}var nH=function(){var t=function(t){return nA(nD,function(e,n,r){return e[r]=nA(n,t,{}),e},{})};nz=t(function(t,e,n){return e[3]&&(t[e[3]]=n),e[2]&&e[2].filter(function(t){return"number"==typeof t}).forEach(function(e){t[e.toString(16)]=n}),t}),nR=t(function(t,e,n){return t[n]=n,e[2]&&e[2].filter(function(t){return"string"==typeof t}).forEach(function(e){t[e]=n}),t}),nj=t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in nD||e7.autoFetchSvg,n=nA(nN,function(t,n){var r=n[0],i=n[1],s=n[2];return"far"!==i||e||(i="fas"),"string"==typeof r&&(t.names[r]={prefix:i,iconName:s}),"number"==typeof r&&(t.unicodes[r.toString(16)]={prefix:i,iconName:s}),t},{names:{},unicodes:{}});nF=n.names,nB=n.unicodes,nL=nZ(e7.styleDefault,{family:e7.familyDefault})};function nq(t,e){return(nz[t]||{})[e]}function nW(t,e){return(nR[t]||{})[e]}function nK(t,e){return(nj[t]||{})[e]}function nU(t){return nF[t]||{prefix:null,iconName:null}}function nJ(t){var e=nB[t],n=nq("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function nG(){return nL}e9(function(t){nL=nZ(t.styleDefault,{family:e7.familyDefault})}),nH();var nY=function(){return{prefix:null,iconName:null,rest:[]}};function nX(t){var e=q,n=nO.reduce(function(t,e){return t[e]="".concat(e7.cssPrefix,"-").concat(e),t},{});return tM.forEach(function(r){(t.includes(n[r])||t.some(function(t){return nI[r].includes(t)}))&&(e=r)}),e}function nZ(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.family,r=void 0===n?q:n,i=eq[r][t];if(r===W&&!t)return"fad";var s=eK[r][t]||eK[r][i],o=t in nb.styles?t:null;return s||o||null}function nQ(t){var e=[],n=null;return t.forEach(function(t){var r=n$(e7.cssPrefix,t);r?n=r:t&&e.push(t)}),{iconName:n,rest:e}}function n0(t){return t.sort().filter(function(t,e,n){return n.indexOf(t)===e})}var n1=ew.concat(tP);function n2(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.skipLookups,r=void 0!==n&&n,i=null,s=n0(t.filter(function(t){return n1.includes(t)})),o=n0(t.filter(function(t){return!n1.includes(t)})),a=x(s.filter(function(t){return i=t,!H.includes(t)}),1)[0],l=void 0===a?null:a,h=nX(s),c=b(b({},nQ(o)),{},{prefix:nZ(l,{family:h})});return b(b(b({},c),n6({values:t,family:h,styles:nD,config:e7,canonical:c,givenPrefix:i})),n3(r,i,c))}function n3(t,e,n){var r=n.prefix,i=n.iconName;if(t||!r||!i)return{prefix:r,iconName:i};var s="fa"===e?nU(i):{},o=nK(r,i);return i=s.iconName||o||i,"far"!==(r=s.prefix||r)||nD.far||!nD.fas||e7.autoFetchSvg||(r="fas"),{prefix:r,iconName:i}}var n4=tM.filter(function(t){return t!==q||t!==W}),n5=Object.keys(ex).filter(function(t){return t!==q}).map(function(t){return Object.keys(ex[t])}).flat();function n6(t){var e=t.values,n=t.family,r=t.canonical,i=t.givenPrefix,s=void 0===i?"":i,o=t.styles,a=void 0===o?{}:o,l=t.config,h=void 0===l?{}:l,c=n===W,u=e.includes("fa-duotone")||e.includes("fad"),d="duotone"===h.familyDefault,p="fad"===r.prefix||"fa-duotone"===r.prefix;return!c&&(u||d||p)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&n4.includes(n)&&(Object.keys(a).find(function(t){return n5.includes(t)})||h.autoFetchSvg)&&(r.prefix=t_.get(n).defaultShortPrefixId,r.iconName=nK(r.prefix,r.iconName)||r.iconName),("fa"===r.prefix||"fa"===s)&&(r.prefix=nG()||"fas"),r}var n7=function(){function t(){h(this,t),this.definitions={}}return u(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=b(b({},t.definitions[e]||{}),i[e]),nP(e,i[e]);var n=eJ[q][e];n&&nP(n,i[e]),nH()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,s=r.iconName,o=r.icon,a=o[2];t[i]||(t[i]={}),a.length>0&&a.forEach(function(e){"string"==typeof e&&(t[i][e]=o)}),t[i][s]=o}),t}}])}(),n8=[],n9={},rt={},re=Object.keys(rt);function rn(t,e){var n=e.mixoutsTo;return n8=t,n9={},Object.keys(rt).forEach(function(t){-1===re.indexOf(t)&&delete rt[t]}),n8.forEach(function(t){var e=t.mixout?t.mixout():{};if(Object.keys(e).forEach(function(t){"function"==typeof e[t]&&(n[t]=e[t]),"object"===C(e[t])&&Object.keys(e[t]).forEach(function(r){n[t]||(n[t]={}),n[t][r]=e[t][r]})}),t.hooks){var r=t.hooks();Object.keys(r).forEach(function(t){n9[t]||(n9[t]=[]),n9[t].push(r[t])})}t.provides&&t.provides(rt)}),n}function rr(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(n9[t]||[]).forEach(function(t){e=t.apply(null,[e].concat(r))}),e}function ri(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(n9[t]||[]).forEach(function(t){t.apply(null,n)})}function rs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return rt[t]?rt[t].apply(null,e):void 0}function ro(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||nG();if(e)return e=nK(n,e)||e,nM(ra.definitions,n,e)||nM(nb.styles,n,e)}var ra=new n7,rl={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R?(ri("beforeI2svg",t),rs("pseudoElements2svg",t),rs("i2svg",t)):Promise.reject(Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===e7.autoReplaceSvg&&(e7.autoReplaceSvg=!0),e7.observeMutations=!0,nS(function(){ru({autoReplaceSvgRoot:e}),ri("watch",t)})}},rh={icon:function(t){if(null===t)return null;if("object"===C(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:nK(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],n=nZ(t[0]);return{prefix:n,iconName:nK(n,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(e7.cssPrefix,"-"))>-1||t.match(eY))){var r=n2(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||nG(),iconName:nK(r.prefix,r.iconName)||r.iconName}}if("string"==typeof t){var i=nG();return{prefix:i,iconName:nK(i,t)||t}}}},rc={noAuto:function(){e7.autoReplaceSvg=!1,e7.observeMutations=!1,ri("noAuto")},config:e7,dom:rl,parse:rh,library:ra,findIconDefinition:ro,toHtml:nC},ru=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,n=void 0===e?I:e;(Object.keys(nb.styles).length>0||e7.autoFetchSvg)&&R&&e7.autoReplaceSvg&&rc.dom.i2svg({node:n})};function rd(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return nC(t)})}}),Object.defineProperty(t,"node",{get:function(){if(R){var e=I.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function rp(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(nc(o)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=nh(b(b({},s),{},{"transform-origin":"".concat(a.x+o.x/16,"em ").concat(a.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function rf(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(e,"-").concat(e7.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:b(b({},i),{},{id:o}),children:r}]}]}function rm(t){return["aria-label","aria-labelledby","title","role"].some(function(e){return e in t})}function rg(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.maskId,h=t.extra,c=t.watchable,u=void 0!==c&&c,d=r.found?r:n,p=d.width,f=d.height,m=[e7.replacementClass,s?"".concat(e7.cssPrefix,"-").concat(s):""].filter(function(t){return -1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),g={children:[],attributes:b(b({},h.attributes),{},{"data-prefix":i,"data-icon":s,class:m,role:h.attributes.role||"img",viewBox:"0 0 ".concat(p," ").concat(f)})};rm(h.attributes)||h.attributes["aria-hidden"]||(g.attributes["aria-hidden"]="true"),u&&(g.attributes[eN]="");var y=b(b({},g),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:b({},h.styles)}),v=r.found&&n.found?rs("generateAbstractMask",y)||{children:[],attributes:{}}:rs("generateAbstractIcon",y)||{children:[],attributes:{}},x=v.children,w=v.attributes;return(y.children=x,y.attributes=w,a)?rf(y):rp(y)}function ry(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.extra,o=t.watchable,a=void 0!==o&&o,l=b(b({},s.attributes),{},{class:s.classes.join(" ")});a&&(l[eN]="");var h=b({},s.styles);nc(i)&&(h.transform=nd({transform:i,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);var c=nh(h);c.length>0&&(l.style=c);var u=[];return u.push({tag:"span",attributes:l,children:[e]}),u}function rv(t){var e=t.content,n=t.extra,r=b(b({},n.attributes),{},{class:n.classes.join(" ")}),i=nh(n.styles);i.length>0&&(r.style=i);var s=[];return s.push({tag:"span",attributes:r,children:[e]}),s}var rb=nb.styles;function rx(t){var e=t[0],n=t[1],r=x(t.slice(4),1)[0],i=null;return{found:!0,width:e,height:n,icon:i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(e7.cssPrefix,"-").concat(e0.GROUP)},children:[{tag:"path",attributes:{class:"".concat(e7.cssPrefix,"-").concat(e0.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(e7.cssPrefix,"-").concat(e0.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var rw={found:!1,width:512,height:512};function rk(t,e){eV||e7.showMissingIcons}function rS(t,e){var n=e;return"fa"===e&&null!==e7.styleDefault&&(e=nG()),new Promise(function(r,i){if("fa"===n){var s=nU(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&rb[e]&&rb[e][t])return r(rx(rb[e][t]));rk(t,e),r(b(b({},rw),{},{icon:e7.showMissingIcons&&t&&rs("missingIconAbstract")||{}}))})}var rC=function(){},rM=e7.measurePerformance&&z&&z.mark&&z.measure?z:{mark:rC,measure:rC},rE='FA "7.1.0"',rA=function(t){rM.mark("".concat(rE," ").concat(t," ends")),rM.measure("".concat(rE," ").concat(t),"".concat(rE," ").concat(t," begins"),"".concat(rE," ").concat(t," ends"))},r_=function(t){return rM.mark("".concat(rE," ").concat(t," begins")),function(){return rA(t)}},rT=function(){};function rP(t){return"string"==typeof(t.getAttribute?t.getAttribute(eN):null)}function rD(t){var e=t.getAttribute?t.getAttribute(eL):null,n=t.getAttribute?t.getAttribute(ez):null;return e&&n}function rN(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(e7.replacementClass)}function rO(){return!0===e7.autoReplaceSvg?rF.replace:rF[e7.autoReplaceSvg]||rF.replace}function rI(t){return I.createElementNS("http://www.w3.org/2000/svg",t)}function rL(t){return I.createElement(t)}function rz(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ceFn,r=void 0===n?"svg"===t.tag?rI:rL:n;if("string"==typeof t)return I.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(e){i.setAttribute(e,t.attributes[e])}),(t.children||[]).forEach(function(t){i.appendChild(rz(t,{ceFn:r}))}),i}function rR(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}var rF={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(t){e.parentNode.insertBefore(rz(t),e)}),null===e.getAttribute(eN)&&e7.keepOriginalSource){var n=I.createComment(rR(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){var e=t[0],n=t[1];if(~no(e).indexOf(e7.replacementClass))return rF.replace(t);var r=new RegExp("".concat(e7.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(t,e){return e===e7.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}var s=n.map(function(t){return nC(t)}).join("\n");e.setAttribute(eN,""),e.innerHTML=s}};function rB(t){t()}function rj(t,e){var n="function"==typeof e?e:rT;if(0===t.length)n();else{var r=rB;e7.mutateApproach===eF&&(r=O.requestAnimationFrame||rB),r(function(){var e=rO(),r=r_("mutate");t.map(e),r(),n()})}}var rV=!1;function r$(){rV=!0}function rH(){rV=!1}var rq=null;function rW(t){if(L&&e7.observeMutations){var e=t.treeCallback,n=void 0===e?rT:e,r=t.nodeCallback,i=void 0===r?rT:r,s=t.pseudoElementsCallback,o=void 0===s?rT:s,a=t.observeMutationsRoot,l=void 0===a?I:a;rq=new L(function(t){if(!rV){var e=nG();ns(t).forEach(function(t){if("childList"===t.type&&t.addedNodes.length>0&&!rP(t.addedNodes[0])&&(e7.searchPseudoElements&&o(t.target),n(t.target)),"attributes"===t.type&&t.target.parentNode&&e7.searchPseudoElements&&o([t.target],!0),"attributes"===t.type&&rP(t.target)&&~eQ.indexOf(t.attributeName))if("class"===t.attributeName&&rD(t.target)){var r=n2(no(t.target)),s=r.prefix,a=r.iconName;t.target.setAttribute(eL,s||e),a&&t.target.setAttribute(ez,a)}else rN(t.target)&&i(t.target)})}}),R&&rq.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function rK(){rq&&rq.disconnect()}function rU(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(t,e){var n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t},{})),n}function rJ(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=n2(no(t));return i.prefix||(i.prefix=nG()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=nW(i.prefix,t.innerText)||nq(i.prefix,n_(t.innerText))),!i.iconName&&e7.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function rG(t){return ns(t.attributes).reduce(function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t},{})}function rY(){return{iconName:null,prefix:null,transform:ne,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function rX(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=rJ(t),r=n.iconName,i=n.prefix,s=n.rest,o=rG(t),a=rr("parseNodeAttributes",{},t);return b({iconName:r,prefix:i,transform:ne,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:e.styleParser?rU(t):[],attributes:o}},a)}var rZ=nb.styles;function rQ(t){var e="nest"===e7.autoReplaceSvg?rX(t,{styleParser:!1}):rX(t);return~e.extra.classes.indexOf(eX)?rs("generateLayersText",t,e):rs("generateSvgReplacementMutation",t,e)}function r0(){return[].concat(w(tP),w(ew))}function r1(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!R)return Promise.resolve();var n=I.documentElement.classList,r=function(t){return n.add("".concat(eR,"-").concat(t))},i=function(t){return n.remove("".concat(eR,"-").concat(t))},s=e7.autoFetchSvg?r0():H.concat(Object.keys(rZ));s.includes("fa")||s.push("fa");var o=[".".concat(eX,":not([").concat(eN,"])")].concat(s.map(function(t){return".".concat(t,":not([").concat(eN,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=ns(t.querySelectorAll(o))}catch(t){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var l=r_("onTree"),h=a.reduce(function(t,e){try{var n=rQ(e);n&&t.push(n)}catch(t){eV||t.name}return t},[]);return new Promise(function(t,n){Promise.all(h).then(function(n){rj(n,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),l(),t()})}).catch(function(t){l(),n(t)})})}function r2(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;rQ(t).then(function(t){t&&rj([t],e)})}function r3(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:ro(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:ro(i||{})),t(r,b(b({},n),{},{mask:i}))}}var r4=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?ne:n,i=e.symbol,s=void 0!==i&&i,o=e.mask,a=void 0===o?null:o,l=e.maskId,h=void 0===l?null:l,c=e.classes,u=void 0===c?[]:c,d=e.attributes,p=void 0===d?{}:d,f=e.styles,m=void 0===f?{}:f;if(t){var g=t.prefix,y=t.iconName,v=t.icon;return rd(b({type:"icon"},t),function(){return ri("beforeDOMElementCreation",{iconDefinition:t,params:e}),rg({icons:{main:rx(v),mask:a?rx(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:y,transform:b(b({},ne),r),symbol:s,maskId:h,extra:{attributes:p,styles:m,classes:u}})})}},r5={mixout:function(){return{icon:r3(r4)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=r1,t.nodeCallback=r2,t}}},provides:function(t){t.i2svg=function(t){var e=t.node,n=void 0===e?I:e,r=t.callback;return r1(n,void 0===r?function(){}:r)},t.generateSvgReplacementMutation=function(t,e){var n=e.iconName,r=e.prefix,i=e.transform,s=e.symbol,o=e.mask,a=e.maskId,l=e.extra;return new Promise(function(e,h){Promise.all([rS(n,r),o.iconName?rS(o.iconName,o.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(o){var h=x(o,2);e([t,rg({icons:{main:h[0],mask:h[1]},prefix:r,iconName:n,transform:i,symbol:s,maskId:a,extra:l,watchable:!0})])}).catch(h)})},t.generateAbstractIcon=function(t){var e,n=t.children,r=t.attributes,i=t.main,s=t.transform,o=nh(t.styles);return o.length>0&&(r.style=o),nc(s)&&(e=rs("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(e||i.icon),{children:n,attributes:r}}}},r6={mixout:function(){return{layer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.classes,r=void 0===n?[]:n;return rd({type:"layer"},function(){ri("beforeDOMElementCreation",{assembler:t,params:e});var n=[];return t(function(t){Array.isArray(t)?t.map(function(t){n=n.concat(t.abstract)}):n=n.concat(t.abstract)}),[{tag:"span",attributes:{class:["".concat(e7.cssPrefix,"-layers")].concat(w(r)).join(" ")},children:n}]})}}}},r7={mixout:function(){return{counter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.title,r=void 0===n?null:n,i=e.classes,s=void 0===i?[]:i,o=e.attributes,a=void 0===o?{}:o,l=e.styles,h=void 0===l?{}:l;return rd({type:"counter",content:t},function(){return ri("beforeDOMElementCreation",{content:t,params:e}),rv({content:t.toString(),title:r,extra:{attributes:a,styles:h,classes:["".concat(e7.cssPrefix,"-layers-counter")].concat(w(s))}})})}}}},r8={mixout:function(){return{text:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?ne:n,i=e.classes,s=void 0===i?[]:i,o=e.attributes,a=void 0===o?{}:o,l=e.styles,h=void 0===l?{}:l;return rd({type:"text",content:t},function(){return ri("beforeDOMElementCreation",{content:t,params:e}),ry({content:t,transform:b(b({},ne),r),extra:{attributes:a,styles:h,classes:["".concat(e7.cssPrefix,"-layers-text")].concat(w(s))}})})}}},provides:function(t){t.generateLayersText=function(t,e){var n=e.transform,r=e.extra,i=null,s=null;if(F){var o=parseInt(getComputedStyle(t).fontSize,10),a=t.getBoundingClientRect();i=a.width/o,s=a.height/o}return Promise.resolve([t,ry({content:t.innerHTML,width:i,height:s,transform:n,extra:r,watchable:!0})])}}},r9=RegExp('"',"ug"),it=[1105920,1112319],ie=b(b(b(b({},{FontAwesome:{normal:"fas",400:"fas"}}),tA),eA),tR),ir=Object.keys(ie).reduce(function(t,e){return t[e.toLowerCase()]=ie[e],t},{}),ii=Object.keys(ir).reduce(function(t,e){var n=ir[e];return t[e]=n[900]||w(Object.entries(n))[0][1],t},{});function is(t){return n_(w(t.replace(r9,""))[0]||"")}function io(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content").replace(r9,""),r=n.codePointAt(0),i=r>=it[0]&&r<=it[1],s=2===n.length&&n[0]===n[1];return i||s||e}function ia(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(ir[n]||{})[i]||ii[n]}function il(t,e){var n="".concat(eI).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var s=ns(t.children).filter(function(t){return t.getAttribute(eO)===e})[0],o=O.getComputedStyle(t,e),a=o.getPropertyValue("font-family"),l=a.match(eZ),h=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(s&&!l)return t.removeChild(s),r();if(l&&"none"!==c&&""!==c){var u=o.getPropertyValue("content"),d=ia(a,h),p=is(u),f=l[0].startsWith("FontAwesome"),m=io(o),g=nq(d,p),y=g;if(f){var v=nJ(p);v.iconName&&v.prefix&&(g=v.iconName,d=v.prefix)}if(!g||m||s&&s.getAttribute(eL)===d&&s.getAttribute(ez)===y)r();else{t.setAttribute(n,y),s&&t.removeChild(s);var x=rY(),w=x.extra;w.attributes[eO]=e,rS(g,d).then(function(i){var s=rg(b(b({},x),{},{icons:{main:i,mask:nY()},prefix:d,iconName:y,extra:w,watchable:!0})),o=I.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(o,t.firstChild):t.appendChild(o),o.outerHTML=s.map(function(t){return nC(t)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function ih(t){return Promise.all([il(t,"::before"),il(t,"::after")])}function ic(t){return t.parentNode!==document.head&&!~eB.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(eO)&&(!t.parentNode||"svg"!==t.parentNode.tagName)}var iu=function(t){return!!t&&ej.some(function(e){return t.includes(e)})},id=function(t){if(!t)return[];var e,n=new Set,r=t.split(/,(?![^()]*\))/).map(function(t){return t.trim()}),i=d(r=r.flatMap(function(t){return t.includes("(")?t:t.split(",").map(function(t){return t.trim()})}));try{for(i.s();!(e=i.n()).done;){var s=e.value;if(iu(s)){var o=ej.reduce(function(t,e){return t.replace(e,"")},s);""!==o&&"*"!==o&&n.add(o)}}}catch(t){i.e(t)}finally{i.f()}return n};function ip(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(R){if(e)n=t;else if(e7.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var n,r,i=new Set,s=d(document.styleSheets);try{for(s.s();!(r=s.n()).done;){var o=r.value;try{var a,l=d(o.cssRules);try{for(l.s();!(a=l.n()).done;){var h,c=a.value,u=id(c.selectorText),p=d(u);try{for(p.s();!(h=p.n()).done;){var f=h.value;i.add(f)}}catch(t){p.e(t)}finally{p.f()}}}catch(t){l.e(t)}finally{l.f()}}catch(t){e7.searchPseudoElementsWarnings}}}catch(t){s.e(t)}finally{s.f()}if(!i.size)return;var m=Array.from(i).join(", ");try{n=t.querySelectorAll(m)}catch(t){}}return new Promise(function(t,e){var r=ns(n).filter(ic).map(ih),i=r_("searchPseudoElements");r$(),Promise.all(r).then(function(){i(),rH(),t()}).catch(function(){i(),rH(),e()})})}}var im=!1,ig=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(isNaN(i=parseFloat(i)))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e)},iy={x:0,y:0,width:"100%",height:"100%"};function iv(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ib(t){return"g"===t.tag?t.children:[t]}rn([ny,r5,r6,r7,r8,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=ip,t}}},provides:function(t){t.pseudoElements2svg=function(t){var e=t.node,n=void 0===e?I:e;e7.searchPseudoElements&&ip(n)}}},{mixout:function(){return{dom:{unwatch:function(){r$(),im=!0}}}},hooks:function(){return{bootstrap:function(){rW(rr("mutationObserverCallbacks",{}))},noAuto:function(){rK()},watch:function(t){var e=t.observeMutationsRoot;im?rH():rW(rr("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},{mixout:function(){return{parse:{transform:function(t){return ig(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-transform");return n&&(t.transform=ig(n)),t}}},provides:function(t){t.generateAbstractTransformGrouping=function(t){var e=t.main,n=t.transform,r=t.containerWidth,i=t.iconWidth,s={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),h={transform:"".concat(o," ").concat(a," ").concat(l)},c={transform:"translate(".concat(-(i/2*1)," -256)")},u=h,d=c;return{tag:"g",attributes:b({},s),children:[{tag:"g",attributes:b({},u),children:[{tag:e.icon.tag,children:e.icon.children,attributes:b(b({},e.icon.attributes),d)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-mask"),r=n?n2(n.split(" ").map(function(t){return t.trim()})):nY();return r.prefix||(r.prefix=nG()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides:function(t){t.generateAbstractMask=function(t){var e=t.children,n=t.attributes,r=t.main,i=t.mask,s=t.maskId,o=t.transform,a=r.width,l=r.icon,h=i.width,c=i.icon,u=nu({transform:o,containerWidth:h,iconWidth:a}),d={tag:"rect",attributes:b(b({},iy),{},{fill:"white"})},p=l.children?{children:l.children.map(iv)}:{},f={tag:"g",attributes:b({},u.inner),children:[iv(b({tag:l.tag,attributes:b(b({},l.attributes),u.path)},p))]},m={tag:"g",attributes:b({},u.outer),children:[f]},g="mask-".concat(s||ni()),y="clip-".concat(s||ni()),v={tag:"mask",attributes:b(b({},iy),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:ib(c)},v]};return e.push(x,{tag:"rect",attributes:b({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},iy)}),{children:e,attributes:n}}}},{provides:function(t){var e=!1;O.matchMedia&&(e=O.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var t=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:b(b({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=b(b({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:b(b({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||s.children.push({tag:"animate",attributes:b(b({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:b(b({},i),{},{values:"1;0;1;1;0;1;"})}),t.push(s),t.push({tag:"path",attributes:b(b({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:b(b({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:b(b({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:b(b({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},{hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-symbol");return t.symbol=null!==n&&(""===n||n),t}}}}],{mixoutsTo:rc}),rc.noAuto;var ix=rc.config;rc.library,rc.dom;var iw=rc.parse;rc.findIconDefinition,rc.toHtml;var ik=rc.icon;function iS(t){return(t-=0)==t}function iC(t){return iS(t)?t:(t=t.replace(/[_-]+(.)?/g,(t,e)=>e?e.toUpperCase():"")).charAt(0).toLowerCase()+t.slice(1)}function iM(t){return t.charAt(0).toUpperCase()+t.slice(1)}rc.layer,rc.text,rc.counter,n(259);var iE=new Map,iA=1e3;function i_(t){if(iE.has(t))return iE.get(t);let e={},n=0,r=t.length;for(;n<r;){let i=t.indexOf(";",n),s=-1===i?r:i,o=t.slice(n,s).trim();if(o){let t=o.indexOf(":");if(t>0){let n=o.slice(0,t).trim(),r=o.slice(t+1).trim();if(n&&r){let t=iC(n);e[t.startsWith("webkit")?iM(t):t]=r}}}n=s+1}if(iE.size===iA){let t=iE.keys().next().value;t&&iE.delete(t)}return iE.set(t,e),e}function iT(t,e,n={}){if("string"==typeof e)return e;let r=(e.children||[]).map(e=>iT(t,e)),i=e.attributes||{},s={};for(let[t,e]of Object.entries(i))switch(!0){case"class"===t:s.className=e;break;case"style"===t:s.style=i_(String(e));break;case t.startsWith("aria-"):case t.startsWith("data-"):s[t.toLowerCase()]=e;break;default:s[iC(t)]=e}let{style:o,"aria-label":a,...l}=n;return o&&(s.style=s.style?{...s.style,...o}:o),a&&(s["aria-label"]=a,s["aria-hidden"]="false"),t(e.tag,{...l,...s},...r)}var iP=iT.bind(null,s.createElement),iD=(t,e)=>{let n=(0,s.useId)();return t||(e?n:void 0)},iN=class{constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e="undefined"!=typeof process&&!1}catch{}this.scope=t,this.enabled=e}log(){if(!this.enabled)return}warn(){if(!this.enabled)return}error(){if(!this.enabled)return}};"undefined"!=typeof process&&process.env.FA_VERSION;var iO=Number.parseInt("searchPseudoElementsFullScan"in ix?"7.0.0":"6.0.0")>=7,iI="fa",iL="fa-beat",iz="fa-fade",iR="fa-beat-fade",iF="fa-bounce",iB="fa-shake",ij="fa-spin",iV="fa-spin-pulse",i$="fa-spin-reverse",iH="fa-pulse",iq={left:"fa-pull-left",right:"fa-pull-right"},iW={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},iK={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},iU="fa-border",iJ="fa-fw",iG="fa-flip",iY="fa-flip-horizontal",iX="fa-flip-vertical",iZ="fa-inverse",iQ="fa-rotate-by",i0="fa-swap-opacity",i1="fa-width-auto";function i2(t){let e=ix.cssPrefix||ix.familyPrefix||iI;return e===iI?t:t.replace(RegExp(`(?<=^|\\s)${iI}-`,"g"),`${e}-`)}function i3(t){let{beat:e,fade:n,beatFade:r,bounce:i,shake:s,spin:o,spinPulse:a,spinReverse:l,pulse:h,fixedWidth:c,inverse:u,border:d,flip:p,size:f,rotation:m,pull:g,swapOpacity:y,rotateBy:v,widthAuto:b,className:x}=t,w=[];return(x&&w.push(...x.split(" ")),e&&w.push(iL),n&&w.push(iz),r&&w.push(iR),i&&w.push(iF),s&&w.push(iB),o&&w.push(ij),l&&w.push(i$),a&&w.push(iV),h&&w.push(iH),c&&w.push(iJ),u&&w.push(iZ),d&&w.push(iU),!0===p&&w.push(iG),("horizontal"===p||"both"===p)&&w.push(iY),("vertical"===p||"both"===p)&&w.push(iX),null!=f&&w.push(iK[f]),null!=m&&0!==m&&w.push(iW[m]),null!=g&&w.push(iq[g]),y&&w.push(i0),iO)?(v&&w.push(iQ),b&&w.push(i1),(ix.cssPrefix||ix.familyPrefix||iI)===iI?w:w.map(i2)):w}var i4=t=>"object"==typeof t&&"icon"in t&&!!t.icon;function i5(t){if(t)return i4(t)?t:iw.icon(t)}function i6(t){return Object.keys(t)}var i7=new iN("FontAwesomeIcon"),i8={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},i9=new Set(Object.keys(i8)),st=s.forwardRef((t,e)=>{let n={...i8,...t},{icon:r,mask:i,symbol:s,title:o,titleId:a,maskId:l,transform:h}=n,c=iD(l,!!i),u=iD(a,!!o),d=i5(r);if(!d)return i7.error("Icon lookup is undefined",r),null;let p=i3(n),f="string"==typeof h?iw.transform(h):h,m=i5(i),g=ik(d,{...p.length>0&&{classes:p},...f&&{transform:f},...m&&{mask:m},symbol:s,title:o,titleId:u,maskId:c});if(!g)return i7.error("Could not find icon",d),null;let{abstract:y}=g,v={ref:e};for(let t of i6(n))i9.has(t)||(v[t]=n[t]);return iP(y[0],v)});st.displayName="FontAwesomeIcon"},389:function(t,e,n){"use strict";n.d(e,{J_:()=>eV,fl:()=>eI,Nx:()=>ei,Pg:()=>th,CU:()=>nv,Op:()=>eq,KV:()=>em,jT:()=>nq,JJ:()=>nW,YY:()=>nA,QN:()=>ej,Dd:()=>n3,hO:()=>eO,AB:()=>nG,gu:()=>eT,gk:()=>eu,KE:()=>n$,Zc:()=>n7,bP:()=>n6,tG:()=>nK,Nz:()=>nJ,BQ:()=>eW,OX:()=>nH,T7:()=>en,kj:()=>n4,iI:()=>ea,rU:()=>tJ,FF:()=>eN});var r=n(334),i=n(777),s=n(366);let o=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function a(t,e){let{$cursor:n}=t.selection;return n&&(e?e.endOfTextblock("backward",t):!(n.parentOffset>0))?n:null}let l=(t,e,n)=>{let o=a(t,n);if(!o)return!1;let l=f(o);if(!l){let n=o.blockRange(),i=n&&(0,r.jP)(n);return null!=i&&(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)}let h=l.nodeBefore;if(D(t,l,e,-1))return!0;if(0==o.parent.content.size&&(d(h,"end")||s.nh.isSelectable(h)))for(let n=o.depth;;n--){let a=(0,r.$L)(t.doc,o.before(n),o.after(n),i.Ji.empty);if(a&&a.slice.size<a.to-a.from){if(e){let n=t.tr.step(a);n.setSelection(d(h,"end")?s.LN.findFrom(n.doc.resolve(n.mapping.map(l.pos,-1)),-1):s.nh.create(n.doc,l.pos-h.nodeSize)),e(n.scrollIntoView())}return!0}if(1==n||o.node(n-1).childCount>1)break}return!!h.isAtom&&l.depth==o.depth-1&&(e&&e(t.tr.delete(l.pos-h.nodeSize,l.pos).scrollIntoView()),!0)},h=(t,e,n)=>{let r=a(t,n);if(!r)return!1;let i=f(r);return!!i&&u(t,i,e)},c=(t,e,n)=>{let r=m(t,n);if(!r)return!1;let i=v(r);return!!i&&u(t,i,e)};function u(t,e,n){let o=e.nodeBefore,a=e.pos-1;for(;!o.isTextblock;a--){if(o.type.spec.isolating)return!1;let t=o.lastChild;if(!t)return!1;o=t}let l=e.nodeAfter,h=e.pos+1;for(;!l.isTextblock;h++){if(l.type.spec.isolating)return!1;let t=l.firstChild;if(!t)return!1;l=t}let c=(0,r.$L)(t.doc,a,h,i.Ji.empty);if(!c||c.from!=a||c instanceof r.Ln&&c.slice.size>=h-a)return!1;if(n){let e=t.tr.step(c);e.setSelection(s.U3.create(e.doc,a)),n(e.scrollIntoView())}return!0}function d(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)break}return!1}let p=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=f(r)}let a=o&&o.nodeBefore;return!!a&&!!s.nh.isSelectable(a)&&(e&&e(t.tr.setSelection(s.nh.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function f(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function m(t,e){let{$cursor:n}=t.selection;return n&&(e?e.endOfTextblock("forward",t):!(n.parentOffset<n.parent.content.size))?n:null}let g=(t,e,n)=>{let o=m(t,n);if(!o)return!1;let a=v(o);if(!a)return!1;let l=a.nodeAfter;if(D(t,a,e,1))return!0;if(0==o.parent.content.size&&(d(l,"start")||s.nh.isSelectable(l))){let n=(0,r.$L)(t.doc,o.before(),o.after(),i.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(d(l,"start")?s.LN.findFrom(r.doc.resolve(r.mapping.map(a.pos)),1):s.nh.create(r.doc,r.mapping.map(a.pos))),e(r.scrollIntoView())}return!0}}return!!l.isAtom&&a.depth==o.depth-1&&(e&&e(t.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0)},y=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=v(r)}let a=o&&o.nodeAfter;return!!a&&!!s.nh.isSelectable(a)&&(e&&e(t.tr.setSelection(s.nh.create(t.doc,o.pos)).scrollIntoView()),!0)};function v(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}let b=(t,e)=>{let n=t.selection,i=n instanceof s.nh,o;if(i){if(n.node.isTextblock||!(0,r.n9)(t.doc,n.from))return!1;o=n.from}else if(null==(o=(0,r.N0)(t.doc,n.from,-1)))return!1;if(e){let n=t.tr.join(o);i&&n.setSelection(s.nh.create(n.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(n.scrollIntoView())}return!0},x=(t,e)=>{let n=t.selection,i;if(n instanceof s.nh){if(n.node.isTextblock||!(0,r.n9)(t.doc,n.to))return!1;i=n.to}else if(null==(i=(0,r.N0)(t.doc,n.to,1)))return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},w=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),o=s&&(0,r.jP)(s);return null!=o&&(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},k=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!!n.parent.type.spec.code&&!!n.sameParent(r)&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)};function S(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}let C=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=S(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let r=n.after(),i=t.tr.replaceWith(r,r,a.createAndFill());i.setSelection(s.LN.near(i.doc.resolve(r),1)),e(i.scrollIntoView())}return!0},M=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof s.i5||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=S(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(n,o.createAndFill());a.setSelection(s.U3.create(a.doc,n+1)),e(a.scrollIntoView())}return!0},E=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if((0,r.zy)(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),s=i&&(0,r.jP)(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},A=function(t){return(t,e)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof s.nh&&t.selection.node.isBlock)return!!n.parentOffset&&!!(0,r.zy)(t.doc,n.pos)&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],a,l,h=!1,c=!1;for(let t=n.depth;;t--){if(n.node(t).isBlock){h=n.end(t)==n.pos+(n.depth-t),c=n.start(t)==n.pos-(n.depth-t),l=S(n.node(t-1).contentMatchAt(n.indexAfter(t-1)));let e=void 0;o.unshift(e||(h&&l?{type:l}:null)),a=t;break}if(1==t)return!1;o.unshift(null)}let u=t.tr;(t.selection instanceof s.U3||t.selection instanceof s.i5)&&u.deleteSelection();let d=u.mapping.map(n.pos),p=(0,r.zy)(u.doc,d,o.length,o);if(p||(o[0]=l?{type:l}:null,p=(0,r.zy)(u.doc,d,o.length,o)),!p)return!1;if(u.split(d,o.length,o),!h&&c&&n.node(a).type!=l){let t=u.mapping.map(n.before(a)),e=u.doc.resolve(t);l&&n.node(a-1).canReplaceWith(e.index(),e.index()+1,l)&&u.setNodeMarkup(u.mapping.map(n.before(a)),l)}return e&&e(u.scrollIntoView()),!0}}(),_=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return 0!=o&&(i=n.before(o),e&&e(t.tr.setSelection(s.nh.create(t.doc,i))),!0)},T=(t,e)=>(e&&e(t.tr.setSelection(new s.i5(t.doc))),!0);function P(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,o=e.index();return!!i&&!!s&&!!i.type.compatibleContent(s.type)&&(!i.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!!e.parent.canReplace(o,o+1)&&!!(s.isTextblock||(0,r.n9)(t.doc,e.pos))&&(n&&n(t.tr.join(e.pos).scrollIntoView()),!0))}function D(t,e,n,o){let a=e.nodeBefore,l=e.nodeAfter,h,c,u=a.type.spec.isolating||l.type.spec.isolating;if(!u&&P(t,e,n))return!0;let p=!u&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(h=(c=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&c.matchType(h[0]||l.type).validEnd){if(n){let s=e.pos+l.nodeSize,o=i.FK.empty;for(let t=h.length-1;t>=0;t--)o=i.FK.from(h[t].create(null,o));o=i.FK.from(a.copy(o));let c=t.tr.step(new r.Wg(e.pos-1,s,e.pos,s,new i.Ji(o,1,0),h.length,!0)),u=c.doc.resolve(s+2*h.length);u.nodeAfter&&u.nodeAfter.type==a.type&&(0,r.n9)(c.doc,u.pos)&&c.join(u.pos),n(c.scrollIntoView())}return!0}let f=l.type.spec.isolating||o>0&&u?null:s.LN.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),g=m&&(0,r.jP)(m);if(null!=g&&g>=e.depth)return n&&n(t.tr.lift(m,g).scrollIntoView()),!0;if(p&&d(l,"start",!0)&&d(a,"end")){let s=a,o=[];for(;o.push(s),!s.isTextblock;)s=s.lastChild;let h=l,c=1;for(;!h.isTextblock;h=h.firstChild)c++;if(s.canReplace(s.childCount,s.childCount,h.content)){if(n){let s=i.FK.empty;for(let t=o.length-1;t>=0;t--)s=i.FK.from(o[t].copy(s));n(t.tr.step(new r.Wg(e.pos-o.length,e.pos+l.nodeSize,e.pos+c,e.pos+l.nodeSize-c,new i.Ji(s,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function N(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(e.tr.setSelection(s.U3.create(e.doc,t<0?i.start(o):i.end(o)))),!0)}}let O=N(-1),I=N(1);function L(t,e=null){return function(n,i){let{$from:s,$to:o}=n.selection,a=s.blockRange(o),l=a&&(0,r.oM)(a,t,e);return!!l&&(i&&i(n.tr.wrap(a,l).scrollIntoView()),!0)}}function z(t,e=null){return function(n,r){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:s},$to:{pos:o}}=n.selection.ranges[r];n.doc.nodesBetween(s,o,(r,s)=>{if(i)return!1;if(!(!r.isTextblock||r.hasMarkup(t,e)))if(r.type==t)i=!0;else{let e=n.doc.resolve(s),r=e.index();i=e.parent.canReplaceWith(r,r+1,t)}})}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:s},$to:{pos:o}}=n.selection.ranges[r];i.setBlockType(s,o,t,e)}r(i.scrollIntoView())}return!0}}function R(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let F=R(o,l,p),B=R(o,g,y),j={Enter:R(k,M,E,A),"Mod-Enter":C,Backspace:F,"Mod-Backspace":F,"Shift-Backspace":F,Delete:B,"Mod-Delete":B,"Mod-a":T},V={"Ctrl-h":j.Backspace,"Alt-Backspace":j["Mod-Backspace"],"Ctrl-d":j.Delete,"Ctrl-Alt-Backspace":j["Mod-Delete"],"Alt-Delete":j["Mod-Delete"],"Alt-d":j["Mod-Delete"],"Ctrl-a":O,"Ctrl-e":I};for(let t in j)V[t]=j[t];function $(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return!!H(a,o,t,e)&&(r&&r(a.scrollIntoView()),!0)}}function H(t,e,n,s=null){let o=!1,a=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&0==e.startIndex){if(0==e.$from.index(e.depth-1))return!1;let t=l.resolve(e.start-2);a=new i.u$(t,t,e.depth),e.endIndex<e.parent.childCount&&(e=new i.u$(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let h=(0,r.oM)(a,n,s,e);return!!h&&(t&&q(t,e,h,o,n),!0)}function q(t,e,n,s,o){let a=i.FK.empty;for(let t=n.length-1;t>=0;t--)a=i.FK.from(n[t].type.create(n[t].attrs,a));t.step(new r.Wg(e.start-2*!!s,e.end,e.start,e.end,new i.Ji(a,0,0),n.length,!0));let l=0;for(let t=0;t<n.length;t++)n[t].type==o&&(l=t+1);let h=n.length-l,c=e.start+n.length-2*!!s,u=e.parent;for(let n=e.startIndex,i=e.endIndex,s=!0;n<i;n++,s=!1)!s&&(0,r.zy)(t.doc,c,h)&&(t.split(c,h),c+=2*h),c+=u.child(n).nodeSize;return t}function W(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,e=>e.childCount>0&&e.firstChild.type==t);return!!s&&(!n||(r.node(s.depth-1).type==t?K(e,n,t,s):U(e,n,s)))}}function K(t,e,n,s){let o=t.tr,a=s.end,l=s.$to.end(s.depth);a<l&&(o.step(new r.Wg(a-1,l,a,l,new i.Ji(i.FK.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new i.u$(o.doc.resolve(s.$from.pos),o.doc.resolve(l),s.depth));let h=(0,r.jP)(s);if(null==h)return!1;o.lift(s,h);let c=o.doc.resolve(o.mapping.map(a,-1)-1);return(0,r.n9)(o.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&o.join(c.pos),e(o.scrollIntoView()),!0}function U(t,e,n){let s=t.tr,o=n.parent;for(let t=n.end,e=n.endIndex-1,r=n.startIndex;e>r;e--)t-=o.child(e).nodeSize,s.delete(t-1,t+1);let a=s.doc.resolve(n.start),l=a.nodeAfter;if(s.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let h=0==n.startIndex,c=n.endIndex==o.childCount,u=a.node(-1),d=a.index(-1);if(!u.canReplace(d+ +!h,d+1,l.content.append(c?i.FK.empty:i.FK.from(o))))return!1;let p=a.pos,f=p+l.nodeSize;return s.step(new r.Wg(p-!!h,f+ +!!c,p+1,f-1,new i.Ji((h?i.FK.empty:i.FK.from(o.copy(i.FK.empty))).append(c?i.FK.empty:i.FK.from(o.copy(i.FK.empty))),+!h,+!c),+!h)),e(s.scrollIntoView()),!0}function J(t){return function(e,n){let{$from:s,$to:o}=e.selection,a=s.blockRange(o,e=>e.childCount>0&&e.firstChild.type==t);if(!a)return!1;let l=a.startIndex;if(0==l)return!1;let h=a.parent,c=h.child(l-1);if(c.type!=t)return!1;if(n){let s=c.lastChild&&c.lastChild.type==h.type,o=i.FK.from(s?t.create():null),l=new i.Ji(i.FK.from(t.create(null,i.FK.from(h.type.create(null,o)))),s?3:1,0),u=a.start,d=a.end;n(e.tr.step(new r.Wg(u-(s?3:1),d,u,d,l,1,!0)).scrollIntoView())}return!0}}"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();var G=n(679),Y=n(356),X=Object.defineProperty,Z=(t,e)=>{for(var n in e)X(t,n,{get:e[n],enumerable:!0})};function Q(t){let{state:e,transaction:n}=t,{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var tt=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,(...t)=>{let n=e(...t)(s);return i.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(i),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){let{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!t,l=t||i.tr,h=()=>(a||!e||l.getMeta("preventDispatch")||this.hasCustomState||s.dispatch(l),o.every(t=>!0===t)),c={...Object.fromEntries(Object.entries(n).map(([t,n])=>[t,(...t)=>{let r=this.buildProps(l,e),i=n(...t)(r);return o.push(i),c}])),run:h};return c}createCan(t){let{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([t,e])=>[t,(...t)=>e(...t)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){let{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:Q({state:i,transaction:t}),dispatch:e?()=>void 0:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([t,e])=>[t,(...t)=>e(...t)(o)]))}};return o}},te={};Z(te,{blur:()=>tn,clearContent:()=>tr,clearNodes:()=>ti,command:()=>ts,createParagraphNear:()=>to,cut:()=>ta,deleteCurrentNode:()=>tl,deleteNode:()=>tc,deleteRange:()=>tu,deleteSelection:()=>td,enter:()=>tp,exitCode:()=>tf,extendMarkRange:()=>tw,first:()=>tk,focus:()=>t_,forEach:()=>tT,insertContent:()=>tP,insertContentAt:()=>tz,joinBackward:()=>tB,joinDown:()=>tF,joinForward:()=>tj,joinItemBackward:()=>tV,joinItemForward:()=>t$,joinTextblockBackward:()=>tH,joinTextblockForward:()=>tq,joinUp:()=>tR,keyboardShortcut:()=>tU,lift:()=>tG,liftEmptyBlock:()=>tY,liftListItem:()=>tX,newlineInCode:()=>tZ,resetAttributes:()=>t1,scrollIntoView:()=>t2,selectAll:()=>t3,selectNodeBackward:()=>t4,selectNodeForward:()=>t5,selectParentNode:()=>t6,selectTextblockEnd:()=>t7,selectTextblockStart:()=>t8,setContent:()=>et,setMark:()=>eY,setMeta:()=>eX,setNode:()=>eZ,setNodeSelection:()=>eQ,setTextDirection:()=>e0,setTextSelection:()=>e1,sinkListItem:()=>e2,splitBlock:()=>e4,splitListItem:()=>e5,toggleList:()=>e8,toggleMark:()=>e9,toggleNode:()=>nt,toggleWrap:()=>ne,undoInputRule:()=>nn,unsetAllMarks:()=>nr,unsetMark:()=>ni,unsetTextDirection:()=>ns,updateAttributes:()=>no,wrapIn:()=>na,wrapInList:()=>nl});var tn=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges())}),!0),tr=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),ti=()=>({state:t,tr:e,dispatch:n})=>{let{selection:i}=e,{ranges:s}=i;return!n||(s.forEach(({$from:n,$to:i})=>{t.doc.nodesBetween(n.pos,i.pos,(t,n)=>{if(t.type.isText)return;let{doc:i,mapping:s}=e,o=i.resolve(s.map(n)),a=i.resolve(s.map(n+t.nodeSize)),l=o.blockRange(a);if(!l)return;let h=(0,r.jP)(l);if(t.type.isTextblock){let{defaultType:t}=o.parent.contentMatchAt(o.index());e.setNodeMarkup(l.start,t)}(h||0===h)&&e.lift(l,h)})}),!0)},ts=t=>e=>t(e),to=()=>({state:t,dispatch:e})=>M(t,e),ta=(t,e)=>({editor:n,tr:r})=>{let{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);let a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new s.U3(r.doc.resolve(Math.max(a-1,0)))),!0},tl=()=>({tr:t,dispatch:e})=>{let{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;let i=t.selection.$anchor;for(let n=i.depth;n>0;n-=1)if(i.node(n).type===r.type){if(e){let e=i.before(n),r=i.after(n);t.delete(e,r).scrollIntoView()}return!0}return!1};function th(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var tc=t=>({tr:e,state:n,dispatch:r})=>{let i=th(t,n.schema),s=e.selection.$anchor;for(let t=s.depth;t>0;t-=1)if(s.node(t).type===i){if(r){let n=s.before(t),r=s.after(t);e.delete(n,r).scrollIntoView()}return!0}return!1},tu=t=>({tr:e,dispatch:n})=>{let{from:r,to:i}=t;return n&&e.delete(r,i),!0},td=()=>({state:t,dispatch:e})=>o(t,e),tp=()=>({commands:t})=>t.keyboardShortcut("Enter"),tf=()=>({state:t,dispatch:e})=>C(t,e);function tm(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function tg(t,e,n={strict:!0}){let r=Object.keys(e);return!r.length||r.every(r=>n.strict?e[r]===t[r]:tm(e[r])?e[r].test(t[r]):e[r]===t[r])}function ty(t,e,n={}){return t.find(t=>t.type===e&&tg(Object.fromEntries(Object.keys(n).map(e=>[e,t.attrs[e]])),n))}function tv(t,e,n={}){return!!ty(t,e,n)}function tb(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if(i.node&&i.node.marks.some(t=>t.type===e)||(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(t=>t.type===e)||(n=n||(null==(r=i.node.marks[0])?void 0:r.attrs),!ty([...i.node.marks],e,n)))return;let s=i.index,o=t.start()+i.offset,a=s+1,l=o+i.node.nodeSize;for(;s>0&&tv([...t.parent.child(s-1).marks],e,n);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&tv([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function tx(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var tw=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=tx(t,r.schema),{doc:a,selection:l}=n,{$from:h,from:c,to:u}=l;if(i){let t=tb(h,o,e);if(t&&t.from<=c&&t.to>=u){let e=s.U3.create(a,t.from,t.to);n.setSelection(e)}}return!0},tk=t=>e=>{let n="function"==typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1};function tS(t){return t instanceof s.U3}function tC(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function tM(t,e=null){if(!e)return null;let n=s.LN.atStart(t),r=s.LN.atEnd(t);if("start"===e||!0===e)return n;if("end"===e)return r;let i=n.from,o=r.to;return"all"===e?s.U3.create(t,tC(0,i,o),tC(t.content.size,i,o)):s.U3.create(t,tC(e,i,o),tC(e,i,o))}function tE(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function tA(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var t_=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};let o=()=>{(tA()||tE())&&r.dom.focus(),requestAnimationFrame(()=>{!n.isDestroyed&&(r.focus(),(null==e?void 0:e.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&null===t||!1===t)return!0;if(s&&null===t&&!tS(n.state.selection))return o(),!0;let a=tM(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},tT=(t,e)=>n=>t.every((t,r)=>e(t,{...n,index:r})),tP=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),tD=t=>{let e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){let r=e[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):1===r.nodeType&&tD(r)}return t};function tN(t){if("undefined"==typeof window)throw Error("[tiptap error]: there is no window object available, so this function cannot be used");let e=`<body>${t}</body>`;return tD(new window.DOMParser().parseFromString(e,"text/html").body)}function tO(t,e,n){if(t instanceof i.bP||t instanceof i.FK)return t;n={slice:!0,parseOptions:{},...n};let r="object"==typeof t&&null!==t,s="string"==typeof t;if(r)try{if(Array.isArray(t)&&t.length>0)return i.FK.fromArray(t.map(t=>e.nodeFromJSON(t)));let r=e.nodeFromJSON(t);return n.errorOnInvalidContent&&r.check(),r}catch(t){if(n.errorOnInvalidContent)throw Error("[tiptap error]: Invalid JSON content",{cause:t});return tO("",e,n)}if(s){if(n.errorOnInvalidContent){let r=!1,s="",o=new i.Sj({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:t=>(r=!0,s="string"==typeof t?t:t.outerHTML,null)}]}})});if(n.slice?i.S4.fromSchema(o).parseSlice(tN(t),n.parseOptions):i.S4.fromSchema(o).parse(tN(t),n.parseOptions),n.errorOnInvalidContent&&r)throw Error("[tiptap error]: Invalid HTML content",{cause:Error(`Invalid element found: ${s}`)})}let r=i.S4.fromSchema(e);return n.slice?r.parseSlice(tN(t),n.parseOptions).content:r.parse(tN(t),n.parseOptions)}return tO("",e,n)}function tI(t,e,n){let i=t.steps.length-1;if(i<e)return;let o=t.steps[i];if(!(o instanceof r.Ln||o instanceof r.Wg))return;let a=t.mapping.maps[i],l=0;a.forEach((t,e,n,r)=>{0===l&&(l=r)}),t.setSelection(s.LN.near(t.doc.resolve(l),n))}var tL=t=>!("type"in t),tz=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{var a;if(s){let s,l;n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let h=t=>{o.emit("contentError",{editor:o,error:t,disableCollaboration:()=>{"collaboration"in o.storage&&"object"==typeof o.storage.collaboration&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{tO(e,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(t){h(t)}try{s=tO(e,o.schema,{parseOptions:c,errorOnInvalidContent:null!=(a=n.errorOnInvalidContent)?a:o.options.enableContentCheck})}catch(t){return h(t),!1}let{from:u,to:d}="number"==typeof t?{from:t,to:t}:{from:t.from,to:t.to},p=!0,f=!0;if((tL(s)?s:[s]).forEach(t=>{t.check(),p=!!p&&t.isText&&0===t.marks.length,f=!!f&&t.isBlock}),u===d&&f){let{parent:t}=r.doc.resolve(u);!t.isTextblock||t.type.spec.code||t.childCount||(u-=1,d+=1)}if(p){if(Array.isArray(e))l=e.map(t=>t.text||"").join("");else if(e instanceof i.FK){let t="";e.forEach(e=>{e.text&&(t+=e.text)}),l=t}else l="object"==typeof e&&e&&e.text?e.text:e;r.insertText(l,u,d)}else{l=s;let t=r.doc.resolve(u),e=t.node(),n=0===t.parentOffset,i=e.isText||e.isTextblock,o=e.content.size>0;n&&i&&o&&(u=Math.max(0,u-1)),r.replaceWith(u,d,l)}n.updateSelection&&tI(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:l}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:l})}return!0},tR=()=>({state:t,dispatch:e})=>b(t,e),tF=()=>({state:t,dispatch:e})=>x(t,e),tB=()=>({state:t,dispatch:e})=>l(t,e),tj=()=>({state:t,dispatch:e})=>g(t,e),tV=()=>({state:t,dispatch:e,tr:n})=>{try{let i=(0,r.N0)(t.doc,t.selection.$from.pos,-1);if(null==i)return!1;return n.join(i,2),e&&e(n),!0}catch{return!1}},t$=()=>({state:t,dispatch:e,tr:n})=>{try{let i=(0,r.N0)(t.doc,t.selection.$from.pos,1);if(null==i)return!1;return n.join(i,2),e&&e(n),!0}catch{return!1}},tH=()=>({state:t,dispatch:e})=>h(t,e),tq=()=>({state:t,dispatch:e})=>c(t,e);function tW(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function tK(t){let e,n,r,i,s=t.split(/-(?!$)/),o=s[s.length-1];"Space"===o&&(o=" ");for(let t=0;t<s.length-1;t+=1){let o=s[t];if(/^(cmd|meta|m)$/i.test(o))i=!0;else if(/^a(lt)?$/i.test(o))e=!0;else if(/^(c|ctrl|control)$/i.test(o))n=!0;else if(/^s(hift)?$/i.test(o))r=!0;else if(/^mod$/i.test(o))tA()||tW()?i=!0:n=!0;else throw Error(`Unrecognized modifier name: ${o}`)}return e&&(o=`Alt-${o}`),n&&(o=`Ctrl-${o}`),i&&(o=`Meta-${o}`),r&&(o=`Shift-${o}`),o}var tU=t=>({editor:e,view:n,tr:r,dispatch:i})=>{let s=tK(t).split(/-(?!$)/),o=s.find(t=>!["Alt","Ctrl","Meta","Shift"].includes(t)),a=new KeyboardEvent("keydown",{key:"Space"===o?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",t=>t(n,a))});return null==l||l.steps.forEach(t=>{let e=t.map(r.mapping);e&&i&&r.maybeStep(e)}),!0};function tJ(t,e,n={}){let{from:r,to:i,empty:s}=t.selection,o=e?th(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(t,e)=>{if(t.isText)return;let n=Math.max(r,e),s=Math.min(i,e+t.nodeSize);a.push({node:t,from:n,to:s})});let l=i-r,h=a.filter(t=>!o||o.name===t.node.type.name).filter(t=>tg(t.node.attrs,n,{strict:!1}));return s?!!h.length:h.reduce((t,e)=>t+e.to-e.from,0)>=l}var tG=(t,e={})=>({state:n,dispatch:r})=>{let i=th(t,n.schema);return!!tJ(n,i,e)&&w(n,r)},tY=()=>({state:t,dispatch:e})=>E(t,e),tX=t=>({state:e,dispatch:n})=>W(th(t,e.schema))(e,n),tZ=()=>({state:t,dispatch:e})=>k(t,e);function tQ(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function t0(t,e){let n="string"==typeof e?[e]:e;return Object.keys(t).reduce((e,r)=>(n.includes(r)||(e[r]=t[r]),e),{})}var t1=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null,a=tQ("string"==typeof t?t:t.name,r.schema);if(!a)return!1;"node"===a&&(s=th(t,r.schema)),"mark"===a&&(o=tx(t,r.schema));let l=!1;return n.selection.ranges.forEach(t=>{r.doc.nodesBetween(t.$from.pos,t.$to.pos,(t,r)=>{s&&s===t.type&&(l=!0,i&&n.setNodeMarkup(r,void 0,t0(t.attrs,e))),o&&t.marks.length&&t.marks.forEach(s=>{o===s.type&&(l=!0,i&&n.addMark(r,r+t.nodeSize,o.create(t0(s.attrs,e))))})})}),l},t2=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),t3=()=>({tr:t,dispatch:e})=>{if(e){let e=new s.i5(t.doc);t.setSelection(e)}return!0},t4=()=>({state:t,dispatch:e})=>p(t,e),t5=()=>({state:t,dispatch:e})=>y(t,e),t6=()=>({state:t,dispatch:e})=>_(t,e),t7=()=>({state:t,dispatch:e})=>I(t,e),t8=()=>({state:t,dispatch:e})=>O(t,e);function t9(t,e,n={},r={}){return tO(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var et=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{let{doc:l}=s;if("full"!==r.preserveWhitespace){let a=t9(t,i.schema,r,{errorOnInvalidContent:null!=e?e:i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,a).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:null!=e?e:i.options.enableContentCheck})};function ee(t,e){let n=tx(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,t=>{o.push(...t.marks)});let a=o.find(t=>t.type.name===n.name);return a?{...a.attrs}:{}}function en(t,e){let n=new r.dL(t);return e.forEach(t=>{t.steps.forEach(t=>{n.step(t)})}),n}function er(t){for(let e=0;e<t.edgeCount;e+=1){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ei(t,e,n){let r=[];return t.nodesBetween(e.from,e.to,(t,e)=>{n(t)&&r.push({node:t,pos:e})}),r}function es(t,e){for(let n=t.depth;n>0;n-=1){let r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function eo(t){return e=>es(e.$from,t)}function ea(t,e,n){return void 0===t.config[e]&&t.parent?ea(t.parent,e,n):"function"==typeof t.config[e]?t.config[e].bind({...n,parent:t.parent?ea(t.parent,e,n):null}):t.config[e]}function el(t){return t.map(t=>{let e={name:t.name,options:t.options,storage:t.storage},n=ea(t,"addExtensions",e);return n?[t,...el(n())]:t}).flat(10)}function eh(t,e){let n=i.ZF.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function ec(t){return"function"==typeof t}function eu(t,e,...n){return ec(t)?e?t.bind(e)(...n):t(...n):t}function ed(t={}){return 0===Object.keys(t).length&&t.constructor===Object}function ep(t){let e=t.filter(t=>"extension"===t.type);return{baseExtensions:e,nodeExtensions:t.filter(t=>"node"===t.type),markExtensions:t.filter(t=>"mark"===t.type)}}function ef(t){let e=[],{nodeExtensions:n,markExtensions:r}=ep(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(t=>{let n={name:t.name,options:t.options,storage:t.storage,extensions:i},r=ea(t,"addGlobalAttributes",n);r&&r().forEach(t=>{t.types.forEach(n=>{Object.entries(t.attributes).forEach(([t,r])=>{e.push({type:n,name:t,attribute:{...s,...r}})})})})}),i.forEach(t=>{let n={name:t.name,options:t.options,storage:t.storage},r=ea(t,"addAttributes",n);r&&Object.entries(r()).forEach(([n,r])=>{let i={...s,...r};"function"==typeof(null==i?void 0:i.default)&&(i.default=i.default()),(null==i?void 0:i.isRequired)&&(null==i?void 0:i.default)===void 0&&delete i.default,e.push({type:t.name,name:n,attribute:i})})}),e}function em(...t){return t.filter(t=>!!t).reduce((t,e)=>{let n={...t};return Object.entries(e).forEach(([t,e])=>{if(!n[t]){n[t]=e;return}if("class"===t){let r=e?String(e).split(" "):[],i=n[t]?n[t].split(" "):[],s=r.filter(t=>!i.includes(t));n[t]=[...i,...s].join(" ")}else if("style"===t){let r=e?e.split(";").map(t=>t.trim()).filter(Boolean):[],i=n[t]?n[t].split(";").map(t=>t.trim()).filter(Boolean):[],s=new Map;i.forEach(t=>{let[e,n]=t.split(":").map(t=>t.trim());s.set(e,n)}),r.forEach(t=>{let[e,n]=t.split(":").map(t=>t.trim());s.set(e,n)}),n[t]=Array.from(s.entries()).map(([t,e])=>`${t}: ${e}`).join("; ")}else n[t]=e}),n},{})}function eg(t,e){return e.filter(e=>e.type===t.type.name).filter(t=>t.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]}).reduce((t,e)=>em(t,e),{})}function ey(t){return"string"!=typeof t?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):"true"===t||"false"!==t&&t}function ev(t,e){return"style"in t?t:{...t,getAttrs:n=>{let r=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===r)return!1;let i=e.reduce((t,e)=>{let r=e.attribute.parseHTML?e.attribute.parseHTML(n):ey(n.getAttribute(e.name));return null==r?t:{...t,[e.name]:r}},{});return{...r,...i}}}}function eb(t){return Object.fromEntries(Object.entries(t).filter(([t,e])=>!("attrs"===t&&ed(e))&&null!=e))}function ex(t){var e,n;let r={};return!(null==(e=null==t?void 0:t.attribute)?void 0:e.isRequired)&&"default"in((null==t?void 0:t.attribute)||{})&&(r.default=t.attribute.default),(null==(n=null==t?void 0:t.attribute)?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function ew(t,e){var n;let r=ef(t),{nodeExtensions:s,markExtensions:o}=ep(t),a=null==(n=s.find(t=>ea(t,"topNode")))?void 0:n.name,l=Object.fromEntries(s.map(n=>{let i=r.filter(t=>t.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e},o=eb({...t.reduce((t,e)=>{let r=ea(e,"extendNodeSchema",s);return{...t,...r?r(n):{}}},{}),content:eu(ea(n,"content",s)),marks:eu(ea(n,"marks",s)),group:eu(ea(n,"group",s)),inline:eu(ea(n,"inline",s)),atom:eu(ea(n,"atom",s)),selectable:eu(ea(n,"selectable",s)),draggable:eu(ea(n,"draggable",s)),code:eu(ea(n,"code",s)),whitespace:eu(ea(n,"whitespace",s)),linebreakReplacement:eu(ea(n,"linebreakReplacement",s)),defining:eu(ea(n,"defining",s)),isolating:eu(ea(n,"isolating",s)),attrs:Object.fromEntries(i.map(ex))}),a=eu(ea(n,"parseHTML",s));a&&(o.parseDOM=a.map(t=>ev(t,i)));let l=ea(n,"renderHTML",s);l&&(o.toDOM=t=>l({node:t,HTMLAttributes:eg(t,i)}));let h=ea(n,"renderText",s);return h&&(o.toText=h),[n.name,o]})),h=Object.fromEntries(o.map(n=>{let i=r.filter(t=>t.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e},o=eb({...t.reduce((t,e)=>{let r=ea(e,"extendMarkSchema",s);return{...t,...r?r(n):{}}},{}),inclusive:eu(ea(n,"inclusive",s)),excludes:eu(ea(n,"excludes",s)),group:eu(ea(n,"group",s)),spanning:eu(ea(n,"spanning",s)),code:eu(ea(n,"code",s)),attrs:Object.fromEntries(i.map(ex))}),a=eu(ea(n,"parseHTML",s));a&&(o.parseDOM=a.map(t=>ev(t,i)));let l=ea(n,"renderHTML",s);return l&&(o.toDOM=t=>l({mark:t,HTMLAttributes:eg(t,i)})),[n.name,o]}));return new i.Sj({topNode:a,nodes:l,marks:h})}function ek(t){return Array.from(new Set(t.filter((e,n)=>t.indexOf(e)!==n)))}function eS(t){let e=100;return t.sort((t,n)=>{let r=ea(t,"priority")||e,i=ea(n,"priority")||e;return r>i?-1:+(r<i)})}function eC(t){let e=eS(el(t));return ek(e.map(t=>t.name)).length,e}function eM(t,e,n){let{from:r,to:i}=e,{blockSeparator:s="\n\n",textSerializers:o={}}=n||{},a="";return t.nodesBetween(r,i,(t,n,l,h)=>{var c;t.isBlock&&n>r&&(a+=s);let u=null==o?void 0:o[t.type.name];if(u)return l&&(a+=u({node:t,pos:n,parent:l,index:h,range:e})),!1;t.isText&&(a+=null==(c=null==t?void 0:t.text)?void 0:c.slice(Math.max(r,n)-n,i-n))}),a}function eE(t,e){let n={from:0,to:t.content.size};return eM(t,n,e)}function eA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}function e_(t,e){let n=th(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,t=>{s.push(t)});let o=s.reverse().find(t=>t.type.name===n.name);return o?{...o.attrs}:{}}function eT(t,e){let n=tQ("string"==typeof e?e:e.name,t.schema);return"node"===n?e_(t,e):"mark"===n?ee(t,e):{}}function eP(t,e=JSON.stringify){let n={};return t.filter(t=>{let r=e(t);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}function eD(t){let e=eP(t);return 1===e.length?e:e.filter((t,n)=>!e.filter((t,e)=>e!==n).some(e=>t.oldRange.from>=e.oldRange.from&&t.oldRange.to<=e.oldRange.to&&t.newRange.from>=e.newRange.from&&t.newRange.to<=e.newRange.to))}function eN(t){let{mapping:e,steps:n}=t,r=[];return e.maps.forEach((t,i)=>{let s=[];if(t.ranges.length)t.forEach((t,e)=>{s.push({from:t,to:e})});else{let{from:t,to:e}=n[i];if(void 0===t||void 0===e)return;s.push({from:t,to:e})}s.forEach(({from:t,to:n})=>{let s=e.slice(i).map(t,-1),o=e.slice(i).map(n),a=e.invert().map(s,-1),l=e.invert().map(o);r.push({oldRange:{from:a,to:l},newRange:{from:s,to:o}})})}),eD(r)}function eO(t,e,n){let r=[];return t===e?n.resolve(t).marks().forEach(e=>{let i=tb(n.resolve(t),e.type);i&&r.push({mark:e,...i})}):n.nodesBetween(t,e,(t,e)=>{t&&(null==t?void 0:t.nodeSize)!==void 0&&r.push(...t.marks.map(n=>({from:e,to:e+t.nodeSize,mark:n})))}),r}var eI=(t,e,n,r=20)=>{let i=t.doc.resolve(n),s=r,o=null;for(;s>0&&null===o;){let t=i.node(s);(null==t?void 0:t.type.name)===e?o=t:s-=1}return[o,s]};function eL(t,e){return e.nodes[t]||e.marks[t]||null}function ez(t,e,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{let r=t.find(t=>t.type===e&&t.name===n);return!!r&&r.attribute.keepOnSplit}))}var eR=(t,e=500)=>{let n="",r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(t,e,i,s)=>{var o,a;let l=(null==(a=(o=t.type.spec).toText)?void 0:a.call(o,{node:t,pos:e,parent:i,index:s}))||t.textContent||"%leaf%";n+=t.isAtom&&!t.isText?l:l.slice(0,Math.max(0,r-e))}),n};function eF(t,e,n={}){let{empty:r,ranges:i}=t.selection,s=e?tx(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(t=>!s||s.name===t.type.name).find(t=>tg(t.attrs,n,{strict:!1}));let o=0,a=[];if(i.forEach(({$from:e,$to:n})=>{let r=e.pos,i=n.pos;t.doc.nodesBetween(r,i,(t,e)=>{if(!t.isText&&!t.marks.length)return;let n=Math.max(r,e),s=Math.min(i,e+t.nodeSize);o+=s-n,a.push(...t.marks.map(t=>({mark:t,from:n,to:s})))})}),0===o)return!1;let l=a.filter(t=>!s||s.name===t.mark.type.name).filter(t=>tg(t.mark.attrs,n,{strict:!1})).reduce((t,e)=>t+e.to-e.from,0),h=a.filter(t=>!s||t.mark.type!==s&&t.mark.type.excludes(s)).reduce((t,e)=>t+e.to-e.from,0);return(l>0?l+h:l)>=o}function eB(t,e,n={}){if(!e)return tJ(t,null,n)||eF(t,null,n);let r=tQ(e,t.schema);return"node"===r?tJ(t,e,n):"mark"===r&&eF(t,e,n)}var ej=(t,e)=>{let{$from:n,$to:r,$anchor:i}=t.selection;if(e){let n=eo(t=>t.type.name===e)(t.selection);if(!n)return!1;let r=t.doc.resolve(n.pos+1);return i.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2)&&n.pos===r.pos},eV=t=>{let{$from:e,$to:n}=t.selection;return!(e.parentOffset>0)&&e.pos===n.pos};function e$(t,e){return Array.isArray(e)?e.some(e=>("string"==typeof e?e:e.name)===t.name):e}function eH(t,e){let{nodeExtensions:n}=ep(e),r=n.find(e=>e.name===t);if(!r)return!1;let i={name:r.name,options:r.options,storage:r.storage},s=eu(ea(r,"group",i));return"string"==typeof s&&s.split(" ").includes("list")}function eq(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===t.type.name)return!0;if(t.isText)return/^\s*$/m.test(null!=(r=t.text)?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(0===t.content.childCount)return!0;if(e){let r=!0;return t.content.forEach(t=>{!1!==r&&(eq(t,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function eW(t){return t instanceof s.nh}var eK=class t{constructor(t){this.position=t}static fromJSON(e){return new t(e.position)}toJSON(){return{position:this.position}}};function eU(t,e){let n=e.mapping.mapResult(t.position);return{position:new eK(n.pos),mapResult:n}}function eJ(t){return new eK(t)}function eG(t,e,n){var r;let{selection:i}=e,s=null;if(tS(i)&&(s=i.$cursor),s){let e=null!=(r=t.storedMarks)?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(e)||!e.some(t=>t.type.excludes(n)))}let{ranges:o}=i;return o.some(({$from:e,$to:r})=>{let i=0===e.depth&&t.doc.inlineContent&&t.doc.type.allowsMarkType(n);return t.doc.nodesBetween(e.pos,r.pos,(t,e,r)=>{if(i)return!1;if(t.isInline){let e=!r||r.type.allowsMarkType(n),s=!!n.isInSet(t.marks)||!t.marks.some(t=>t.type.excludes(n));i=e&&s}return!i}),i})}var eY=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let{selection:s}=n,{empty:o,ranges:a}=s,l=tx(t,r.schema);if(i)if(o){let t=ee(r,l);n.addStoredMark(l.create({...t,...e}))}else a.forEach(t=>{let i=t.$from.pos,s=t.$to.pos;r.doc.nodesBetween(i,s,(t,r)=>{let o=Math.max(r,i),a=Math.min(r+t.nodeSize,s);t.marks.find(t=>t.type===l)?t.marks.forEach(t=>{l===t.type&&n.addMark(o,a,l.create({...t.attrs,...e}))}):n.addMark(o,a,l.create(e))})});return eG(r,n,l)},eX=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),eZ=(t,e={})=>({state:n,dispatch:r,chain:i})=>{let s,o=th(t,n.schema);return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),!!o.isTextblock&&i().command(({commands:t})=>!!z(o,{...s,...e})(n)||t.clearNodes()).command(({state:t})=>z(o,{...s,...e})(t,r)).run()},eQ=t=>({tr:e,dispatch:n})=>{if(n){let{doc:n}=e,r=tC(t,0,n.content.size),i=s.nh.create(n,r);e.setSelection(i)}return!0},e0=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s,o,{selection:a}=r;return"number"==typeof e?(s=e,o=e):e&&"from"in e&&"to"in e?(s=e.from,o=e.to):(s=a.from,o=a.to),i&&n.doc.nodesBetween(s,o,(e,r)=>{e.isText||n.setNodeMarkup(r,void 0,{...e.attrs,dir:t})}),!0},e1=t=>({tr:e,dispatch:n})=>{if(n){let{doc:n}=e,{from:r,to:i}="number"==typeof t?{from:t,to:t}:t,o=s.U3.atStart(n).from,a=s.U3.atEnd(n).to,l=tC(r,o,a),h=tC(i,o,a),c=s.U3.create(n,l,h);e.setSelection(c)}return!0},e2=t=>({state:e,dispatch:n})=>J(th(t,e.schema))(e,n);function e3(t,e){let n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){let r=n.filter(t=>null==e?void 0:e.includes(t.type.name));t.tr.ensureMarks(r)}}var e4=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:o})=>{let{selection:a,doc:l}=e,{$from:h,$to:c}=a,u=ez(o.extensionManager.attributes,h.node().type.name,h.node().attrs);if(a instanceof s.nh&&a.node.isBlock)return!!h.parentOffset&&!!(0,r.zy)(l,h.pos)&&(i&&(t&&e3(n,o.extensionManager.splittableMarks),e.split(h.pos).scrollIntoView()),!0);if(!h.parent.isBlock)return!1;let d=c.parentOffset===c.parent.content.size,p=0===h.depth?void 0:er(h.node(-1).contentMatchAt(h.indexAfter(-1))),f=d&&p?[{type:p,attrs:u}]:void 0,m=(0,r.zy)(e.doc,e.mapping.map(h.pos),1,f);if(!f&&!m&&(0,r.zy)(e.doc,e.mapping.map(h.pos),1,p?[{type:p}]:void 0)&&(m=!0,f=p?[{type:p,attrs:u}]:void 0),i){if(m&&(a instanceof s.U3&&e.deleteSelection(),e.split(e.mapping.map(h.pos),1,f),p&&!d&&!h.parentOffset&&h.parent.type!==p)){let t=e.mapping.map(h.before()),n=e.doc.resolve(t);h.node(-1).canReplaceWith(n.index(),n.index()+1,p)&&e.setNodeMarkup(e.mapping.map(h.before()),p)}t&&e3(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return m},e5=(t,e={})=>({tr:n,state:o,dispatch:a,editor:l})=>{var h;let c=th(t,o.schema),{$from:u,$to:d}=o.selection,p=o.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;let f=u.node(-1);if(f.type!==c)return!1;let m=l.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(a){let t=i.FK.empty,r=u.index(-1)?1:u.index(-2)?2:3;for(let e=u.depth-r;e>=u.depth-3;e-=1)t=i.FK.from(u.node(e).copy(t));let o=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,a={...ez(m,u.node().type.name,u.node().attrs),...e},l=(null==(h=c.contentMatch.defaultType)?void 0:h.createAndFill(a))||void 0;t=t.append(i.FK.from(c.createAndFill(null,l)||void 0));let d=u.before(u.depth-(r-1));n.replace(d,u.after(-o),new i.Ji(t,4-r,0));let p=-1;n.doc.nodesBetween(d,n.doc.content.size,(t,e)=>{if(p>-1)return!1;t.isTextblock&&0===t.content.size&&(p=e+1)}),p>-1&&n.setSelection(s.U3.near(n.doc.resolve(p))),n.scrollIntoView()}return!0}let g=d.pos===u.end()?f.contentMatchAt(0).defaultType:null,y={...ez(m,f.type.name,f.attrs),...e},v={...ez(m,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,d.pos);let b=g?[{type:c,attrs:y},{type:g,attrs:v}]:[{type:c,attrs:y}];if(!(0,r.zy)(n.doc,u.pos,2))return!1;if(a){let{selection:t,storedMarks:e}=o,{splittableMarks:r}=l.extensionManager,i=e||t.$to.parentOffset&&t.$from.marks();if(n.split(u.pos,2,b).scrollIntoView(),!i||!a)return!0;let s=i.filter(t=>r.includes(t.type.name));n.ensureMarks(s)}return!0},e6=(t,e)=>{let n=eo(t=>t.type===e)(t.selection);if(!n)return!0;let i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===i)return!0;let s=t.doc.nodeAt(i);return!(n.node.type===(null==s?void 0:s.type)&&(0,r.n9)(t.doc,n.pos))||(t.join(n.pos),!0)},e7=(t,e)=>{let n=eo(t=>t.type===e)(t.selection);if(!n)return!0;let i=t.doc.resolve(n.start).after(n.depth);if(void 0===i)return!0;let s=t.doc.nodeAt(i);return!(n.node.type===(null==s?void 0:s.type)&&(0,r.n9)(t.doc,i))||(t.join(i),!0)},e8=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:h,can:c})=>{let{extensions:u,splittableMarks:d}=i.extensionManager,p=th(t,o.schema),f=th(e,o.schema),{selection:m,storedMarks:g}=o,{$from:y,$to:v}=m,b=y.blockRange(v),x=g||m.$to.parentOffset&&m.$from.marks();if(!b)return!1;let w=eo(t=>eH(t.type.name,u))(m);if(b.depth>=1&&w&&b.depth-w.depth<=1){if(w.node.type===p)return h.liftListItem(f);if(eH(w.node.type.name,u)&&p.validContent(w.node.content)&&a)return l().command(()=>(s.setNodeMarkup(w.pos,p),!0)).command(()=>e6(s,p)).command(()=>e7(s,p)).run()}return n&&x&&a?l().command(()=>{let t=c().wrapInList(p,r),e=x.filter(t=>d.includes(t.type.name));return s.ensureMarks(e),!!t||h.clearNodes()}).wrapInList(p,r).command(()=>e6(s,p)).command(()=>e7(s,p)).run():l().command(()=>!!c().wrapInList(p,r)||h.clearNodes()).wrapInList(p,r).command(()=>e6(s,p)).command(()=>e7(s,p)).run()},e9=(t,e={},n={})=>({state:r,commands:i})=>{let{extendEmptyMarkRange:s=!1}=n,o=tx(t,r.schema);return eF(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},nt=(t,e,n={})=>({state:r,commands:i})=>{let s,o=th(t,r.schema),a=th(e,r.schema),l=tJ(r,o,n);return(r.selection.$anchor.sameParent(r.selection.$head)&&(s=r.selection.$anchor.parent.attrs),l)?i.setNode(a,s):i.setNode(o,{...s,...n})},ne=(t,e={})=>({state:n,commands:r})=>{let i=th(t,n.schema);return tJ(n,i,e)?r.lift(i):r.wrapIn(i,e)},nn=()=>({state:t,dispatch:e})=>{let n=t.plugins;for(let r=0;r<n.length;r+=1){let i,s=n[r];if(s.spec.isInputRules&&(i=s.getState(t))){if(e){let e=t.tr,n=i.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(i.text){let n=e.doc.resolve(i.from).marks();e.replaceWith(i.from,i.to,t.schema.text(i.text,n))}else e.delete(i.from,i.to)}return!0}}return!1},nr=()=>({tr:t,dispatch:e})=>{let{selection:n}=t,{empty:r,ranges:i}=n;return!!r||(e&&i.forEach(e=>{t.removeMark(e.$from.pos,e.$to.pos)}),!0)},ni=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;let{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=tx(t,r.schema),{$from:h,empty:c,ranges:u}=a;if(!i)return!0;if(c&&o){let{from:t,to:e}=a,r=null==(s=h.marks().find(t=>t.type===l))?void 0:s.attrs,i=tb(h,l,r);i&&(t=i.from,e=i.to),n.removeMark(t,e,l)}else u.forEach(t=>{n.removeMark(t.$from.pos,t.$to.pos,l)});return n.removeStoredMark(l),!0},ns=t=>({tr:e,state:n,dispatch:r})=>{let i,s,{selection:o}=n;return"number"==typeof t?(i=t,s=t):t&&"from"in t&&"to"in t?(i=t.from,s=t.to):(i=o.from,s=o.to),r&&e.doc.nodesBetween(i,s,(t,n)=>{if(t.isText)return;let r={...t.attrs};delete r.dir,e.setNodeMarkup(n,void 0,r)}),!0},no=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null,a=tQ("string"==typeof t?t:t.name,r.schema);if(!a)return!1;"node"===a&&(s=th(t,r.schema)),"mark"===a&&(o=tx(t,r.schema));let l=!1;return n.selection.ranges.forEach(t=>{let a,h,c,u,d=t.$from.pos,p=t.$to.pos;n.selection.empty?r.doc.nodesBetween(d,p,(t,e)=>{s&&s===t.type&&(l=!0,c=Math.max(e,d),u=Math.min(e+t.nodeSize,p),a=e,h=t)}):r.doc.nodesBetween(d,p,(t,r)=>{r<d&&s&&s===t.type&&(l=!0,c=Math.max(r,d),u=Math.min(r+t.nodeSize,p),a=r,h=t),r>=d&&r<=p&&(s&&s===t.type&&(l=!0,i&&n.setNodeMarkup(r,void 0,{...t.attrs,...e})),o&&t.marks.length&&t.marks.forEach(s=>{if(o===s.type&&(l=!0,i)){let i=Math.max(r,d),a=Math.min(r+t.nodeSize,p);n.addMark(i,a,o.create({...s.attrs,...e}))}}))}),h&&(void 0!==a&&i&&n.setNodeMarkup(a,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(t=>{o===t.type&&i&&n.addMark(c,u,o.create({...t.attrs,...e}))}))}),l},na=(t,e={})=>({state:n,dispatch:r})=>L(th(t,n.schema),e)(n,r),nl=(t,e={})=>({state:n,dispatch:r})=>$(th(t,n.schema),e)(n,r),nh=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){let n=this.callbacks[t];return n&&n.forEach(t=>t.apply(this,e)),this}off(t,e){let n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(t=>t!==e):delete this.callbacks[t]),this}once(t,e){let n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},nc=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=null==(e=t.undoable)||e}},nu=(t,e)=>{if(tm(e))return e.exec(t);let n=e(t);if(!n)return null;let r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(!n.text.includes(n.replaceWith),r.push(n.replaceWith)),r};function nd(t){var e;let{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;let h=l.state.doc.resolve(r);if(h.parent.type.spec.code||(null==(e=h.nodeBefore||h.nodeAfter)?void 0:e.marks.find(t=>t.type.spec.code)))return!1;let c=!1,u=eR(h)+s;return o.forEach(t=>{if(c)return;let e=nu(u,t.find);if(!e)return;let o=l.state.tr,h=Q({state:l.state,transaction:o}),d={from:r-(e[0].length-s.length),to:i},{commands:p,chain:f,can:m}=new tt({editor:n,state:h});null!==t.handler({state:h,range:d,match:e,commands:p,chain:f,can:m})&&o.steps.length&&(t.undoable&&o.setMeta(a,{transform:o,from:r,to:i,text:s}),l.dispatch(o),c=!0)}),c}function np(t){let{editor:e,rules:n}=t,r=new s.k_({state:{init:()=>null,apply(t,s,o){let a=t.getMeta(r);if(a)return a;let l=t.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:t}=l;"string"==typeof t||(t=eh(i.FK.from(t),o.schema));let{from:s}=l,a=s+t.length;nd({editor:e,from:s,to:a,text:t,rules:n,plugin:r})}),t.selectionSet||t.docChanged?null:s}},props:{handleTextInput:(t,i,s,o)=>nd({editor:e,from:i,to:s,text:o,rules:n,plugin:r}),handleDOMEvents:{compositionend:t=>(setTimeout(()=>{let{$cursor:i}=t.state.selection;i&&nd({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(t,i){if("Enter"!==i.key)return!1;let{$cursor:s}=t.state.selection;return!!s&&nd({editor:e,from:s.pos,to:s.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}function nf(t){return Object.prototype.toString.call(t).slice(8,-1)}function nm(t){return"Object"===nf(t)&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ng(t,e){let n={...t};return nm(t)&&nm(e)&&Object.keys(e).forEach(r=>{nm(e[r])&&nm(t[r])?n[r]=ng(t[r],e[r]):n[r]=e[r]}),n}var ny=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...eu(ea(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...eu(ea(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){let e=this.extend({...this.config,addOptions:()=>ng(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){let e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},nv=class t extends ny{constructor(){super(...arguments),this.type="mark"}static create(e={}){return new t("function"==typeof e?e():e)}static handleExit({editor:t,mark:e}){let{tr:n}=t.state,r=t.state.selection.$from;if(r.pos===r.end()){let i=r.marks();if(!i.find(t=>(null==t?void 0:t.type.name)===e.name))return!1;let s=i.find(t=>(null==t?void 0:t.type.name)===e.name);return s&&n.removeStoredMark(s),n.insertText(" ",r.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){let e="function"==typeof t?t():t;return super.extend(e)}};function nb(t){return"number"==typeof t}var nx=class{constructor(t){this.find=t.find,this.handler=t.handler}},nw=(t,e,n)=>{if(tm(e))return[...t.matchAll(e)];let r=e(t,n);return r?r.map(e=>{let n=[e.text];return n.index=e.index,n.input=t,n.data=e.data,e.replaceWith&&(!e.text.includes(e.replaceWith),n.push(e.replaceWith)),n}):[]};function nk(t){let{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:h,can:c}=new tt({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,i,(t,e)=>{var d,p,f,m,g;if((null==(p=null==(d=t.type)?void 0:d.spec)?void 0:p.code)||!(t.isText||t.isTextblock||t.isInline))return;let y=null!=(g=null!=(m=null==(f=t.content)?void 0:f.size)?m:t.nodeSize)?g:0,v=Math.max(r,e),b=Math.min(i,e+y);v>=b||nw(t.isText?t.text||"":t.textBetween(v-e,b-e,void 0,""),s.find,o).forEach(t=>{if(void 0===t.index)return;let e=v+t.index+1,r=e+t[0].length,i={from:n.tr.mapping.map(e),to:n.tr.mapping.map(r)},d=s.handler({state:n,range:i,match:t,commands:l,chain:h,can:c,pasteEvent:o,dropEvent:a});u.push(d)})}),u.every(t=>null!==t)}var nS=null,nC=t=>{var e;let n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(e=n.clipboardData)||e.setData("text/html",t),n};function nM(t){let e,{editor:n,rules:r}=t,o=null,a=!1,l=!1,h="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{e="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{e=null}let c=({state:t,from:r,to:i,rule:s,pasteEvt:o})=>{let a=t.tr;if(nk({editor:n,state:Q({state:t,transaction:a}),from:Math.max(r-1,0),to:i.b-1,rule:s,pasteEvent:o,dropEvent:e})&&a.steps.length){try{e="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{e=null}return h="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,a}};return r.map(t=>new s.k_({view(t){let e=e=>{var r;(o=(null==(r=t.dom.parentElement)?void 0:r.contains(e.target))?t.dom.parentElement:null)&&(nS=n)},r=()=>{nS&&(nS=null)};return window.addEventListener("dragstart",e),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",e),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(t,n)=>{if(l=o===t.dom.parentElement,e=n,!l){let t=nS;(null==t?void 0:t.isEditable)&&setTimeout(()=>{let e=t.state.selection;e&&t.commands.deleteRange({from:e.from,to:e.to})},10)}return!1},paste:(t,e)=>{var n;let r=null==(n=e.clipboardData)?void 0:n.getData("text/html");return h=e,a=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(e,n,r)=>{let s=e[0],o="paste"===s.getMeta("uiEvent")&&!a,u="drop"===s.getMeta("uiEvent")&&!l,d=s.getMeta("applyPasteRules"),p=!!d;if(!o&&!u&&!p)return;if(p){let{text:e}=d;"string"==typeof e||(e=eh(i.FK.from(e),r.schema));let{from:n}=d,s=n+e.length;return c({rule:t,state:r,from:n,to:{b:s},pasteEvt:nC(e)})}let f=n.doc.content.findDiffStart(r.doc.content),m=n.doc.content.findDiffEnd(r.doc.content);if(nb(f)&&m&&f!==m.b)return c({rule:t,state:r,from:f,to:m,pasteEvt:h})}}))}var nE=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=eC(t),this.schema=ew(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{let n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:eL(e.name,this.schema)},r=ea(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){let{editor:t}=this;return eS([...this.extensions].reverse()).flatMap(e=>{let n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:t,type:eL(e.name,this.schema)},r=[],i=ea(e,"addKeyboardShortcuts",n),s={};if("mark"===e.type&&ea(e,"exitable",n)&&(s.ArrowRight=()=>nv.handleExit({editor:t,mark:e})),i){let e=Object.fromEntries(Object.entries(i()).map(([e,n])=>[e,()=>n({editor:t})]));s={...s,...e}}let o=(0,Y.w)(s);r.push(o);let a=ea(e,"addInputRules",n);if(e$(e,t.options.enableInputRules)&&a){let e=a();if(e&&e.length){let n=np({editor:t,rules:e}),i=Array.isArray(n)?n:[n];r.push(...i)}}let l=ea(e,"addPasteRules",n);if(e$(e,t.options.enablePasteRules)&&l){let e=l();if(e&&e.length){let n=nM({editor:t,rules:e});r.push(...n)}}let h=ea(e,"addProseMirrorPlugins",n);if(h){let t=h();r.push(...t)}return r})}get attributes(){return ef(this.extensions)}get nodeViews(){let{editor:t}=this,{nodeExtensions:e}=ep(this.extensions);return Object.fromEntries(e.filter(t=>!!ea(t,"addNodeView")).map(e=>{let n=this.attributes.filter(t=>t.type===e.name),r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:t,type:th(e.name,this.schema)},i=ea(e,"addNodeView",r);if(!i)return[];let s=i();if(!s)return[];let o=(r,i,o,a,l)=>{let h=eg(r,n);return s({node:r,view:i,getPos:o,decorations:a,innerDecorations:l,editor:t,extension:e,HTMLAttributes:h})};return[e.name,o]}))}get markViews(){let{editor:t}=this,{markExtensions:e}=ep(this.extensions);return Object.fromEntries(e.filter(t=>!!ea(t,"addMarkView")).map(e=>{let n=this.attributes.filter(t=>t.type===e.name),r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:t,type:tx(e.name,this.schema)},i=ea(e,"addMarkView",r);if(!i)return[];let s=(r,s,o)=>{let a=eg(r,n);return i()({mark:r,view:s,inline:o,editor:t,extension:e,HTMLAttributes:a,updateAttributes:e=>{n5(r,t,e)}})};return[e.name,s]}))}setupExtensions(){let t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(t=>[t.name,t.storage])),t.forEach(t=>{var e;let n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:eL(t.name,this.schema)};"mark"===t.type&&(null==(e=eu(ea(t,"keepOnSplit",n)))||e)&&this.splittableMarks.push(t.name);let r=ea(t,"onBeforeCreate",n),i=ea(t,"onCreate",n),s=ea(t,"onUpdate",n),o=ea(t,"onSelectionUpdate",n),a=ea(t,"onTransaction",n),l=ea(t,"onFocus",n),h=ea(t,"onBlur",n),c=ea(t,"onDestroy",n);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),s&&this.editor.on("update",s),o&&this.editor.on("selectionUpdate",o),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),h&&this.editor.on("blur",h),c&&this.editor.on("destroy",c)})}};nE.resolve=eC,nE.sort=eS,nE.flatten=el,Z({},{ClipboardTextSerializer:()=>n_,Commands:()=>nT,Delete:()=>nP,Drop:()=>nD,Editable:()=>nN,FocusEvents:()=>nI,Keymap:()=>nL,Paste:()=>nz,Tabindex:()=>nR,TextDirection:()=>nF,focusEventsPluginKey:()=>nO});var nA=class t extends ny{constructor(){super(...arguments),this.type="extension"}static create(e={}){return new t("function"==typeof e?e():e)}configure(t){return super.configure(t)}extend(t){let e="function"==typeof t?t():t;return super.extend(e)}},n_=nA.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new s.k_({key:new s.hs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(t=>t.$from.pos)),a=Math.max(...s.map(t=>t.$to.pos)),l=eA(n);return eM(r,{from:o,to:a},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),nT=nA.create({name:"commands",addCommands:()=>({...te})}),nP=nA.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,s;let o=()=>{var n,i,s,o;if(null!=(o=null==(s=null==(i=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:i.filterTransaction)?void 0:s.call(i,t))?o:t.getMeta("y-sync$"))return;let a=en(t.before,[t,...e]);eN(a).forEach(e=>{a.mapping.mapResult(e.oldRange.from).deletedAfter&&a.mapping.mapResult(e.oldRange.to).deletedBefore&&a.before.nodesBetween(e.oldRange.from,e.oldRange.to,(n,r)=>{let i=r+n.nodeSize-2,s=e.oldRange.from<=r&&i<=e.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:i,newFrom:a.mapping.map(r),newTo:a.mapping.map(i),deletedRange:e.oldRange,newRange:e.newRange,partial:!s,editor:this.editor,transaction:t,combinedTransform:a})})});let l=a.mapping;a.steps.forEach((e,n)=>{var i,s;if(e instanceof r.Ys){let r=l.slice(n).map(e.from,-1),o=l.slice(n).map(e.to),h=l.invert().map(r,-1),c=l.invert().map(o),u=null==(i=a.doc.nodeAt(r-1))?void 0:i.marks.some(t=>t.eq(e.mark)),d=null==(s=a.doc.nodeAt(o))?void 0:s.marks.some(t=>t.eq(e.mark));this.editor.emit("delete",{type:"mark",mark:e.mark,from:e.from,to:e.to,deletedRange:{from:h,to:c},newRange:{from:r,to:o},partial:!!(d||u),editor:this.editor,transaction:t,combinedTransform:a})}})};null==(s=null==(i=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:i.async)||s?setTimeout(o,0):o()}}),nD=nA.create({name:"drop",addProseMirrorPlugins(){return[new s.k_({key:new s.hs("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),nN=nA.create({name:"editable",addProseMirrorPlugins(){return[new s.k_({key:new s.hs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),nO=new s.hs("focusEvents"),nI=nA.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:t}=this;return[new s.k_({key:nO,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;let r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;let r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),nL=nA.create({name:"keymap",addKeyboardShortcuts(){let t=()=>this.editor.commands.first(({commands:t})=>[()=>t.undoInputRule(),()=>t.command(({tr:e})=>{let{selection:n,doc:r}=e,{empty:i,$anchor:o}=n,{pos:a,parent:l}=o,h=o.parent.isTextblock&&a>0?e.doc.resolve(a-1):o,c=h.parent.type.spec.isolating,u=o.pos-o.parentOffset,d=c&&1===h.parent.childCount?u===o.pos:s.LN.atStart(r).from===a;return!!i&&!!l.type.isTextblock&&!l.textContent.length&&!!d&&(!d||"paragraph"!==o.parent.type.name)&&t.clearNodes()}),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return tA()||tW()?i:r},addProseMirrorPlugins(){return[new s.k_({key:new s.hs("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(t=>t.getMeta("composition")))return;let r=t.some(t=>t.docChanged)&&!e.doc.eq(n.doc),i=t.some(t=>t.getMeta("preventClearDocument"));if(!r||i)return;let{empty:o,from:a,to:l}=e.selection,h=s.LN.atStart(e.doc).from,c=s.LN.atEnd(e.doc).to,u=a===h&&l===c;if(o||!u||!eq(n.doc))return;let d=n.tr,p=Q({state:n,transaction:d}),{commands:f}=new tt({editor:this.editor,state:p});if(f.clearNodes(),d.steps.length)return d}})]}}),nz=nA.create({name:"paste",addProseMirrorPlugins(){return[new s.k_({key:new s.hs("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),nR=nA.create({name:"tabindex",addProseMirrorPlugins(){return[new s.k_({key:new s.hs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),nF=nA.create({name:"textDirection",addOptions:()=>({direction:void 0}),addGlobalAttributes(){if(!this.options.direction)return[];let{nodeExtensions:t}=ep(this.extensions);return[{types:t.filter(t=>"text"!==t.name).map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{let e=t.getAttribute("dir");return e&&("ltr"===e||"rtl"===e||"auto"===e)?e:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new s.k_({key:new s.hs("textDirection"),props:{attributes:()=>{let t=this.options.direction;return t?{dir:t}:{}}}})]}}),nB=class t{constructor(t,e,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=e,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return null!=(t=this.actualDepth)?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let e=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return;e=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:e,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+ +!this.node.isText}get parent(){if(0===this.depth)return null;let e=this.resolvedPos.start(this.resolvedPos.depth-1);return new t(this.resolvedPos.doc.resolve(e),this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new t(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new t(e,this.editor)}get children(){let e=[];return this.node.content.forEach((n,r)=>{let i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+ +!s;if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;let a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;let l=new t(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new t(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){let t=this.children;return t[t.length-1]||null}closest(t,e={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===t)if(Object.keys(e).length>0){let t=r.node.attrs,n=Object.keys(e);for(let r=0;r<n.length;r+=1){let i=n[r];if(t[i]!==e[i])break}}else n=r;r=r.parent}return n}querySelector(t,e={}){return this.querySelectorAll(t,e,!0)[0]||null}querySelectorAll(t,e={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;let i=Object.keys(e);return this.children.forEach(s=>{n&&r.length>0||(s.node.type.name===t&&i.every(t=>e[t]===s.node.attrs[t])&&r.push(s),n&&r.length>0||(r=r.concat(s.querySelectorAll(t,e,n))))}),r}setAttribute(t){let{tr:e}=this.editor.state;e.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(e)}},nj=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function nV(t,e,n){let r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;let i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var n$=class extends nh{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:eU,createMappablePosition:eJ},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:e,moved:n})=>this.options.onDrop(t,e,n)),this.on("paste",({event:t,slice:e})=>this.options.onPaste(t,e)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=tM(e,this.options.autofocus);this.editorState=s.$t.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if("undefined"==typeof document)throw Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(!1!==this.options.autofocus&&null!==this.options.autofocus&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){let t=this.editorView.dom;(null==t?void 0:t.editor)&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=nV(nj,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if("state"===e)return this.editorState;if(e in t)return Reflect.get(t,e);throw Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){let n=ec(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;let e=this.state.plugins,n=e;if([].concat(t).forEach(t=>{let e="string"==typeof t?`${t}$`:t.key;n=n.filter(t=>!t.key.startsWith(e))}),e.length===n.length)return;let r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;let n=[...this.options.enableCoreExtensions?[nN,n_.configure({blockSeparator:null==(e=null==(t=this.options.coreExtensionOptions)?void 0:t.clipboardTextSerializer)?void 0:e.blockSeparator}),nT,nI,nL,nR,nD,nz,nP,nF.configure({direction:this.options.textDirection})].filter(t=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[t.name]):[],...this.options.extensions].filter(t=>["extension","node","mark"].includes(null==t?void 0:t.type));this.extensionManager=new nE(n,this)}createCommandManager(){this.commandManager=new tt({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=t9(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>"collaboration"!==t.name),this.createExtensionManager()}}),t=t9(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new G.Lz(t,{...this.options.editorProps,attributes:{role:"textbox",...null==(e=this.options.editorProps)?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});let n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;let e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(t=>{var e;return null==(e=this.capturedTransaction)?void 0:e.step(t)});return}let{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});let o=n.findLast(t=>t.getMeta("focus")||t.getMeta("blur")),a=null==o?void 0:o.getMeta("focus"),l=null==o?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),t.getMeta("preventUpdate")||!n.some(t=>t.docChanged)||s.doc.eq(e.doc)||this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return eT(this.state,t)}isActive(t,e){let n="string"==typeof t?t:null,r="string"==typeof t?e:t;return eB(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return eh(this.state.doc.content,this.schema)}getText(t){let{blockSeparator:e="\n\n",textSerializers:n={}}=t||{};return eE(this.state.doc,{blockSeparator:e,textSerializers:{...eA(this.schema),...n}})}get isEmpty(){return eq(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return null==(e=null==(t=this.editorView)?void 0:t.isDestroyed)||e}$node(t,e){var n;return(null==(n=this.$doc)?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(t,e))||null}$pos(t){return new nB(this.state.doc.resolve(t),this)}get $doc(){return this.$pos(0)}};function nH(t){return new nc({find:t.find,handler:({state:e,range:n,match:r})=>{let i=eu(t.getAttributes,void 0,r);if(!1===i||null===i)return null;let{tr:s}=e,o=r[r.length-1],a=r[0];if(o){let r=a.search(/\S/),l=n.from+a.indexOf(o),h=l+o.length;if(eO(n.from,n.to,e.doc).filter(e=>e.mark.type.excluded.find(n=>n===t.type&&n!==e.mark.type)).filter(t=>t.to>l).length)return null;h<n.to&&s.delete(h,n.to),l>n.from&&s.delete(n.from+r,l);let c=n.from+r+o.length;s.addMark(n.from+r,c,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function nq(t){return new nc({find:t.find,handler:({state:e,range:n,match:r})=>{let i=eu(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from,a=n.to,l=t.type.create(i);if(r[1]){let t=o+r[0].lastIndexOf(r[1]);t>a?t=a:a=t+r[1].length;let e=r[0][r[0].length-1];s.insertText(e,o+r[0].length-1),s.replaceWith(t,a,l)}else if(r[0]){let e=t.type.isInline?o:o-1;s.insert(e,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()},undoable:t.undoable})}function nW(t){return new nc({find:t.find,handler:({state:e,range:n,match:r})=>{let i=e.doc.resolve(n.from),s=eu(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function nK(t){return new nc({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{let o=eu(t.getAttributes,void 0,i)||{},a=e.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),h=l&&(0,r.oM)(l,t.type,o);if(!h)return null;if(a.wrap(l,h),t.keepMarks&&t.editor){let{selection:n,storedMarks:r}=e,{splittableMarks:i}=t.editor.extensionManager,s=r||n.$to.parentOffset&&n.$from.marks();if(s){let t=s.filter(t=>i.includes(t.type.name));a.ensureMarks(t)}}if(t.keepAttributes){let e="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList";s().updateAttributes(e,o).run()}let c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&(0,r.n9)(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,c))&&a.join(n.from-1)},undoable:t.undoable})}var nU=t=>"touches"in t,nJ=class{constructor(t){var e,n,r,i,s;this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=t=>{if(!this.isResizing||!this.activeHandle)return;let e=t.clientX-this.startX,n=t.clientY-this.startY;this.handleResize(e,n)},this.handleTouchMove=t=>{if(!this.isResizing||!this.activeHandle)return;let e=t.touches[0];if(!e)return;let n=e.clientX-this.startX,r=e.clientY-this.startY;this.handleResize(n,r)},this.handleMouseUp=()=>{if(!this.isResizing)return;let t=this.element.offsetWidth,e=this.element.offsetHeight;this.onCommit(t,e),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=t=>{"Shift"===t.key&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=t=>{"Shift"===t.key&&(this.isShiftKeyPressed=!1)},this.node=t.node,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(null==(e=t.options)?void 0:e.min)&&(this.minSize={...this.minSize,...t.options.min}),(null==(n=t.options)?void 0:n.max)&&(this.maxSize=t.options.max),(null==(r=null==t?void 0:t.options)?void 0:r.directions)&&(this.directions=t.options.directions),(null==(i=t.options)?void 0:i.preserveAspectRatio)&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(null==(s=t.options)?void 0:s.className)&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(t,e,n){return t.type===this.node.type&&(this.node=t,!this.onUpdate||this.onUpdate(t,e,n))}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){let t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",t.style.justifyContent="flex-start",t.style.alignItems="flex-start",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){let t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){let e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){let n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),s=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),s&&(t.style.right="0"),("top"===e||"bottom"===e)&&(t.style.left="0",t.style.right="0"),("left"===e||"right"===e)&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e=this.createHandle(t);this.positionHandle(e,t),e.addEventListener("mousedown",e=>this.handleResizeStart(e,t)),e.addEventListener("touchstart",e=>this.handleResizeStart(e,t)),this.wrapper.appendChild(e)})}applyInitialSize(){let t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,nU(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;let n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(r,i,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight,s=t.includes("right"),o=t.includes("left"),a=t.includes("bottom"),l=t.includes("top");return(s?r=this.startWidth+e:o&&(r=this.startWidth-e),a?i=this.startHeight+n:l&&(i=this.startHeight-n),("right"===t||"left"===t)&&(r=this.startWidth+(s?e:-e)),("top"===t||"bottom"===t)&&(i=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed)?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,s,o;if(!n){let n=Math.max(this.minSize.width,t),s=Math.max(this.minSize.height,e);return(null==(r=this.maxSize)?void 0:r.width)&&(n=Math.min(this.maxSize.width,n)),(null==(i=this.maxSize)?void 0:i.height)&&(s=Math.min(this.maxSize.height,s)),{width:n,height:s}}let a=t,l=e;return a<this.minSize.width&&(l=(a=this.minSize.width)/this.aspectRatio),l<this.minSize.height&&(a=(l=this.minSize.height)*this.aspectRatio),(null==(s=this.maxSize)?void 0:s.width)&&a>this.maxSize.width&&(l=(a=this.maxSize.width)/this.aspectRatio),(null==(o=this.maxSize)?void 0:o.height)&&l>this.maxSize.height&&(a=(l=this.maxSize.height)*this.aspectRatio),{width:a,height:l}}applyAspectRatio(t,e,n){let r="left"===n||"right"===n,i="top"===n||"bottom"===n;return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function nG(t,e){let{selection:n}=t,{$from:r}=n;if(n instanceof s.nh){let t=r.index();return r.parent.canReplaceWith(t,t+1,e)}let i=r.depth;for(;i>=0;){let t=r.index(i);if(r.node(i).contentMatchAt(t).matchType(e))return!0;i-=1}return!1}function nY(t){if(!(null==t?void 0:t.trim()))return{};let e={},n=[],r=t.replace(/["']([^"']*)["']/g,t=>(n.push(t),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);i&&(e.class=i.map(t=>t.trim().slice(1)).join(" "));let s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);let o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,t,r])=>{var i;let s=n[parseInt((null==(i=r.match(/__QUOTED_(\d+)__/))?void 0:i[1])||"0",10)];s&&(e[t]=s.slice(1,-1))});let a=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return a&&a.split(/\s+/).filter(Boolean).forEach(t=>{t.match(/^[a-zA-Z][\w-]*$/)&&(e[t]=!0)}),e}function nX(t){if(!t||0===Object.keys(t).length)return"";let e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(t=>e.push(`.${t}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([t,n])=>{"class"!==t&&"id"!==t&&(!0===n?e.push(t):!1!==n&&null!=n&&e.push(`${t}="${String(n)}"`))}),e.join(" ")}function nZ(t){let{nodeName:e,name:n,parseAttributes:r=nY,serializeAttributes:i=nX,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:a}=t,l=n||e,h=t=>{if(!a)return t;let e={};return a.forEach(n=>{n in t&&(e[n]=t[n])}),e};return{parseMarkdown:(t,n)=>{let r={...s,...t.attributes};return n.createNode(e,r,[])},markdownTokenizer:{name:e,level:"block",start(t){var e;let n=RegExp(`^:::${l}(?:\\s|$)`,"m"),r=null==(e=t.match(n))?void 0:e.index;return void 0!==r?r:-1},tokenize(t,n,i){let s=RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),a=t.match(s);if(!a)return;let h=r(a[1]||"");if(!o.find(t=>!(t in h)))return{type:e,raw:a[0],attributes:h}}},renderMarkdown:t=>{let e=i(h(t.attrs||{})),n=e?` {${e}}`:"";return`:::${l}${n} :::`}}}function nQ(t){let{nodeName:e,name:n,getContent:r,parseAttributes:i=nY,serializeAttributes:s=nX,defaultAttributes:o={},content:a="block",allowedAttributes:l}=t,h=n||e,c=t=>{if(!l)return t;let e={};return l.forEach(n=>{n in t&&(e[n]=t[n])}),e};return{parseMarkdown:(t,n)=>{let i;if(r){let e=r(t);i="string"==typeof e?[{type:"text",text:e}]:e}else i="block"===a?n.parseChildren(t.tokens||[]):n.parseInline(t.tokens||[]);let s={...o,...t.attributes};return n.createNode(e,s,i)},markdownTokenizer:{name:e,level:"block",start(t){var e;let n=RegExp(`^:::${h}`,"m"),r=null==(e=t.match(n))?void 0:e.index;return void 0!==r?r:-1},tokenize(t,n,r){var s;let o=RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),l=t.match(o);if(!l)return;let[c,u=""]=l,d=i(u),p=1,f=c.length,m="",g=/^:::([\w-]*)(\s.*)?/gm,y=t.slice(f);for(g.lastIndex=0;;){let n=g.exec(y);if(null===n)break;let i=n.index,o=n[1];if(null==(s=n[2])||!s.endsWith(":::")){if(o)p+=1;else if(0==(p-=1)){let s=y.slice(0,i);m=s.trim();let o=t.slice(0,f+i+n[0].length),l=[];if(m)if("block"===a)for((l=r.blockTokens(s)).forEach(t=>{t.text&&(!t.tokens||0===t.tokens.length)&&(t.tokens=r.inlineTokens(t.text))});l.length>0;){let t=l[l.length-1];if("paragraph"!==t.type||t.text&&""!==t.text.trim())break;l.pop()}else l=r.inlineTokens(m);return{type:e,raw:o,attributes:d,content:m,tokens:l}}}}}},renderMarkdown:(t,e)=>{let n=s(c(t.attrs||{})),r=n?` {${n}}`:"",i=e.renderChildren(t.content||[],"\n\n");return`:::${h}${r}

${i}

:::`}}}function n0(t){if(!t.trim())return{};let e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g,r=n.exec(t);for(;null!==r;){let[,i,s,o]=r;e[i]=s||o,r=n.exec(t)}return e}function n1(t){return Object.entries(t).filter(([,t])=>null!=t).map(([t,e])=>`${t}="${e}"`).join(" ")}function n2(t){let{nodeName:e,name:n,getContent:r,parseAttributes:i=n0,serializeAttributes:s=n1,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=t,h=n||e,c=t=>{if(!l)return t;let e={};return l.forEach(n=>{n in t&&(e[n]=t[n])}),e},u=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(t,n)=>{let i={...o,...t.attributes};if(a)return n.createNode(e,i);let s=r?r(t):t.content||"";return s?n.createNode(e,i,[n.createTextNode(s)]):n.createNode(e,i,[])},markdownTokenizer:{name:e,level:"inline",start(t){let e=a?RegExp(`\\[${u}\\s*[^\\]]*\\]`):RegExp(`\\[${u}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${u}\\]`),n=t.match(e),r=null==n?void 0:n.index;return void 0!==r?r:-1},tokenize(t,n,r){let s=a?RegExp(`^\\[${u}\\s*([^\\]]*)\\]`):RegExp(`^\\[${u}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${u}\\]`),o=t.match(s);if(!o)return;let l="",h="";if(a){let[,t]=o;h=t}else{let[,t,e]=o;h=t,l=e||""}let c=i(h.trim());return{type:e,raw:o[0],content:l.trim(),attributes:c}}},renderMarkdown:t=>{let e="";r?e=r(t):t.content&&t.content.length>0&&(e=t.content.filter(t=>"text"===t.type).map(t=>t.text).join(""));let n=s(c(t.attrs||{})),i=n?` ${n}`:"";return a?`[${h}${i}]`:`[${h}${i}]${e}[/${h}]`}}}function n3(t,e,n){var r,i,s,o;let a=t.split("\n"),l=[],h="",c=0,u=e.baseIndentSize||2;for(;c<a.length;){let t,d=a[c],p=d.match(e.itemPattern);if(!p)if(l.length>0)break;else{if(""!==d.trim())return;c+=1,h=`${h}${d}
`;continue}let f=e.extractItemData(p),{indentLevel:m,mainContent:g}=f;h=`${h}${d}
`;let y=[g];for(c+=1;c<a.length;){let t=a[c];if(""===t.trim()){let e=a.slice(c+1).findIndex(t=>""!==t.trim());if(-1===e)break;if(((null==(i=null==(r=a[c+1+e].match(/^(\s*)/))?void 0:r[1])?void 0:i.length)||0)>m){y.push(t),h=`${h}${t}
`,c+=1;continue}break}if(((null==(o=null==(s=t.match(/^(\s*)/))?void 0:s[1])?void 0:o.length)||0)>m)y.push(t),h=`${h}${t}
`,c+=1;else break}let v=y.slice(1);if(v.length>0){let r=v.map(t=>t.slice(m+u)).join("\n");r.trim()&&(t=e.customNestedParser?e.customNestedParser(r):n.blockTokens(r))}let b=e.createToken(f,t);l.push(b)}if(0!==l.length)return{items:l,raw:h}}function n4(t,e,n,r){if(!t||!Array.isArray(t.content))return"";let i="function"==typeof n?n(r):n,[s,...o]=t.content,a=e.renderChildren([s]),l=[`${i}${a}`];return o&&o.length>0&&o.forEach(t=>{let n=e.renderChildren([t]);if(n){let t=n.split("\n").map(t=>t?e.indent(t):"").join("\n");l.push(t)}}),l.join("\n")}function n5(t,e,n={}){let{state:r}=e,{doc:i,tr:s}=r,o=t;i.descendants((e,r)=>{let i=s.mapping.map(r),a=s.mapping.map(r)+e.nodeSize,l=null;if(e.marks.forEach(t=>{if(t!==o)return!1;l=t}),!l)return;let h=!1;if(Object.keys(n).forEach(t=>{n[t]!==l.attrs[t]&&(h=!0)}),h){let e=t.type.create({...t.attrs,...n});s.removeMark(i,a,t.type),s.addMark(i,a,e)}}),s.docChanged&&e.view.dispatch(s)}Z({},{createAtomBlockMarkdownSpec:()=>nZ,createBlockMarkdownSpec:()=>nQ,createInlineMarkdownSpec:()=>n2,parseAttributes:()=>nY,parseIndentedBlocks:()=>n3,renderNestedMarkdownContent:()=>n4,serializeAttributes:()=>nX});var n6=class t extends ny{constructor(){super(...arguments),this.type="node"}static create(e={}){return new t("function"==typeof e?e():e)}configure(t){return super.configure(t)}extend(t){let e="function"==typeof t?t():t;return super.extend(e)}};function n7(t){return new nx({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{let s=eu(t.getAttributes,void 0,r,i);if(!1===s||null===s)return null;let{tr:o}=e,a=r[r.length-1],l=r[0],h=n.to;if(a){let r=l.search(/\S/),i=n.from+l.indexOf(a),c=i+a.length;if(eO(n.from,n.to,e.doc).filter(e=>e.mark.type.excluded.find(n=>n===t.type&&n!==e.mark.type)).filter(t=>t.to>i).length)return null;c<n.to&&o.delete(c,n.to),i>n.from&&o.delete(n.from+r,i),h=n.from+r+a.length,o.addMark(n.from+r,h,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}},980:function(t,e,n){"use strict";n.d(e,{Ay:()=>s});var r=n(389),i=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,s=r.bP.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",(0,r.KV)(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,o;let a=null!=(n=null==(e=t.attrs)?void 0:e.src)?n:"",l=null!=(i=null==(r=t.attrs)?void 0:r.alt)?i:"",h=null!=(o=null==(s=t.attrs)?void 0:s.title)?o:"";return h?`![${l}](${a} "${h}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||"undefined"==typeof document||!this.editor.isEditable)return null;let{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:i}=this.options.resize;return({node:s,getPos:o,HTMLAttributes:a})=>{let l=document.createElement("img");Object.entries(a).forEach(([t,e])=>{if(null!=e)switch(t){case"width":case"height":break;default:l.setAttribute(t,e)}}),l.src=a.src;let h=new r.Nz({element:l,node:s,getPos:o,onResize:(t,e)=>{l.style.width=`${t}px`,l.style.height=`${e}px`},onCommit:(t,e)=>{let n=o();void 0!==n&&this.editor.chain().setNodeSelection(n).updateAttributes(this.name,{width:t,height:e}).run()},onUpdate:(t,e,n)=>t.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:!0===i}}),c=h.dom;return c.style.visibility="hidden",c.style.pointerEvents="none",l.onload=()=>{c.style.visibility="",c.style.pointerEvents=""},h}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[(0,r.jT)({find:i,type:this.type,getAttributes:t=>{let[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}})},195:function(t,e,n){"use strict";n.d(e,{pl:()=>tv,$Z:()=>th,hG:()=>ty});var r=n(363),i=n(841),s=n(182),o=n(259),a=n(389),l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty;function u(t,e){return function(n,r,i){return t(n,r,i)&&e(n,r,i)}}function d(t){return function(e,n,r){if(!e||!n||"object"!=typeof e||"object"!=typeof n)return t(e,n,r);var i=r.cache,s=i.get(e),o=i.get(n);if(s&&o)return s===n&&o===e;i.set(e,n),i.set(n,e);var a=t(e,n,r);return i.delete(e),i.delete(n),a}}function p(t){return null!=t?t[Symbol.toStringTag]:void 0}function f(t){return l(t).concat(h(t))}var m=Object.hasOwn||function(t,e){return c.call(t,e)};function g(t,e){return t===e||!t&&!e&&t!=t&&e!=e}var y="__v",v="__o",b="_owner",x=Object.getOwnPropertyDescriptor,w=Object.keys;function k(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function S(t,e){return g(t.getTime(),e.getTime())}function C(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function M(t,e){return t===e}function E(t,e,n){var r,i,s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var o=Array(s),a=t.entries(),l=0;(r=a.next())&&!r.done;){for(var h=e.entries(),c=!1,u=0;(i=h.next())&&!i.done;){if(o[u]){u++;continue}var d=r.value,p=i.value;if(n.equals(d[0],p[0],l,u,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=o[u]=!0;break}u++}if(!c)return!1;l++}return!0}var A=g;function _(t,e,n){var r=w(t),i=r.length;if(w(e).length!==i)return!1;for(;i-- >0;)if(!L(t,e,n,r[i]))return!1;return!0}function T(t,e,n){var r,i,s,o=f(t),a=o.length;if(f(e).length!==a)return!1;for(;a-- >0;)if(!L(t,e,n,r=o[a])||(i=x(t,r),s=x(e,r),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function P(t,e){return g(t.valueOf(),e.valueOf())}function D(t,e){return t.source===e.source&&t.flags===e.flags}function N(t,e,n){var r,i,s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var o=Array(s),a=t.values();(r=a.next())&&!r.done;){for(var l=e.values(),h=!1,c=0;(i=l.next())&&!i.done;){if(!o[c]&&n.equals(r.value,i.value,r.value,i.value,t,e,n)){h=o[c]=!0;break}c++}if(!h)return!1}return!0}function O(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function I(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function L(t,e,n,r){return(r===b||r===v||r===y)&&(!!t.$$typeof||!!e.$$typeof)||m(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var z="[object Arguments]",R="[object Boolean]",F="[object Date]",B="[object Error]",j="[object Map]",V="[object Number]",$="[object Object]",H="[object RegExp]",q="[object Set]",W="[object String]",K="[object URL]",U=Array.isArray,J="undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView:null,G=Object.assign,Y=Object.prototype.toString.call.bind(Object.prototype.toString);function X(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,c=t.areSetsEqual,u=t.areTypedArraysEqual,d=t.areUrlsEqual,f=t.unknownTagComparators;return function(t,m,g){if(t===m)return!0;if(null==t||null==m)return!1;var y=typeof t;if(y!==typeof m)return!1;if("object"!==y)return"number"===y?o(t,m,g):"function"===y&&i(t,m,g);var v=t.constructor;if(v!==m.constructor)return!1;if(v===Object)return a(t,m,g);if(U(t))return e(t,m,g);if(null!=J&&J(t))return u(t,m,g);if(v===Date)return n(t,m,g);if(v===RegExp)return h(t,m,g);if(v===Map)return s(t,m,g);if(v===Set)return c(t,m,g);var b=Y(t);if(b===F)return n(t,m,g);if(b===H)return h(t,m,g);if(b===j)return s(t,m,g);if(b===q)return c(t,m,g);if(b===$)return"function"!=typeof t.then&&"function"!=typeof m.then&&a(t,m,g);if(b===K)return d(t,m,g);if(b===B)return r(t,m,g);if(b===z)return a(t,m,g);if(b===R||b===V||b===W)return l(t,m,g);if(f){var x=f[b];if(!x){var w=p(t);w&&(x=f[w])}if(x)return x(t,m,g)}return!1}}function Z(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?T:k,areDatesEqual:S,areErrorsEqual:C,areFunctionsEqual:M,areMapsEqual:r?u(E,T):E,areNumbersEqual:A,areObjectsEqual:r?T:_,arePrimitiveWrappersEqual:P,areRegExpsEqual:D,areSetsEqual:r?u(N,T):N,areTypedArraysEqual:r?T:O,areUrlsEqual:I,unknownTagComparators:void 0};if(n&&(i=G({},i,n(i))),e){var s=d(i.areArraysEqual),o=d(i.areMapsEqual),a=d(i.areObjectsEqual),l=d(i.areSetsEqual);i=G({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function Q(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function tt(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(t,o){var a=r(),l=a.cache;return n(t,o,{cache:void 0===l?e?new WeakMap:void 0:l,equals:i,meta:a.meta,strict:s})};if(e)return function(t,e){return n(t,e,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(t,e){return n(t,e,o)}}var te=tn();function tn(t){void 0===t&&(t={});var e=t.circular,n=void 0!==e&&e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=void 0!==s&&s,a=X(Z(t)),l=r?r(a):Q(a);return tt({circular:n,comparator:a,createState:i,equals:l,strict:o})}tn({strict:!0}),tn({circular:!0}),tn({circular:!0,strict:!0}),tn({createInternalComparator:function(){return g}}),tn({strict:!0,createInternalComparator:function(){return g}}),tn({circular:!0,createInternalComparator:function(){return g}}),tn({circular:!0,createInternalComparator:function(){return g},strict:!0});var tr=n(352),ti=(...t)=>e=>{t.forEach(t=>{"function"==typeof t?t(e):t&&(t.current=e)})},ts=({contentComponent:t})=>{let e=(0,s.useSyncExternalStore)(t.subscribe,t.getSnapshot,t.getServerSnapshot);return(0,o.jsx)(o.Fragment,{children:Object.values(e)})};function to(){let t=new Set,e={};return{subscribe:e=>(t.add(e),()=>{t.delete(e)}),getSnapshot:()=>e,getServerSnapshot:()=>e,setRenderer(n,r){e={...e,[n]:i.createPortal(r.reactElement,r.element,n)},t.forEach(t=>t())},removeRenderer(n){let r={...e};delete r[n],e=r,t.forEach(t=>t())}}}var ta=class extends r.Component{constructor(t){var e;super(t),this.editorContentRef=r.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(null==(e=t.editor)?void 0:e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;let e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=to(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;let e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!(null==(t=e.view.dom)?void 0:t.firstChild))return;let n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){let{editor:t,innerRef:e,...n}=this.props;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{ref:ti(e,this.editorContentRef),...n}),(null==t?void 0:t.contentComponent)&&(0,o.jsx)(ts,{contentComponent:t.contentComponent})]})}},tl=(0,r.forwardRef)((t,e)=>{let n=r.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[t.editor]);return r.createElement(ta,{key:n,innerRef:e,...t})}),th=r.memo(tl),tc="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,tu=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){let t=()=>{this.transactionNumber+=1,this.subscribers.forEach(t=>t())},e=this.editor;return e.on("transaction",t),()=>{e.off("transaction",t)}}}};function td(t){var e;let[n]=(0,r.useState)(()=>new tu(t.editor)),i=(0,tr.useSyncExternalStoreWithSelector)(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,null!=(e=t.equalityFn)?e:te);return tc(()=>n.watch(t.editor),[t.editor,n]),(0,r.useDebugValue)(i),i}var tp=!1,tf="undefined"==typeof window,tm=tf||!!("undefined"!=typeof window&&window.next),tg=class t{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(void 0===this.options.current.immediatelyRender){if(tf||tm){if(tp)throw Error("Tiptap Error: SSR has been detected, please set `immediatelyRender` explicitly to `false` to avoid hydration mismatches.");return null}return this.createEditor()}if(this.options.current.immediatelyRender&&tf&&tp)throw Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){let t={...this.options.current,onBeforeCreate:(...t)=>{var e,n;return null==(n=(e=this.options.current).onBeforeCreate)?void 0:n.call(e,...t)},onBlur:(...t)=>{var e,n;return null==(n=(e=this.options.current).onBlur)?void 0:n.call(e,...t)},onCreate:(...t)=>{var e,n;return null==(n=(e=this.options.current).onCreate)?void 0:n.call(e,...t)},onDestroy:(...t)=>{var e,n;return null==(n=(e=this.options.current).onDestroy)?void 0:n.call(e,...t)},onFocus:(...t)=>{var e,n;return null==(n=(e=this.options.current).onFocus)?void 0:n.call(e,...t)},onSelectionUpdate:(...t)=>{var e,n;return null==(n=(e=this.options.current).onSelectionUpdate)?void 0:n.call(e,...t)},onTransaction:(...t)=>{var e,n;return null==(n=(e=this.options.current).onTransaction)?void 0:n.call(e,...t)},onUpdate:(...t)=>{var e,n;return null==(n=(e=this.options.current).onUpdate)?void 0:n.call(e,...t)},onContentError:(...t)=>{var e,n;return null==(n=(e=this.options.current).onContentError)?void 0:n.call(e,...t)},onDrop:(...t)=>{var e,n;return null==(n=(e=this.options.current).onDrop)?void 0:n.call(e,...t)},onPaste:(...t)=>{var e,n;return null==(n=(e=this.options.current).onPaste)?void 0:n.call(e,...t)},onDelete:(...t)=>{var e,n;return null==(n=(e=this.options.current).onDelete)?void 0:n.call(e,...t)}};return new a.KE(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,e){return Object.keys(t).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&t.extensions&&e.extensions?t.extensions.length===e.extensions.length&&t.extensions.every((t,n)=>{var r;return t===(null==(r=e.extensions)?void 0:r[n])}):t[n]===e[n]))}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===e.length?t.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((e,n)=>e===t[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){let t=this.instanceId,e=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){e&&e.setOptions(this.options.current);return}e&&!e.isDestroyed&&(e.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function ty(t={},e=[]){let n=(0,r.useRef)(t);n.current=t;let[i]=(0,r.useState)(()=>new tg(n)),o=(0,s.useSyncExternalStore)(i.subscribe,i.getEditor,i.getServerSnapshot);return(0,r.useDebugValue)(o),(0,r.useEffect)(i.onRender(e)),td({editor:o,selector:({transactionNumber:e})=>!1===t.shouldRerenderOnTransaction||void 0===t.shouldRerenderOnTransaction?null:t.immediatelyRender&&0===e?0:e+1}),o}var tv=(0,r.createContext)({editor:null});tv.Consumer;var tb=(0,r.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),tx=()=>(0,r.useContext)(tb);r.forwardRef((t,e)=>{let{onDragStart:n}=tx(),r=t.as||"div";return(0,o.jsx)(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})}),r.createContext({markViewContentRef:()=>{}})},511:function(t,e,n){"use strict";n.d(e,{A:()=>n0});var r=n(389),i=(t,e)=>{if("slot"===t)return 0;if(t instanceof Function)return t(e);let{children:n,...r}=null!=e?e:{};if("svg"===t)throw Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},s=/^\s*>\s$/,o=r.bP.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return i("blockquote",{...(0,r.KV)(this.options.HTMLAttributes,t),children:i("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";let n=">",r=[];return t.content.forEach(t=>{let i=e.renderChildren([t]).split("\n").map(t=>""===t.trim()?n:`${n} ${t}`);r.push(i.join("\n"))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,r.tG)({find:s,type:this.type})]}}),a=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,l=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,h=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,c=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,u=r.CU.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return i("strong",{...(0,r.KV)(this.options.HTMLAttributes,t),children:i("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,r.OX)({find:a,type:this.type}),(0,r.OX)({find:h,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:l,type:this.type}),(0,r.Zc)({find:c,type:this.type})]}}),d=/(^|[^`])`([^`]+)`(?!`)$/,p=/(^|[^`])`([^`]+)`(?!`)/g,f=r.CU.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",(0,r.KV)(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,r.OX)({find:d,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:p,type:this.type})]}}),m=n(366),g=4,y=/^```([a-z]+)?[\s\n]$/,v=/^~~~([a-z]+)?[\s\n]$/,b=r.bP.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:g,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;let{languageClassPrefix:n}=this.options;if(!n)return null;let r=[...(null==(e=t.firstElementChild)?void 0:e.classList)||[]].filter(t=>t.startsWith(n)).map(t=>t.replace(n,""))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",(0,r.KV)(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return(null==(n=t.raw)?void 0:n.startsWith("```"))===!1&&"indented"!==t.codeBlockStyle?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r=(null==(n=t.attrs)?void 0:n.language)||"";return t.content?[`\`\`\`${r}`,e.renderChildren(t.content),"```"].join("\n"):`\`\`\`${r}

\`\`\``},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!!t&&e.parent.type.name===this.name&&(!!n||!e.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;let n=null!=(e=this.options.tabSize)?e:g,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;let a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:t})=>{let{from:e,to:n}=i,s=r.doc.textBetween(e,n,"\n","\n").split("\n").map(t=>a+t).join("\n");return t.replaceWith(e,n,r.schema.text(s)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;let n=null!=(e=this.options.tabSize)?e:g,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type===this.type&&(o?t.commands.command(({tr:t})=>{var e;let{pos:i}=s,o=s.start(),a=s.end(),l=r.doc.textBetween(o,a,"\n","\n").split("\n"),h=0,c=0,u=i-o;for(let t=0;t<l.length;t+=1){if(c+l[t].length>=u){h=t;break}c+=l[t].length+1}let d=Math.min(((null==(e=l[h].match(/^ */))?void 0:e[0])||"").length,n);if(0===d)return!0;let p=o;for(let t=0;t<h;t+=1)p+=l[t].length+1;return t.delete(p,p+d),i-p<=d&&t.setSelection(m.U3.create(t.doc,p)),!0}):t.commands.command(({tr:t})=>{let{from:e,to:s}=i,o=r.doc.textBetween(e,s,"\n","\n").split("\n").map(t=>{var e;let r=Math.min(((null==(e=t.match(/^ */))?void 0:e[0])||"").length,n);return t.slice(r)}).join("\n");return t.replaceWith(e,s,r.schema.text(o)),!0}))},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;let s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith("\n\n");return!!s&&!!o&&t.chain().command(({tr:t})=>(t.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||i.parentOffset!==i.parent.nodeSize-2)return!1;let o=i.after();return void 0!==o&&(r.nodeAt(o)?t.commands.command(({tr:t})=>(t.setSelection(m.LN.near(r.resolve(o))),!0)):t.commands.exitCode())}}},addInputRules(){return[(0,r.JJ)({find:y,type:this.type,getAttributes:t=>({language:t[1]})}),(0,r.JJ)({find:v,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new m.k_({key:new m.hs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;let n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=null==i?void 0:i.mode;if(!n||!s)return!1;let{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,"\n"));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(m.U3.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),x=r.bP.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,"\n\n"):""}),w=r.bP.create({name:"hardBreak",markdownTokenName:"br",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,r.KV)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:t,storedMarks:i}=n;if(t.$from.parent.type.spec.isolating)return!1;let{keepMarks:s}=this.options,{splittableMarks:o}=r.extensionManager,a=i||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{if(e&&a&&s){let e=a.filter(t=>o.includes(t.type.name));t.ensureMarks(e)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),k=r.bP.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){let n=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return[`h${n}`,(0,r.KV)(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;let r=(null==(n=t.attrs)?void 0:n.level)?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,...{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}}),{})},addInputRules(){return this.options.levels.map(t=>(0,r.JJ)({find:RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),S=r.bP.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",(0,r.KV)(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!(0,r.AB)(e,e.schema.nodes[this.name]))return!1;let{selection:n}=e,{$to:i}=n,s=t();return(0,r.BQ)(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:t,tr:e,dispatch:n})=>{if(n){let{$to:n}=e.selection,r=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?e.setSelection(m.U3.create(e.doc,n.pos+1)):n.nodeAfter.isBlock?e.setSelection(m.nh.create(e.doc,n.pos)):e.setSelection(m.U3.create(e.doc,n.pos));else{let i=t.schema.nodes[this.options.nextNodeType]||n.parent.type.contentMatch.defaultType,s=null==i?void 0:i.create();s&&(e.insert(r,s),e.setSelection(m.U3.create(e.doc,r+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,r.jT)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),C=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,M=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,E=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,A=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,_=r.CU.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",(0,r.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,r.OX)({find:C,type:this.type}),(0,r.OX)({find:E,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:M,type:this.type}),(0,r.Zc)({find:A,type:this.type})]}});let T="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",P="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",D="numeric",N="ascii",O="alpha",I="asciinumeric",L="alphanumeric",z="domain",R="emoji",F="scheme",B="slashscheme",j="whitespace";function V(t,e){return t in e||(e[t]=[]),e[t]}function $(t,e,n){for(let r in e[D]&&(e[I]=!0,e[L]=!0),e[N]&&(e[I]=!0,e[O]=!0),e[I]&&(e[L]=!0),e[O]&&(e[L]=!0),e[L]&&(e[z]=!0),e[R]&&(e[z]=!0),e){let e=V(r,n);0>e.indexOf(t)&&e.push(t)}}function H(t,e){let n={};for(let r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function q(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}q.groups={},q.prototype={accepts(){return!!this.t},go(t){let e=this,n=e.j[t];if(n)return n;for(let n=0;n<e.jr.length;n++){let r=e.jr[n][0],i=e.jr[n][1];if(i&&r.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){let i;return r=r||q.groups,e&&e.j?i=e:(i=new q(e),n&&r&&$(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this,s=t.length;if(!s)return i;for(let e=0;e<s-1;e++)i=i.tt(t[e]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||q.groups;let i=this;if(e&&e.j)return i.j[t]=e,e;let s=e,o,a=i.go(t);return a?(Object.assign((o=new q).j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new q,s&&(r&&(o.t&&"string"==typeof o.t?$(s,Object.assign(H(o.t,r),n),r):n&&$(s,n,r)),o.t=s),i.j[t]=o,o}};let W=(t,e,n,r,i)=>t.ta(e,n,r,i),K=(t,e,n,r,i)=>t.tr(e,n,r,i),U=(t,e,n,r,i)=>t.ts(e,n,r,i),J=(t,e,n,r,i)=>t.tt(e,n,r,i),G="WORD",Y="UWORD",X="ASCIINUMERICAL",Z="ALPHANUMERICAL",Q="LOCALHOST",tt="TLD",te="UTLD",tn="SCHEME",tr="SLASH_SCHEME",ti="NUM",ts="WS",to="NL",ta="OPENBRACE",tl="CLOSEBRACE",th="OPENBRACKET",tc="CLOSEBRACKET",tu="OPENPAREN",td="CLOSEPAREN",tp="OPENANGLEBRACKET",tf="CLOSEANGLEBRACKET",tm="FULLWIDTHLEFTPAREN",tg="FULLWIDTHRIGHTPAREN",ty="LEFTCORNERBRACKET",tv="RIGHTCORNERBRACKET",tb="LEFTWHITECORNERBRACKET",tx="RIGHTWHITECORNERBRACKET",tw="FULLWIDTHLESSTHAN",tk="FULLWIDTHGREATERTHAN",tS="AMPERSAND",tC="APOSTROPHE",tM="ASTERISK",tE="AT",tA="BACKSLASH",t_="BACKTICK",tT="CARET",tP="COLON",tD="COMMA",tN="DOLLAR",tO="DOT",tI="EQUALS",tL="EXCLAMATION",tz="HYPHEN",tR="PERCENT",tF="PIPE",tB="PLUS",tj="POUND",tV="QUERY",t$="QUOTE",tH="FULLWIDTHMIDDLEDOT",tq="SEMI",tW="SLASH",tK="TILDE",tU="UNDERSCORE",tJ="EMOJI",tG="SYM";var tY=Object.freeze({__proto__:null,ALPHANUMERICAL:Z,AMPERSAND:tS,APOSTROPHE:tC,ASCIINUMERICAL:X,ASTERISK:tM,AT:tE,BACKSLASH:tA,BACKTICK:t_,CARET:tT,CLOSEANGLEBRACKET:tf,CLOSEBRACE:tl,CLOSEBRACKET:tc,CLOSEPAREN:td,COLON:tP,COMMA:tD,DOLLAR:tN,DOT:tO,EMOJI:tJ,EQUALS:tI,EXCLAMATION:tL,FULLWIDTHGREATERTHAN:tk,FULLWIDTHLEFTPAREN:tm,FULLWIDTHLESSTHAN:tw,FULLWIDTHMIDDLEDOT:tH,FULLWIDTHRIGHTPAREN:tg,HYPHEN:tz,LEFTCORNERBRACKET:ty,LEFTWHITECORNERBRACKET:tb,LOCALHOST:Q,NL:to,NUM:ti,OPENANGLEBRACKET:tp,OPENBRACE:ta,OPENBRACKET:th,OPENPAREN:tu,PERCENT:tR,PIPE:tF,PLUS:tB,POUND:tj,QUERY:tV,QUOTE:t$,RIGHTCORNERBRACKET:tv,RIGHTWHITECORNERBRACKET:tx,SCHEME:tn,SEMI:tq,SLASH:tW,SLASH_SCHEME:tr,SYM:tG,TILDE:tK,TLD:tt,UNDERSCORE:tU,UTLD:te,UWORD:Y,WORD:G,WS:ts});let tX=/[a-z]/,tZ=/\p{L}/u,tQ=/\p{Emoji}/u,t0=/\d/,t1=/\s/,t2="\r",t3="\n",t4="",t5="",t6="",t7=null,t8=null;function t9(t=[]){let e={};q.groups=e;let n=new q;null==t7&&(t7=er(T)),null==t8&&(t8=er(P)),J(n,"'",tC),J(n,"{",ta),J(n,"}",tl),J(n,"[",th),J(n,"]",tc),J(n,"(",tu),J(n,")",td),J(n,"<",tp),J(n,">",tf),J(n,"",tm),J(n,"",tg),J(n,"",ty),J(n,"",tv),J(n,"",tb),J(n,"",tx),J(n,"",tw),J(n,"",tk),J(n,"&",tS),J(n,"*",tM),J(n,"@",tE),J(n,"`",t_),J(n,"^",tT),J(n,":",tP),J(n,",",tD),J(n,"$",tN),J(n,".",tO),J(n,"=",tI),J(n,"!",tL),J(n,"-",tz),J(n,"%",tR),J(n,"|",tF),J(n,"+",tB),J(n,"#",tj),J(n,"?",tV),J(n,'"',t$),J(n,"/",tW),J(n,";",tq),J(n,"~",tK),J(n,"_",tU),J(n,"\\",tA),J(n,"",tH);let r=K(n,t0,ti,{[D]:!0});K(r,t0,r);let i=K(r,tX,X,{[I]:!0}),s=K(r,tZ,Z,{[L]:!0}),o=K(n,tX,G,{[N]:!0});K(o,t0,i),K(o,tX,o),K(i,t0,i),K(i,tX,i);let a=K(n,tZ,Y,{[O]:!0});K(a,tX),K(a,t0,s),K(a,tZ,a),K(s,t0,s),K(s,tX),K(s,tZ,s);let l=J(n,t3,to,{[j]:!0}),h=J(n,t2,ts,{[j]:!0}),c=K(n,t1,ts,{[j]:!0});J(n,t6,c),J(h,t3,l),J(h,t6,c),K(h,t1,c),J(c,t2),J(c,t3),K(c,t1,c),J(c,t6,c);let u=K(n,tQ,tJ,{[R]:!0});J(u,"#"),K(u,tQ,u),J(u,t4,u);let d=J(u,t5);J(d,"#"),K(d,tQ,u);let p=[[tX,o],[t0,i]],f=[[tX,null],[tZ,a],[t0,s]];for(let t=0;t<t7.length;t++)en(n,t7[t],tt,G,p);for(let t=0;t<t8.length;t++)en(n,t8[t],te,Y,f);$(tt,{tld:!0,ascii:!0},e),$(te,{utld:!0,alpha:!0},e),en(n,"file",tn,G,p),en(n,"mailto",tn,G,p),en(n,"http",tr,G,p),en(n,"https",tr,G,p),en(n,"ftp",tr,G,p),en(n,"ftps",tr,G,p),$(tn,{scheme:!0,ascii:!0},e),$(tr,{slashscheme:!0,ascii:!0},e),t=t.sort((t,e)=>t[0]>e[0]?1:-1);for(let e=0;e<t.length;e++){let r=t[e][0],i=t[e][1]?{[F]:!0}:{[B]:!0};r.indexOf("-")>=0?i[z]=!0:tX.test(r)?t0.test(r)?i[I]=!0:i[N]=!0:i[D]=!0,U(n,r,r,i)}return U(n,"localhost",Q,{ascii:!0}),n.jd=new q(tG),{start:n,tokens:Object.assign({groups:e},tY)}}function et(t,e){let n=ee(e.replace(/[A-Z]/g,t=>t.toLowerCase())),r=n.length,i=[],s=0,o=0;for(;o<r;){let a=t,l=null,h=0,c=null,u=-1,d=-1;for(;o<r&&(l=a.go(n[o]));)(a=l).accepts()?(u=0,d=0,c=a):u>=0&&(u+=n[o].length,d++),h+=n[o].length,s+=n[o].length,o++;s-=u,o-=d,h-=u,i.push({t:c.t,v:e.slice(s-h,s),s:s-h,e:s})}return i}function ee(t){let e=[],n=t.length,r=0;for(;r<n;){let i,s=t.charCodeAt(r),o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function en(t,e,n,r,i){let s,o=e.length;for(let n=0;n<o-1;n++){let o=e[n];t.j[o]?s=t.j[o]:((s=new q(r)).jr=i.slice(),t.j[o]=s),t=s}return(s=new q(n)).jr=i.slice(),t.j[e[o-1]]=s,s}function er(t){let e=[],n=[],r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let e=parseInt(t.substring(r,r+s),10);e>0;e--)n.pop();r+=s}else n.push(t[r]),r++}return e}let ei={defaultProtocol:"http",events:null,format:eo,formatHref:eo,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function es(t,e=null){let n=Object.assign({},ei);t&&(n=Object.assign(n,t instanceof es?t.o:t));let r=n.ignoreTags,i=[];for(let t=0;t<r.length;t++)i.push(r[t].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}function eo(t){return t}function ea(t,e){this.t="token",this.v=t,this.tk=e}function el(t,e){class n extends ea{constructor(e,n){super(e,n),this.t=t}}for(let t in e)n.prototype[t]=e[t];return n.t=t,n}es.prototype={o:ei,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,n){let r=null!=e,i=this.o[t];return i&&("object"==typeof i?"function"==typeof(i=n.t in i?i[n.t]:ei[t])&&r&&(i=i(e,n)):"function"==typeof i&&r&&(i=i(e,n.t,n))),i},getObj(t,e,n){let r=this.o[t];return"function"==typeof r&&null!=e&&(r=r(e,n.t,n)),r},render(t){let e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},ea.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){let e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ei.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){let e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),h=t.get("rel",n,e),c=t.getObj("attributes",n,e),u=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),h&&(o.rel=h),c&&Object.assign(o,c),{tagName:i,attributes:o,content:s,eventListeners:u}}};let eh=el("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ec=el("text"),eu=el("nl"),ed=el("url",{isLink:!0,toHref(t=ei.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){let t=this.tk;return t.length>=2&&t[0].t!==Q&&t[1].t===tP}}),ep=t=>new q(t);function ef({groups:t}){let e=t.domain.concat([tS,tM,tE,tA,t_,tT,tN,tI,tz,ti,tR,tF,tB,tj,tW,tG,tK,tU]),n=[tC,tP,tD,tO,tL,tR,tV,t$,tq,tp,tf,ta,tl,tc,th,tu,td,tm,tg,ty,tv,tb,tx,tw,tk],r=[tS,tC,tM,tA,t_,tT,tN,tI,tz,ta,tl,tR,tF,tB,tj,tV,tW,tG,tK,tU],i=ep(),s=J(i,tK);W(s,r,s),W(s,t.domain,s);let o=ep(),a=ep(),l=ep();W(i,t.domain,o),W(i,t.scheme,a),W(i,t.slashscheme,l),W(o,r,s),W(o,t.domain,o);let h=J(o,tE);J(s,tE,h),J(a,tE,h),J(l,tE,h);let c=J(s,tO);W(c,r,s),W(c,t.domain,s);let u=ep();W(h,t.domain,u),W(u,t.domain,u);let d=J(u,tO);W(d,t.domain,u);let p=ep(eh);W(d,t.tld,p),W(d,t.utld,p),J(h,Q,p);let f=J(u,tz);J(f,tz,f),W(f,t.domain,u),W(p,t.domain,u),J(p,tO,d),J(p,tz,f),W(J(p,tP),t.numeric,eh);let m=J(o,tz),g=J(o,tO);J(m,tz,m),W(m,t.domain,o),W(g,r,s),W(g,t.domain,o);let y=ep(ed);W(g,t.tld,y),W(g,t.utld,y),W(y,t.domain,o),W(y,r,s),J(y,tO,g),J(y,tz,m),J(y,tE,h);let v=J(y,tP),b=ep(ed);W(v,t.numeric,b);let x=ep(ed),w=ep();W(x,e,x),W(x,n,w),W(w,e,x),W(w,n,w),J(y,tW,x),J(b,tW,x);let k=J(a,tP),S=J(l,tP),C=J(S,tW),M=J(C,tW);W(a,t.domain,o),J(a,tO,g),J(a,tz,m),W(l,t.domain,o),J(l,tO,g),J(l,tz,m),W(k,t.domain,x),J(k,tW,x),J(k,tV,x),W(M,t.domain,x),W(M,e,x),J(M,tW,x);let E=[[ta,tl],[th,tc],[tu,td],[tp,tf],[tm,tg],[ty,tv],[tb,tx],[tw,tk]];for(let t=0;t<E.length;t++){let[r,i]=E[t],s=J(x,r);J(w,r,s),J(s,i,x);let o=ep(ed);W(s,e,o);let a=ep();W(s,n),W(o,e,o),W(o,n,a),W(a,e,o),W(a,n,a),J(o,i,x),J(a,i,x)}return J(i,Q,y),J(i,to,eu),{start:i,tokens:tY}}function em(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,h=null,c=0,u=null,d=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(h=l||a.go(n[i].t));)l=null,(a=h).accepts()?(d=0,u=a):d>=0&&d++,i++,c++;if(d<0)(i-=c)<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(eg(ec,e,o)),o=[]),i-=d,c-=d;let t=u.t,r=n.slice(i-c,i);s.push(eg(t,e,r))}}return o.length>0&&s.push(eg(ec,e,o)),s}function eg(t,e,n){let r=n[0].s,i=n[n.length-1].e;return new t(e.slice(r,i),n)}let ey="undefined"!=typeof console&&console&&console.warn||(()=>{}),ev="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",eb={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ex(){return q.groups={},eb.scanner=null,eb.parser=null,eb.tokenQueue=[],eb.pluginQueue=[],eb.customSchemes=[],eb.initialized=!1,eb}function ew(t,e=!1){if(eb.initialized&&ey(`linkifyjs: already initialized - will not register custom scheme "${t}" ${ev}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);eb.customSchemes.push([t,e])}function ek(){eb.scanner=t9(eb.customSchemes);for(let t=0;t<eb.tokenQueue.length;t++)eb.tokenQueue[t][1]({scanner:eb.scanner});eb.parser=ef(eb.scanner.tokens);for(let t=0;t<eb.pluginQueue.length;t++)eb.pluginQueue[t][1]({scanner:eb.scanner,parser:eb.parser});return eb.initialized=!0,eb}function eS(t){return eb.initialized||ek(),em(eb.parser.start,t,et(eb.scanner.start,t))}function eC(t,e=null,n=null){if(e&&"object"==typeof e){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}let r=new es(n),i=eS(t),s=[];for(let t=0;t<i.length;t++){let n=i[t];n.isLink&&(!e||n.t===e)&&r.check(n)&&s.push(n.toFormattedObject(r))}return s}eS.scan=et;var eM="[\0- \xa0-\u2029]",eE=new RegExp(eM),eA=RegExp(`${eM}$`),e_=RegExp(eM,"g");function eT(t){return 1===t.length?t[0].isLink:3===t.length&&!!t[1].isLink&&["()","[]"].includes(t[0].value+t[2].value)}function eP(t){return new m.k_({key:new m.hs("autolink"),appendTransaction:(e,n,i)=>{let s=e.some(t=>t.docChanged)&&!n.doc.eq(i.doc),o=e.some(t=>t.getMeta("preventAutolink"));if(!s||o)return;let{tr:a}=i,l=(0,r.T7)(n.doc,[...e]);if((0,r.FF)(l).forEach(({newRange:e})=>{let n,s,o=(0,r.Nx)(i.doc,e,t=>t.isTextblock);if(o.length>1)n=o[0],s=i.doc.textBetween(n.pos,n.pos+n.node.nodeSize,void 0," ");else if(o.length){let t=i.doc.textBetween(e.from,e.to," "," ");if(!eA.test(t))return;n=o[0],s=i.doc.textBetween(n.pos,e.to,void 0," ")}if(n&&s){let e=s.split(eE).filter(Boolean);if(e.length<=0)return!1;let o=e[e.length-1],l=n.pos+s.lastIndexOf(o);if(!o)return!1;let h=eS(o).map(e=>e.toObject(t.defaultProtocol));if(!eT(h))return!1;h.filter(t=>t.isLink).map(t=>({...t,from:l+t.start+1,to:l+t.end+1})).filter(t=>!i.schema.marks.code||!i.doc.rangeHasMark(t.from,t.to,i.schema.marks.code)).filter(e=>t.validate(e.value)).filter(e=>t.shouldAutoLink(e.value)).forEach(e=>{(0,r.hO)(e.from,e.to,i.doc).some(e=>e.mark.type===t.type)||a.addMark(e.from,e.to,t.type.create({href:e.href}))})}}),a.steps.length)return a}})}function eD(t){return new m.k_({key:new m.hs("handleClickLink"),props:{handleClick:(e,n,i)=>{var s,o;if(0!==i.button||!e.editable)return!1;let a=null;if(i.target instanceof HTMLAnchorElement)a=i.target;else{let t=i.target,e=[];for(;"DIV"!==t.nodeName;)e.push(t),t=t.parentNode;a=e.find(t=>"A"===t.nodeName)}if(!a)return!1;let l=(0,r.gu)(e.state,t.type.name),h=null!=(s=null==a?void 0:a.href)?s:l.href,c=null!=(o=null==a?void 0:a.target)?o:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),!!a&&!!h&&(window.open(h,c),!0)}}})}function eN(t){return new m.k_({key:new m.hs("handlePasteLink"),props:{handlePaste:(e,n,r)=>{let{shouldAutoLink:i}=t,{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(t=>{l+=t.textContent});let h=eC(l,{defaultProtocol:t.defaultProtocol}).find(t=>t.isLink&&t.value===l);return!!l&&!!h&&(void 0===i||!!i(h.href))&&t.editor.commands.setMark(t.type,{href:h.href})}}})}function eO(t,e){let n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(t=>{let e="string"==typeof t?t:t.scheme;e&&n.push(e)}),!t||t.replace(e_,"").match(RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var eI=r.CU.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate),this.options.protocols.forEach(t=>{"string"==typeof t?ew(t):ew(t.scheme,t.optionalSlashes)})},onDestroy(){ex()},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!eO(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}),addAttributes(){return{href:{default:null,parseHTML:t=>t.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{let e=t.getAttribute("href");return!!e&&!!this.options.isAllowedUri(e,{defaultValidate:t=>!!eO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:t=>!!eO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",(0,r.KV)(this.options.HTMLAttributes,t),0]:["a",(0,r.KV)(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;let r=(null==(n=t.attrs)?void 0:n.href)||"",i=e.renderChildren(t);return`[${i}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{let{href:n}=t;return!!this.options.isAllowedUri(n,{defaultValidate:t=>!!eO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&e().setMark(this.name,t).setMeta("preventAutolink",!0).run()},toggleLink:t=>({chain:e})=>{let{href:n}=t||{};return(!n||!!this.options.isAllowedUri(n,{defaultValidate:t=>!!eO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,r.Zc)({find:t=>{let e=[];if(t){let{protocols:n,defaultProtocol:r}=this.options,i=eC(t).filter(t=>t.isLink&&this.options.isAllowedUri(t.value,{defaultValidate:t=>!!eO(t,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(t=>{this.options.shouldAutoLink(t.value)&&e.push({text:t.value,data:{href:t.href},index:t.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:null==(e=t.data)?void 0:e.href}}})]},addProseMirrorPlugins(){let t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(eP({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:t=>this.options.isAllowedUri(t,{defaultValidate:t=>!!eO(t,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&t.push(eD({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(eN({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),eL=Object.defineProperty,ez=(t,e)=>{for(var n in e)eL(t,n,{get:e[n],enumerable:!0})},eR="listItem",eF="textStyle",eB=/^\s*([-+*])\s$/,ej=r.bP.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",(0,r.KV)(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>"list"!==t.type||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,"\n"):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eR,this.editor.getAttributes(eF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=(0,r.tG)({find:eB,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,r.tG)({find:eB,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(eF),editor:this.editor})),[t]}}),eV=r.bP.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",(0,r.KV)(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if("list_item"!==t.type)return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(t=>"paragraph"===t.type))n=e.parseChildren(t.tokens);else{let r=t.tokens[0];if(r&&"text"===r.type&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(r.tokens)}],t.tokens.length>1){let r=t.tokens.slice(1),i=e.parseChildren(r);n.push(...i)}}else n=e.parseChildren(t.tokens)}return 0===n.length&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>(0,r.kj)(t,e,t=>"bulletList"===t.parentType?"- ":"orderedList"===t.parentType?`${t.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});ez({},{findListItemPos:()=>e$,getNextListDepth:()=>eH,handleBackspace:()=>eU,handleDelete:()=>eY,hasListBefore:()=>eq,hasListItemAfter:()=>eX,hasListItemBefore:()=>eW,listItemHasSubList:()=>eK,nextListIsDeeper:()=>eJ,nextListIsHigher:()=>eG});var e$=(t,e)=>{let{$from:n}=e.selection,i=(0,r.Pg)(t,e.schema),s=null,o=n.depth,a=n.pos,l=null;for(;o>0&&null===l;)(s=n.node(o)).type===i?l=o:(o-=1,a-=1);return null===l?null:{$pos:e.doc.resolve(a),depth:l}},eH=(t,e)=>{let n=e$(t,e);if(!n)return!1;let[,i]=(0,r.fl)(e,t,n.$pos.pos+4);return i},eq=(t,e,n)=>{let{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!!s&&!!n.includes(s.type.name)},eW=(t,e)=>{var n;let{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return 0!==i.index()&&(null==(n=i.nodeBefore)?void 0:n.type.name)===t},eK=(t,e,n)=>{if(!n)return!1;let i=(0,r.Pg)(t,e.schema),s=!1;return n.descendants(t=>{t.type===i&&(s=!0)}),s},eU=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!(0,r.rU)(t.state,e)&&eq(t.state,e,n)){let{$anchor:n}=t.state.selection,r=t.state.doc.resolve(n.before()-1),i=[];r.node().descendants((t,n)=>{t.type.name===e&&i.push({node:t,pos:n})});let s=i.at(-1);if(!s)return!1;let o=t.state.doc.resolve(r.start()+s.pos+1);return t.chain().cut({from:n.start()-1,to:n.end()+1},o.end()).joinForward().run()}if(!(0,r.rU)(t.state,e)||!(0,r.J_)(t.state))return!1;let i=e$(e,t.state);if(!i)return!1;let s=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),o=eK(e,t.state,s);return eW(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},eJ=(t,e)=>{let n=eH(t,e),r=e$(t,e);return!!r&&!!n&&n>r.depth},eG=(t,e)=>{let n=eH(t,e),r=e$(t,e);return!!r&&!!n&&n<r.depth},eY=(t,e)=>{if(!(0,r.rU)(t.state,e)||!(0,r.QN)(t.state,e))return!1;let{selection:n}=t.state,{$from:i,$to:s}=n;return!(!n.empty&&i.sameParent(s))&&(eJ(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():eG(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward())},eX=(t,e)=>{var n;let{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return i.index()!==i.parent.childCount-1&&(null==(n=i.nodeAfter)?void 0:n.type.name)===t},eZ=r.YY.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==t.state.schema.nodes[n]&&eY(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==t.state.schema.nodes[n]&&eY(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==t.state.schema.nodes[n]&&eU(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==t.state.schema.nodes[n]&&eU(t,n,r)&&(e=!0)}),e}}}}),eQ=/^(\s*)(\d+)\.\s+(.*)$/,e0=/^\s/;function e1(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n],s=i.match(eQ);if(!s)break;let[,o,a,l]=s,h=o.length,c=l,u=n+1,d=[i];for(;u<t.length;){let e=t[u];if(e.match(eQ))break;if(""===e.trim())d.push(e),c+="\n",u+=1;else if(e.match(e0))d.push(e),c+=`
${e.slice(h+2)}`,u+=1;else break}e.push({indent:h,number:parseInt(a,10),content:c.trim(),raw:d.join("\n")}),r=u,n=u}return[e,r]}function e2(t,e,n){var r;let i=[],s=0;for(;s<t.length;){let o=t[s];if(o.indent===e){let a=o.content.split("\n"),l=(null==(r=a[0])?void 0:r.trim())||"",h=[];l&&h.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});let c=a.slice(1).join("\n").trim();if(c){let t=n.blockTokens(c);h.push(...t)}let u=s+1,d=[];for(;u<t.length&&t[u].indent>e;)d.push(t[u]),u+=1;if(d.length>0){let t=Math.min(...d.map(t=>t.indent)),e=e2(d,t,n);h.push({type:"list",ordered:!0,start:d[0].number,items:e,raw:d.map(t=>t.raw).join("\n")})}i.push({type:"list_item",raw:o.raw,tokens:h}),s=u}else s+=1}return i}function e3(t,e){return t.map(t=>{if("list_item"!==t.type)return e.parseChildren([t])[0];let n=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(t=>{if("paragraph"===t.type||"list"===t.type||"blockquote"===t.type||"code"===t.type)n.push(...e.parseChildren([t]));else if("text"===t.type&&t.tokens){let r=e.parseChildren([t]);n.push({type:"paragraph",content:r})}else{let r=e.parseChildren([t]);r.length>0&&n.push(...r)}}),{type:"listItem",content:n}})}var e4="listItem",e5="textStyle",e6=/^(\d+)\.\s$/,e7=r.bP.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){let{start:e,...n}=t;return 1===e?["ol",(0,r.KV)(this.options.HTMLAttributes,n),0]:["ol",(0,r.KV)(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if("list"!==t.type||!t.ordered)return[];let n=t.start||1,r=t.items?e3(t.items,e):[];return 1!==n?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,"\n"):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{let e=t.match(/^(\s*)(\d+)\.\s+/),n=null==e?void 0:e.index;return void 0!==n?n:-1},tokenize:(t,e,n)=>{var r;let i=t.split("\n"),[s,o]=e1(i);if(0===s.length)return;let a=e2(s,0,n);if(0!==a.length)return{type:"list",ordered:!0,start:(null==(r=s[0])?void 0:r.number)||1,items:a,raw:i.slice(0,o).join("\n")}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(e4,this.editor.getAttributes(e5)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=(0,r.tG)({find:e6,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,r.tG)({find:e6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(e5)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),e8=/^\s*(\[([( |x])?\])\s$/,e9=r.bP.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{let e=t.getAttribute("data-checked");return""===e||"true"===e},renderHTML:t=>({"data-checked":t.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",(0,r.KV)(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{let n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){let r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;let i=(null==(n=t.attrs)?void 0:n.checked)?"x":" ",s=`- [${i}] `;return(0,r.kj)(t,e,s)},addKeyboardShortcuts(){let t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{let i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),h=t=>{var e,n;a.ariaLabel=(null==(n=null==(e=this.options.a11y)?void 0:e.checkboxLabel)?void 0:n.call(e,t,a.checked))||`Task item checkbox for ${t.textContent||"empty task item"}`};return h(t),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",t=>t.preventDefault()),a.addEventListener("change",e=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}let{checked:i}=e.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:t})=>{let e=n();if("number"!=typeof e)return!1;let r=t.doc.nodeAt(e);return t.setNodeMarkup(e,void 0,{...null==r?void 0:r.attrs,checked:i}),!0}).run(),r.isEditable||!this.options.onReadOnlyChecked||this.options.onReadOnlyChecked(t,i)||(a.checked=!a.checked)}),Object.entries(this.options.HTMLAttributes).forEach(([t,e])=>{i.setAttribute(t,e)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([t,e])=>{i.setAttribute(t,e)}),{dom:i,contentDOM:l,update:t=>t.type===this.type&&(i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,h(t),!0)}}},addInputRules(){return[(0,r.tG)({find:e8,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}}),nt=r.bP.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",(0,r.KV)(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,"\n"):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;let n=null==(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))?void 0:e.index;return void 0!==n?n:-1},tokenize(t,e,n){let i=t=>{let e=(0,r.Dd)(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:t=>({indentLevel:t[1].length,mainContent:t[4],checked:"x"===t[3].toLowerCase()}),createToken:(t,e)=>({type:"taskItem",raw:"",mainContent:t.mainContent,indentLevel:t.indentLevel,checked:t.checked,text:t.mainContent,tokens:n.inlineTokens(t.mainContent),nestedTokens:e}),customNestedParser:i},n);return e?[{type:"taskList",raw:e.raw,items:e.items}]:n.blockTokens(t)},s=(0,r.Dd)(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:t=>({indentLevel:t[1].length,mainContent:t[4],checked:"x"===t[3].toLowerCase()}),createToken:(t,e)=>({type:"taskItem",raw:"",mainContent:t.mainContent,indentLevel:t.indentLevel,checked:t.checked,text:t.mainContent,tokens:n.inlineTokens(t.mainContent),nestedTokens:e}),customNestedParser:i},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});r.YY.create({name:"listKit",addExtensions(){let t=[];return!1!==this.options.bulletList&&t.push(ej.configure(this.options.bulletList)),!1!==this.options.listItem&&t.push(eV.configure(this.options.listItem)),!1!==this.options.listKeymap&&t.push(eZ.configure(this.options.listKeymap)),!1!==this.options.orderedList&&t.push(e7.configure(this.options.orderedList)),!1!==this.options.taskItem&&t.push(e9.configure(this.options.taskItem)),!1!==this.options.taskList&&t.push(nt.configure(this.options.taskList)),t}});var ne=r.bP.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,r.KV)(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{let n=t.tokens||[];return 1===n.length&&"image"===n[0].type?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>t&&Array.isArray(t.content)?e.renderChildren(t.content):"",addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),nn=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,nr=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,ni=r.CU.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",(0,r.KV)(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,r.OX)({find:nn,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:nr,type:this.type})]}}),ns=r.bP.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),no=r.CU.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("underline")&&{}}],renderHTML({HTMLAttributes:t}){return["u",(0,r.KV)(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown:(t,e)=>`++${e.renderChildren(t)}++`,markdownTokenizer:{name:"underline",level:"inline",start:t=>t.indexOf("++"),tokenize(t,e,n){let r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!r)return;let i=r[2].trim();return{type:"underline",raw:r[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),na=n(334);function nl(t={}){return new m.k_({view:e=>new nh(e,t)})}class nh{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!=(n=e.width)?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}})}destroy(){this.handlers.forEach(({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e,n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,i,s=this.editorView.dom,o=s.getBoundingClientRect(),a=o.width/s.offsetWidth,l=o.height/s.offsetHeight;if(r){let t=n.nodeBefore,e=n.nodeAfter;if(t||e){let n=this.editorView.nodeDOM(this.cursorPos-(t?t.nodeSize:0));if(n){let r=n.getBoundingClientRect(),s=t?r.bottom:r.top;t&&e&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let o=this.width/2*l;i={left:r.left,right:r.right,top:s-o,bottom:s+o}}}}if(!i){let t=this.editorView.coordsAtPos(this.cursorPos),e=this.width/2*a;i={left:t.left-e,right:t.left+e,top:t.top,bottom:t.bottom}}let h=this.editorView.dom.offsetParent;if(!this.element&&(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r),h&&(h!=document.body||"static"!=getComputedStyle(h).position)){let n=h.getBoundingClientRect(),r=n.width/h.offsetWidth,i=n.height/h.offsetHeight;t=n.left-h.scrollLeft*r,e=n.top-h.scrollTop*i}else t=-pageXOffset,e=-pageYOffset;this.element.style.left=(i.left-t)/a+"px",this.element.style.top=(i.top-e)/l+"px",this.element.style.width=(i.right-i.left)/a+"px",this.element.style.height=(i.bottom-i.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,e,t):r;if(e&&!i){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=(0,na.Um)(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}var nc=n(679),nu=n(356),nd=n(777);class np extends m.LN{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return np.valid(n)?new np(n):m.LN.near(n)}content(){return nd.Ji.empty}eq(t){return t instanceof np&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new np(t.resolve(e.pos))}getBookmark(){return new nf(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!ng(t)||!ny(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&np.valid(t))return t;let r=t.pos,i=null;for(let n=t.depth;;n--){let s=t.node(n);if(e>0?t.indexAfter(n)<s.childCount:t.index(n)>0){i=s.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;r+=e;let o=t.doc.resolve(r);if(np.valid(o))return o}for(;;){let s=e>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!m.nh.isSelectable(i)){t=t.doc.resolve(r+i.nodeSize*e),n=!1;continue t}break}i=s,r+=e;let o=t.doc.resolve(r);if(np.valid(o))return o}return null}}}np.prototype.visible=!1,np.findFrom=np.findGapCursorFrom,m.LN.jsonID("gapcursor",np);class nf{constructor(t){this.pos=t}map(t){return new nf(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return np.valid(e)?new np(e):m.LN.near(e)}}function nm(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function ng(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0==n){if(r.type.spec.isolating)return!0;continue}for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||nm(t.type))return!0;if(t.inlineContent)return!1}}return!0}function ny(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||nm(t.type))return!0;if(t.inlineContent)return!1}}return!0}function nv(){return new m.k_({props:{decorations:nS,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&np.valid(n)?new np(n):null,handleClick:nw,handleKeyDown:nb,handleDOMEvents:{beforeinput:nk}}})}let nb=(0,nu.K)({ArrowLeft:nx("horiz",-1),ArrowRight:nx("horiz",1),ArrowUp:nx("vert",-1),ArrowDown:nx("vert",1)});function nx(t,e){let n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,i){let s=t.selection,o=e>0?s.$to:s.$from,a=s.empty;if(s instanceof m.U3){if(!i.endOfTextblock(n)||0==o.depth)return!1;a=!1,o=t.doc.resolve(e>0?o.after():o.before())}let l=np.findGapCursorFrom(o,e,a);return!!l&&(r&&r(t.tr.setSelection(new np(l))),!0)}}function nw(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!np.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&m.nh.isSelectable(t.state.doc.nodeAt(i.inside)))&&(t.dispatch(t.state.tr.setSelection(new np(r))),!0)}function nk(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof np))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=nd.FK.empty;for(let t=r.length-1;t>=0;t--)i=nd.FK.from(r[t].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new nd.Ji(i,0,0));return s.setSelection(m.U3.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function nS(t){if(!(t.selection instanceof np))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",nc.zF.create(t.doc,[nc.NZ.widget(t.selection.head,e,{key:"gapcursor"})])}var nC=200,nM=function(){};nM.prototype.append=function(t){return t.length?(t=nM.from(t),!this.length&&t||t.length<nC&&this.leafAppend(t)||this.length<nC&&t.leafPrepend(this)||this.appendInner(t)):this},nM.prototype.prepend=function(t){return t.length?nM.from(t).append(this):this},nM.prototype.appendInner=function(t){return new nA(this,t)},nM.prototype.slice=function(t,e){return(void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e)?nM.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},nM.prototype.get=function(t){if(!(t<0)&&!(t>=this.length))return this.getInner(t)},nM.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},nM.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(e,n){return r.push(t(e,n))},e,n),r},nM.from=function(t){return t instanceof nM?t:t&&t.length?new nE(t):nM.empty};var nE=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=nC)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=nC)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(nM);nM.empty=new nE([]);var nA=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;if(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r)||n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;if(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i)||n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))return!1},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(nM);let n_=nM,nT=500;class nP{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){let n,r,i,s;if(0==this.eventCount)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}e&&(r=(n=this.remapping(o,this.items.length)).maps.length);let a=t.tr,l=[],h=[];return this.items.forEach((t,e)=>{if(!t.step){n||(r=(n=this.remapping(o,e+1)).maps.length),r--,h.push(t);return}if(n){h.push(new nN(t.map));let e=t.step.map(n.slice(r)),i;e&&a.maybeStep(e).doc&&(i=a.mapping.maps[a.mapping.maps.length-1],l.push(new nN(i,void 0,void 0,l.length+h.length))),r--,i&&n.appendMap(i,r)}else a.maybeStep(t.step);if(t.selection)return i=n?t.selection.map(n.slice(r)):t.selection,s=new nP(this.items.slice(0,o).append(h.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(t,e,n,r){let i=[],s=this.eventCount,o=this.items,a=!r&&o.length?o.get(o.length-1):null;for(let n=0;n<t.steps.length;n++){let l=t.steps[n].invert(t.docs[n]),h=new nN(t.mapping.maps[n],l,e),c;(c=a&&a.merge(h))&&(h=c,n?i.pop():o=o.slice(0,o.length-1)),i.push(h),e&&(s++,e=void 0),r||(a=h)}let l=s-n.depth;return l>nI&&(o=nD(o,l),s-=l),new nP(o.append(i),s)}remapping(t,e){let n=new na.X9;return this.items.forEach((e,r)=>{let i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)},t,e),n}addMaps(t){return 0==this.eventCount?this:new nP(this.items.append(t.map(t=>new nN(t))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),i=t.mapping,s=t.steps.length,o=this.eventCount;this.items.forEach(t=>{t.selection&&o--},r);let a=e;this.items.forEach(e=>{let r=i.getMirror(--a);if(null==r)return;s=Math.min(s,r);let l=i.maps[r];if(e.step){let s=t.steps[r].invert(t.docs[r]),h=e.selection&&e.selection.map(i.slice(a+1,r));h&&o++,n.push(new nN(l,s,h))}else n.push(new nN(l))},r);let l=[];for(let t=e;t<s;t++)l.push(new nN(i.maps[t]));let h=new nP(this.items.slice(0,r).append(l).append(n),o);return h.emptyItemCount()>nT&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let t=0;return this.items.forEach(e=>{!e.step&&t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach((s,o)=>{if(o>=t)r.push(s),s.selection&&i++;else if(s.step){let t=s.step.map(e.slice(n)),o=t&&t.getMap();if(n--,o&&e.appendMap(o,n),t){let a=s.selection&&s.selection.map(e.slice(n));a&&i++;let l=new nN(o.invert(),t,a),h,c=r.length-1;(h=r.length&&r[c].merge(l))?r[c]=h:r.push(l)}}else s.map&&n--},this.items.length,0),new nP(n_.from(r.reverse()),i)}}function nD(t,e){let n;return t.forEach((t,r)=>{if(t.selection&&0==e--)return n=r,!1}),t.slice(n)}nP.empty=new nP(n_.empty,0);class nN{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new nN(e.getMap().invert(),e,this.selection)}}}class nO{constructor(t,e,n,r,i){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}let nI=20;function nL(t,e,n,r){let i=n.getMeta(nH),s;if(i)return i.historyState;n.getMeta(nq)&&(t=new nO(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(o&&o.getMeta(nH))if(o.getMeta(nH).redo)return new nO(t.done.addTransform(n,void 0,r,n$(e)),t.undone,nR(n.mapping.maps),t.prevTime,t.prevComposition);else return new nO(t.done,t.undone.addTransform(n,void 0,r,n$(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||o&&!1===o.getMeta("addToHistory"))if(s=n.getMeta("rebased"))return new nO(t.done.rebased(n,s),t.undone.rebased(n,s),nF(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);else return new nO(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),nF(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let i=n.getMeta("composition"),s=0==t.prevTime||!o&&t.prevComposition!=i&&(t.prevTime<(n.time||0)-r.newGroupDelay||!nz(n,t.prevRanges)),a=o?nF(t.prevRanges,n.mapping):nR(n.mapping.maps);return new nO(t.done.addTransform(n,s?e.selection.getBookmark():void 0,r,n$(e)),nP.empty,a,n.time,null==i?t.prevComposition:i)}}function nz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function nR(t){let e=[];for(let n=t.length-1;n>=0&&0==e.length;n--)t[n].forEach((t,n,r,i)=>e.push(r,i));return e}function nF(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function nB(t,e,n){let r=n$(e),i=nH.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new nO(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(nH,{redo:n,historyState:l})}let nj=!1,nV=null;function n$(t){let e=t.plugins;if(nV!=e){nj=!1,nV=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){nj=!0;break}}return nj}let nH=new m.hs("history"),nq=new m.hs("closeHistory");function nW(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new m.k_({key:nH,state:{init:()=>new nO(nP.empty,nP.empty,null,0,-1),apply:(e,n,r)=>nL(n,r,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?nU:"historyRedo"==n?nJ:null;return!!r&&!!t.editable&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}function nK(t,e){return(n,r)=>{let i=nH.getState(n);if(!i||0==(t?i.undone:i.done).eventCount)return!1;if(r){let s=nB(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}let nU=nK(!1,!0),nJ=nK(!0,!0);nK(!1,!1),nK(!0,!1),r.YY.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(t=>""!==t).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=t=>{let e=(null==t?void 0:t.node)||this.editor.state.doc;if("textSize"===((null==t?void 0:t.mode)||this.options.mode)){let t=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(t)}return e.nodeSize},this.storage.words=t=>{let e=(null==t?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new m.k_({key:new m.hs("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;let i=this.options.limit;if(null==i||0===i){t=!0;return}let s=this.storage.characters({node:r.doc});if(s>i){let e=0,n=s-i,o=r.tr.deleteRange(e,n);return t=!0,o}t=!0},filterTransaction:(t,e)=>{let n=this.options.limit;if(!t.docChanged||0===n||null==n)return!0;let r=this.storage.characters({node:e.doc}),i=this.storage.characters({node:t.doc});if(i<=n||r>n&&i>n&&i<=r)return!0;if(r>n&&i>n&&i>r||!t.getMeta("paste"))return!1;let s=t.selection.$head.pos,o=s-(i-n),a=s;return t.deleteRange(o,a),!(this.storage.characters({node:t.doc})>n)}})]}});var nG=r.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[nl(this.options)]}});r.YY.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new m.k_({key:new m.hs("focus"),props:{decorations:({doc:t,selection:e})=>{let{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return nc.zF.create(t,[]);let o=0;"deepest"===this.options.mode&&t.descendants((t,e)=>{if(!t.isText){if(!(i>=e&&i<=e+t.nodeSize-1))return!1;o+=1}});let a=0;return t.descendants((t,e)=>!t.isText&&!!(i>=e&&i<=e+t.nodeSize-1)&&((a+=1,"deepest"===this.options.mode&&o-a>0||"shallowest"===this.options.mode&&a>1)?"deepest"===this.options.mode:void s.push(nc.NZ.node(e,e+t.nodeSize,{class:this.options.className})))),nc.zF.create(t,s)}}})]}});var nY=r.YY.create({name:"gapCursor",addProseMirrorPlugins:()=>[nv()],extendNodeSchema(t){var e;let n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!=(e=(0,r.gk)((0,r.iI)(t,"allowGapCursor",n)))?e:null}}});function nX({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(null==e?void 0:e.type)===t}r.YY.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new m.k_({key:new m.hs("placeholder"),props:{decorations:({doc:t,selection:e})=>{let n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,s=[];if(!n)return null;let o=this.editor.isEmpty;return t.descendants((t,e)=>{let n=i>=e&&i<=e+t.nodeSize,a=!t.isLeaf&&(0,r.Op)(t);if((n||!this.options.showOnlyCurrent)&&a){let r=[this.options.emptyNodeClass];o&&r.push(this.options.emptyEditorClass);let i=nc.NZ.node(e,e+t.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:e,hasAnchor:n}):this.options.placeholder});s.push(i)}return this.options.includeChildren}),nc.zF.create(t,s)}}})]}}),r.YY.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){let{editor:t,options:e}=this;return[new m.k_({key:new m.hs("selection"),props:{decorations:n=>n.selection.empty||t.isFocused||!t.isEditable||(0,r.BQ)(n.selection)||t.view.dragging?null:nc.zF.create(n.doc,[nc.NZ.inline(n.selection.from,n.selection.to,{class:e.className})])}})]}});var nZ=r.YY.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var t;let e=new m.hs(this.name),n=this.options.node||(null==(t=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>(this.options.notAfter||[]).concat(n).includes(t.name));return[new m.k_({key:e,appendTransaction:(t,r,i)=>{let{doc:s,tr:o,schema:a}=i,l=e.getState(i),h=s.content.size,c=a.nodes[n];if(l)return o.insert(h,c.create())},state:{init:(t,e)=>!nX({node:e.tr.doc.lastChild,types:r}),apply:(t,e)=>!t.docChanged||t.getMeta("__uniqueIDTransaction")?e:!nX({node:t.doc.lastChild,types:r})}})]}}),nQ=r.YY.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>nU(t,e),redo:()=>({state:t,dispatch:e})=>nJ(t,e)}),addProseMirrorPlugins(){return[nW(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),n0=r.YY.create({name:"starterKit",addExtensions(){var t,e,n,r;let i=[];return!1!==this.options.bold&&i.push(u.configure(this.options.bold)),!1!==this.options.blockquote&&i.push(o.configure(this.options.blockquote)),!1!==this.options.bulletList&&i.push(ej.configure(this.options.bulletList)),!1!==this.options.code&&i.push(f.configure(this.options.code)),!1!==this.options.codeBlock&&i.push(b.configure(this.options.codeBlock)),!1!==this.options.document&&i.push(x.configure(this.options.document)),!1!==this.options.dropcursor&&i.push(nG.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&i.push(nY.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&i.push(w.configure(this.options.hardBreak)),!1!==this.options.heading&&i.push(k.configure(this.options.heading)),!1!==this.options.undoRedo&&i.push(nQ.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&i.push(S.configure(this.options.horizontalRule)),!1!==this.options.italic&&i.push(_.configure(this.options.italic)),!1!==this.options.listItem&&i.push(eV.configure(this.options.listItem)),!1!==this.options.listKeymap&&i.push(eZ.configure(null==(t=this.options)?void 0:t.listKeymap)),!1!==this.options.link&&i.push(eI.configure(null==(e=this.options)?void 0:e.link)),!1!==this.options.orderedList&&i.push(e7.configure(this.options.orderedList)),!1!==this.options.paragraph&&i.push(ne.configure(this.options.paragraph)),!1!==this.options.strike&&i.push(ni.configure(this.options.strike)),!1!==this.options.text&&i.push(ns.configure(this.options.text)),!1!==this.options.underline&&i.push(no.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&i.push(nZ.configure(null==(r=this.options)?void 0:r.trailingNode)),i}})},846:function(t,e,n){"use strict";n.d(e,{F:()=>o});var r=n(526);let i=t=>"boolean"==typeof t?`${t}`:0===t?"0":t,s=r.$,o=(t,e)=>n=>{var r;if((null==e?void 0:e.variants)==null)return s(t,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:o,defaultVariants:a}=e,l=Object.keys(o).map(t=>{let e=null==n?void 0:n[t],r=null==a?void 0:a[t];if(null===e)return null;let s=i(e)||i(r);return o[t][s]}),h=n&&Object.entries(n).reduce((t,e)=>{let[n,r]=e;return void 0===r||(t[n]=r),t},{});return s(t,l,null==e||null==(r=e.compoundVariants)?void 0:r.reduce((t,e)=>{let{class:n,className:r,...i}=e;return Object.entries(i).every(t=>{let[e,n]=t;return Array.isArray(n)?n.includes({...a,...h}[e]):({...a,...h})[e]===n})?[...t,n,r]:t},[]),null==n?void 0:n.class,null==n?void 0:n.className)}},526:function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function i(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}n.d(e,{$:()=>i})},356:function(t,e,n){"use strict";n.d(e,{K:()=>y,w:()=>g});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),o="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=0;a<10;a++)r[48+a]=r[96+a]=String(a);for(var a=1;a<=24;a++)r[a+111]="F"+a;for(var a=65;a<=90;a++)r[a]=String.fromCharCode(a+32),i[a]=String.fromCharCode(a);for(var l in r)i.hasOwnProperty(l)||(i[l]=r[l]);function h(t){var e=!(s&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||o&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}var c=n(366);let u="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),d="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function p(t){let e,n,r,i,s=t.split(/-(?!$)/),o=s[s.length-1];"Space"==o&&(o=" ");for(let t=0;t<s.length-1;t++){let o=s[t];if(/^(cmd|meta|m)$/i.test(o))i=!0;else if(/^a(lt)?$/i.test(o))e=!0;else if(/^(c|ctrl|control)$/i.test(o))n=!0;else if(/^s(hift)?$/i.test(o))r=!0;else if(/^mod$/i.test(o))u?i=!0:n=!0;else throw Error("Unrecognized modifier name: "+o)}return e&&(o="Alt-"+o),n&&(o="Ctrl-"+o),i&&(o="Meta-"+o),r&&(o="Shift-"+o),o}function f(t){let e=Object.create(null);for(let n in t)e[p(n)]=t[n];return e}function m(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function g(t){return new c.k_({props:{handleKeyDown:y(t)}})}function y(t){let e=f(t);return function(t,n){let i=h(n),s,o=e[m(i,n)];if(o&&o(t.state,t.dispatch,t))return!0;if(1==i.length&&" "!=i){if(n.shiftKey){let r=e[m(i,n,!1)];if(r&&r(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(d&&n.ctrlKey&&n.altKey)&&(s=r[n.keyCode])&&s!=i){let r=e[m(s,n)];if(r&&r(t.state,t.dispatch,t))return!0}}return!1}}},777:function(t,e,n){"use strict";function r(t){this.content=t}n.d(e,{Ji:()=>p,bP:()=>N,sX:()=>tn,u$:()=>P,CU:()=>u,S4:()=>ta,Sj:()=>tr,ZF:()=>tw,vI:()=>d,FK:()=>a}),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return -1},get:function(t){var e=this.find(t);return -1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),o=i.content.slice();return -1==s?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new r(o)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),o=i.find(t);return s.splice(-1==o?s.length:o,0,e,n),new r(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};let i=r;function s(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let t=0;i.text[t]==o.text[t];t++)n++;return n}if(i.content.size||o.content.size){let t=s(i.content,o.content,n+1);if(null!=t)return t}n+=i.nodeSize}}function o(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(0==i||0==s)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),h=a.nodeSize;if(a==l){n-=h,r-=h;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let t=0,e=Math.min(a.text.length,l.text.length);for(;t<e&&a.text[a.text.length-t-1]==l.text[l.text.length-t-1];)t++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let t=o(a.content,l.content,n-1,r-1);if(t)return t}n-=h,r-=h}}class a{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,n,r=0,i){for(let s=0,o=0;o<e;s++){let a=this.content[s],l=o+a.nodeSize;if(l>t&&!1!==n(a,r+o,i||null,s)&&a.content.size){let i=o+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),n,r+i)}o=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",s=!0;return this.nodesBetween(t,e,(o,a)=>{let l=o.isText?o.text.slice(Math.max(t,a)-a,e-a):o.isLeaf?r?"function"==typeof r?r(o):r:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&l||o.isTextblock)&&n&&(s?s=!1:i+=n),i+=l},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new a(r,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,s=0;s<e;i++){let o=this.content[i],a=s+o.nodeSize;a>t&&((s<t||a>e)&&(o=o.isText?o.cut(Math.max(0,t-s),Math.min(o.text.length,e-s)):o.cut(Math.max(0,t-s-1),Math.min(o.content.size,e-s-1))),n.push(o),r+=o.nodeSize),s=a}return new a(n,r)}cutByIndex(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new a(r,i)}addToStart(t){return new a([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new a(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return s(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return o(this,t,e,n)}findIndex(t){if(0==t)return h(0,t);if(t==this.size)return h(this.content.length,t);if(t>this.size||t<0)throw RangeError(`Position ${t} outside of fragment (${this})`);for(let e=0,n=0;;e++){let r=n+this.child(e).nodeSize;if(r>=t){if(r==t)return h(e+1,r);return h(e,n)}n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return a.empty;let e,n=0;for(let r=0;r<t.length;r++){let i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new a(e||t,n)}static from(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);let l={index:0,offset:0};function h(t,e){return l.index=t,l.offset=e,l}function c(t,e){if(t===e)return!0;if(!(t&&"object"==typeof t)||!(e&&"object"==typeof e))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!c(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!c(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class u{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&c(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw RangeError(`There is no mark type ${e.type} in this schema`);let r=n.create(e.attrs);return n.checkAttrs(r.attrs),r}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return u.none;if(t instanceof u)return[t];let e=t.slice();return e.sort((t,e)=>t.type.rank-e.type.rank),e}}u.none=[];class d extends Error{}class p{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=m(this.content,t+this.openStart,e);return n&&new p(n,this.openStart,this.openEnd)}removeBetween(t,e){return new p(f(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return p.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw RangeError("Invalid input for Slice.fromJSON");return new p(a.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let r=t.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=t.lastChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.lastChild)r++;return new p(t,n,r)}}function f(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(f(s.content,e-i-1,n-i-1)))}function m(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=m(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function g(t,e,n){if(n.openStart>t.depth)throw new d("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new d("Inconsistent open depths");return y(t,e,n,0)}function y(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=y(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}if(!n.content.size)return k(s,C(t,e,r));if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:i,end:o}=M(n,t);return k(s,S(t,i,o,e,r))}{let r=t.parent,i=r.content;return k(r,i.cut(0,t.parentOffset).append(n.content).append(i.cut(e.parentOffset)))}}function v(t,e){if(!e.type.compatibleContent(t.type))throw new d("Cannot join "+e.type.name+" onto "+t.type.name)}function b(t,e,n){let r=t.node(n);return v(r,e.node(n)),r}function x(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function w(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(x(t.nodeAfter,r),s++));for(let t=s;t<o;t++)x(i.child(t),r);e&&e.depth==n&&e.textOffset&&x(e.nodeBefore,r)}function k(t,e){return t.type.checkContent(e),t.copy(e)}function S(t,e,n,r,i){let s=t.depth>i&&b(t,e,i+1),o=r.depth>i&&b(n,r,i+1),l=[];return w(null,t,i,l),s&&o&&e.index(i)==n.index(i)?(v(s,o),x(k(s,S(t,e,n,r,i+1)),l)):(s&&x(k(s,C(t,e,i+1)),l),w(e,n,i,l),o&&x(k(o,C(n,r,i+1)),l)),w(r,null,i,l),new a(l)}function C(t,e,n){let r=[];return w(null,t,n,r),t.depth>n&&x(k(b(t,e,n+1),C(t,e,n+1)),r),w(e,null,n,r),new a(r)}function M(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let t=n-1;t>=0;t--)r=e.node(t).copy(a.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}p.empty=new p(a.empty,0,0);class E{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)r+=n.child(e).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return u.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new P(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw RangeError("Position "+e+" out of range");let n=[],r=0,i=e;for(let e=t;;){let{index:t,offset:s}=e.content.findIndex(i),o=i-s;if(n.push(e,t,r+s),!o||(e=e.child(t)).isText)break;i=o-1,r+=s+1}return new E(e,n,i)}static resolveCached(t,e){let n=T.get(t);if(n)for(let t=0;t<n.elts.length;t++){let r=n.elts[t];if(r.pos==e)return r}else T.set(t,n=new A);let r=n.elts[n.i]=E.resolve(t,e);return n.i=(n.i+1)%_,r}}class A{constructor(){this.elts=[],this.i=0}}let _=12,T=new WeakMap;class P{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}let D=Object.create(null);class N{constructor(t,e,n,r=u.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||a.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&c(this.attrs,e||t.defaultAttrs||D)&&u.sameSet(this.marks,n||u.none)}copy(t=null){return t==this.content?this:new N(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new N(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return p.empty;let r=this.resolve(t),i=this.resolve(e),s=n?0:r.sharedDepth(e),o=r.start(s);return new p(r.node(s).content.cut(r.pos-o,i.pos-o),r.depth-s,i.depth-s)}replace(t,e,n){return g(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(!(e=e.maybeChild(n)))return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return E.resolveCached(this,t)}resolveNoCache(t){return E.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,t=>(n.isInSet(t.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),I(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=a.empty,r=0,i=n.childCount){let s=this.contentMatchAt(t).matchFragment(n,r,i),o=s&&s.matchFragment(this.content,e);if(!o||!o.validEnd)return!1;for(let t=r;t<i;t++)if(!this.type.allowsMarks(n.child(t).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),s=i&&i.matchFragment(this.content,e);return!!s&&s.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=u.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!u.sameSet(t,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,e){let n;if(!e)throw RangeError("Invalid input for Node.fromJSON");if(e.marks){if(!Array.isArray(e.marks))throw RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=a.fromJSON(t,e.content),i=t.nodeType(e.type).create(e.attrs,r,n);return i.type.checkAttrs(i.attrs),i}}N.prototype.text=void 0;class O extends N{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new O(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new O(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function I(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class L{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new z(t,e);if(null==n.next)return L.empty;let r=R(n);n.next&&n.err("Unexpected trailing text");let i=U(q(r));return J(i,n),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function i(s,o){let l=s.matchFragment(t,n);if(l&&(!e||l.validEnd))return a.from(o.map(t=>t.createAndFill()));for(let t=0;t<s.next.length;t++){let{type:e,next:n}=s.next[t];if(!(e.isText||e.hasRequiredAttrs())&&-1==r.indexOf(n)){r.push(n);let t=i(n,o.concat(e));if(t)return t}}return null}return i(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:s,next:o}=i.next[t];s.isLeaf||s.hasRequiredAttrs()||s.name in e||r.type&&!o.validEnd||(n.push({match:s.contentMatch,type:s,via:r}),e[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}return e(this),t.map((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let n=0;n<e.next.length;n++)r+=(n?", ":"")+e.next[n].type.name+"->"+t.indexOf(e.next[n].next);return r}).join("\n")}}L.empty=new L(!0);class z{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw SyntaxError(t+" (in content expression '"+this.string+"')")}}function R(t){let e=[];do e.push(F(t));while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function F(t){let e=[];do e.push(B(t));while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function B(t){let e=H(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=V(t,e);else break;return e}function j(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function V(t,e){let n=j(t),r=n;return t.eat(",")&&(r="}"!=t.next?j(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function $(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let t in n){let r=n[t];r.isInGroup(e)&&i.push(r)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}function H(t){if(t.eat("(")){let e=R(t);return t.eat(")")||t.err("Missing closing paren"),e}if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=$(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}}function q(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach(t=>t.to=e)}function s(t,e){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(s(n,e)),[]);if("seq"==t.type)for(let r=0;;r++){let o=s(t.exprs[r],e);if(r==t.exprs.length-1)return o;i(o,e=n())}else if("star"==t.type){let o=n();return r(e,o),i(s(t.expr,o),o),[r(o)]}else if("plus"==t.type){let o=n();return i(s(t.expr,e),o),i(s(t.expr,o),o),[r(o)]}else if("opt"==t.type)return[r(e)].concat(s(t.expr,e));else if("range"==t.type){let o=e;for(let e=0;e<t.min;e++){let e=n();i(s(t.expr,o),e),o=e}if(-1==t.max)i(s(t.expr,o),o);else for(let e=t.min;e<t.max;e++){let e=n();r(o,e),i(s(t.expr,o),e),o=e}return[r(o)]}else if("name"==t.type)return[r(e,void 0,t.value)];else throw Error("Unknown expr type")}}function W(t,e){return e-t}function K(t,e){let n=[];return r(e),n.sort(W);function r(e){let i=t[e];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(e);for(let t=0;t<i.length;t++){let{term:e,to:s}=i[t];e||-1!=n.indexOf(s)||r(s)}}}function U(t){let e=Object.create(null);return n(K(t,0));function n(r){let i=[];r.forEach(e=>{t[e].forEach(({term:e,to:n})=>{let r;if(e){for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);K(t,n).forEach(t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)})}})});let s=e[r.join(",")]=new L(r.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let r=i[t][1].sort(W);s.next.push({type:i[t][0],next:e[r.join(",")]||n(r)})}return s}}function J(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,s=[];for(let e=0;e<t.next.length;e++){let{type:n,next:o}=t.next[e];s.push(n.name),i&&!(n.isText||n.hasRequiredAttrs())&&(i=!1),-1==r.indexOf(o)&&r.push(o)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function G(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Y(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let e=t[r];if(e.hasDefault)i=e.default;else throw RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function X(t,e,n,r){for(let r in e)if(!(r in t))throw RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let n in t){let r=t[n];r.validate&&r.validate(e[n])}}function Z(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new te(t,r,e[r]);return n}class Q{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Z(t,n.attrs),this.defaultAttrs=G(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==L.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Y(this.attrs,t)}create(t=null,e,n){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new N(this,this.computeAttrs(t),a.from(e),u.setFrom(n))}createChecked(t=null,e,n){return e=a.from(e),this.checkContent(e),new N(this,this.computeAttrs(t),e,u.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),(e=a.from(e)).size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),i=r&&r.fillBefore(a.empty,!0);return i?new N(this,t,e.append(i),u.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){X(this.attrs,t,"node",this.name)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){let e;if(null==this.markSet)return t;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:u.none:t}static compile(t,e){let n=Object.create(null);t.forEach((t,r)=>n[t]=new Q(t,e,r));let r=e.spec.topNode||"doc";if(!n[r])throw RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw RangeError("Every schema needs a 'text' type");for(let t in n.text.attrs)throw RangeError("The text node type should not have attributes");return n}}function tt(t,e,n){let r=n.split("|");return n=>{let i=null===n?"null":typeof n;if(0>r.indexOf(i))throw RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class te{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?tt(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class tn{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=Z(t,r.attrs),this.excluded=null;let i=G(this.attrs);this.instance=i?new u(this,i):null}create(t=null){return!t&&this.instance?this.instance:new u(this,Y(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((t,i)=>n[t]=new tn(t,r++,e,i)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){X(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class tr{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let n in t)e[n]=t[n];e.nodes=i.from(t.nodes),e.marks=i.from(t.marks||{}),this.nodes=Q.compile(this.spec.nodes,this),this.marks=tn.compile(this.spec.marks,this);let n=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw RangeError(t+" can not be both a node and a mark");let e=this.nodes[t],r=e.spec.content||"",i=e.spec.marks;if(e.contentMatch=n[r]||(n[r]=L.parse(r,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==i?null:i?ti(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],n=e.spec.excludes;e.excluded=null==n?[e]:""==n?[]:ti(this,n.split(" "))}this.nodeFromJSON=t=>N.fromJSON(this,t),this.markFromJSON=t=>u.fromJSON(this,t),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if("string"==typeof t)t=this.nodeType(t);else if(t instanceof Q){if(t.schema!=this)throw RangeError("Node type from different schema used ("+t.name+")")}else throw RangeError("Invalid node type: "+t);return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new O(n,n.defaultAttrs,t,u.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeType(t){let e=this.nodes[t];if(!e)throw RangeError("Unknown node type: "+t);return e}}function ti(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let e in t.marks){let r=t.marks[e];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=r)}if(!o)throw SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function ts(t){return null!=t.tag}function to(t){return null!=t.style}class ta{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let n=this.matchedStyles=[];e.forEach(t=>{if(ts(t))this.tags.push(t);else if(to(t)){let e=/[^=]*/.exec(t.style)[0];0>n.indexOf(e)&&n.push(e),this.styles.push(t)}}),this.normalizeLists=!this.tags.some(e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)})}parse(t,e={}){let n=new tg(this,e,!1);return n.addAll(t,u.none,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new tg(this,e,!0);return n.addAll(t,u.none,e.from,e.to),p.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(tv(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],s=r.style;if(0==s.indexOf(t)&&(!r.context||n.matchesContext(r.context))&&(!(s.length>t.length)||61==s.charCodeAt(t.length)&&s.slice(t.length+1)==e)){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r];if((null==t.priority?50:t.priority)<n)break}e.splice(r,0,t)}for(let e in t.marks){let r=t.marks[e].spec.parseDOM;r&&r.forEach(t=>{n(t=tb(t)),t.mark||t.ignore||t.clearMark||(t.mark=e)})}for(let e in t.nodes){let r=t.nodes[e].spec.parseDOM;r&&r.forEach(t=>{n(t=tb(t)),t.node||t.ignore||t.mark||(t.node=e)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new ta(t,ta.schemaRules(t)))}}let tl={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},th={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tc={ol:!0,ul:!0},tu=1,td=2,tp=4;function tf(t,e,n){return null!=e?(e?tu:0)|("full"===e?td:0):t&&"pre"==t.whitespace?tu|td:n&~tp}class tm{constructor(t,e,n,r,i,s){this.type=t,this.attrs=e,this.marks=n,this.solid=r,this.options=s,this.content=[],this.activeMarks=u.none,this.match=i||(s&tp?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(a.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let e=this.type.contentMatch,n;return(n=e.findWrapping(t.type))?(this.match=e,n):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&tu)){let t=this.content[this.content.length-1],e;if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let e=a.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!tl.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class tg{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=e.topNode,i,s=tf(null,e.preserveWhitespace,0)|(n?tp:0);i=r?new tm(r.type,r.attrs,u.none,!0,e.topMatch||r.type.contentMatch,s):n?new tm(null,null,u.none,!0,null,s):new tm(t.schema.topNodeType,null,u.none,!0,null,s),this.nodes=[i],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){3==t.nodeType?this.addTextNode(t,e):1==t.nodeType&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,r=this.top,i=r.options&td?"full":this.localPreserveWS||(r.options&tu)>0,{schema:s}=this.parser;if("full"===i||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(i)if("full"===i)n=n.replace(/\r\n?/g,"\n");else if(s.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(s.linebreakReplacement.create())){let t=n.split(/\r?\n|\r/);for(let n=0;n<t.length;n++)n&&this.insertNode(s.linebreakReplacement.create(),e,!0),t[n]&&this.insertNode(s.text(t[n]),e,!/\S/.test(t[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let e=r.content[r.content.length-1],i=t.previousSibling;(!e||i&&"BR"==i.nodeName||e.isText&&/[ \t\r\n\u000c]$/.test(e.text))&&(n=n.slice(1))}n&&this.insertNode(s.text(n),e,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let r=this.localPreserveWS,i=this.top;("PRE"==t.tagName||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),o;tc.hasOwnProperty(s)&&this.parser.normalizeLists&&ty(t);let a=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,n));e:if(a?a.ignore:th.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,e);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(t=a.skip);let n,r=this.needsBlock;if(tl.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),n=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let o=a&&a.skip?e:this.readStyles(t,e);o&&this.addAll(t,o),n&&this.sync(i),this.needsBlock=r}else{let n=this.readStyles(t,e);n&&this.addElementByRule(t,a,n,!1===a.consuming?o:void 0)}this.localPreserveWS=r}leafFallback(t,e){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"),e)}ignoreFallback(t,e){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let n=t.style;if(n&&n.length)for(let t=0;t<this.parser.matchedStyles.length;t++){let r=this.parser.matchedStyles[t],i=n.getPropertyValue(r);if(i)for(let t;;){let n=this.parser.matchStyle(r,i,this,t);if(!n)break;if(n.ignore)return null;if(e=n.clearMark?e.filter(t=>!n.clearMark(t)):e.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1===n.consuming)t=n;else break}}return e}addElementByRule(t,e,n,r){let i,s;if(e.node)if((s=this.parser.schema.nodes[e.node]).isLeaf)this.insertNode(s.create(e.attrs),n,"BR"==t.nodeName)||this.leafFallback(t,n);else{let t=this.enter(s,e.attrs||null,n,e.preserveWhitespace);t&&(i=!0,n=t)}else{let t=this.parser.schema.marks[e.mark];n=n.concat(t.create(e.attrs))}let o=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,n,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(t=>this.insertNode(t,n,!1));else{let r=t;"string"==typeof e.contentElement?r=t.querySelector(e.contentElement):"function"==typeof e.contentElement?r=e.contentElement(t):e.contentElement&&(r=e.contentElement),this.findAround(t,r,!0),this.addAll(r,n),this.findAround(t,r,!1)}i&&this.sync(o)&&this.open--}addAll(t,e,n,r){let i=n||0;for(let s=n?t.childNodes[n]:t.firstChild,o=null==r?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s,e);this.findAtPoint(t,i)}findPlace(t,e,n){let r,i;for(let e=this.open,s=0;e>=0;e--){let o=this.nodes[e],a=o.findWrapping(t);if(a&&(!r||r.length>a.length+s)&&(r=a,i=o,!a.length))break;if(o.solid){if(n)break;s+=2}}if(!r)return null;this.sync(i);for(let t=0;t<r.length;t++)e=this.enterInner(r[t],null,e,!1);return e}insertNode(t,e,n){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&(e=this.enterInner(t,null,e))}let r=this.findPlace(t,e,n);if(r){this.closeExtra();let e=this.top;e.match&&(e.match=e.match.matchType(t.type));let n=u.none;for(let i of r.concat(t.marks))(e.type?e.type.allowsMarkType(i.type):tx(i.type,t.type))&&(n=i.addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n,r){let i=this.findPlace(t.create(e),n,!1);return i&&(i=this.enterInner(t,e,n,!0,r)),i}enterInner(t,e,n,r=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let o=tf(t,i,s.options);s.options&tp&&0==s.content.length&&(o|=tp);let a=u.none;return n=n.filter(e=>(s.type?!s.type.allowsMarkType(e.type):!tx(e.type,t))||(a=e.addToSet(a),!1)),this.nodes.push(new tm(t,e,a,r,null,o)),this.open++,n}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;else this.localPreserveWS&&(this.nodes[e].options|=tu);return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+ +!r,s=(t,o)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;o>=i;o--)if(s(t-1,o))return!0;return!1}{let t=o>0||0==o&&r?this.nodes[o].type:n&&o>=i?n.node(o-i).type:null;if(!t||t.name!=a&&!t.isInGroup(a))return!1;o--}}return!0};return s(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function ty(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&tc.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}function tv(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function tb(t){let e={};for(let n in t)e[n]=t[n];return e}function tx(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=t=>{s.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:i}=t.edge(n);if(r==e||0>s.indexOf(i)&&o(i))return!0}};if(o(i.contentMatch))return!0}}class tw{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=tS(e).createDocumentFragment());let r=n,i=[];return t.forEach(t=>{if(i.length||t.marks.length){let n=0,s=0;for(;n<i.length&&s<t.marks.length;){let e=t.marks[s];if(!this.marks[e.type.name]){s++;continue}if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,s++}for(;n<i.length;)r=i.pop()[1];for(;s<t.marks.length;){let n=t.marks[s++],o=this.serializeMark(n,t.isInline,e);o&&(i.push([n,r]),r.appendChild(o.dom),r=o.contentDOM||o.dom)}}r.appendChild(this.serializeNodeInner(t,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=tA(tS(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&tA(tS(n),r(t,e),null,t.attrs)}static renderSpec(t,e,n=null,r){return tA(t,e,n,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new tw(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=tk(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return tk(t.marks)}}function tk(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function tS(t){return t.document||window.document}let tC=new WeakMap;function tM(t){let e=tC.get(t);return void 0===e&&tC.set(t,e=tE(t)),e}function tE(t){let e=null;function n(t){if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])e||(e=[]),e.push(t);else for(let e=0;e<t.length;e++)n(t[e]);else for(let e in t)n(t[e])}return n(t),e}function tA(t,e,n,r){let i;if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let s=e[0],o;if("string"!=typeof s)throw RangeError("Invalid array passed to renderSpec");if(r&&(o=tM(r))&&o.indexOf(e)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l=n?t.createElementNS(n,s):t.createElement(s),h=e[1],c=1;if(h&&"object"==typeof h&&null==h.nodeType&&!Array.isArray(h)){for(let t in c=2,h)if(null!=h[t]){let e=t.indexOf(" ");e>0?l.setAttributeNS(t.slice(0,e),t.slice(e+1),h[t]):"style"==t&&l.style?l.style.cssText=h[t]:l.setAttribute(t,h[t])}}for(let s=c;s<e.length;s++){let o=e[s];if(0===o){if(s<e.length-1||s>c)throw RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:e,contentDOM:s}=tA(t,o,n,r);if(l.appendChild(e),s){if(i)throw RangeError("Multiple content holes");i=s}}}return{dom:l,contentDOM:i}}},366:function(t,e,n){"use strict";n.d(e,{$t:()=>E,LN:()=>o,U3:()=>c,hs:()=>D,i5:()=>f,k_:()=>_,nh:()=>d});var r=n(777),i=n(334);let s=Object.create(null);class o{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new a(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=r.Ji.empty){let n=e.content.lastChild,i=null;for(let t=0;t<e.openEnd;t++)i=n,n=n.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:h}=o[a],c=t.mapping.slice(s);t.replaceRange(c.map(l.pos),c.map(h.pos),a?r.Ji.empty:e),0==a&&y(t,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:s,$to:o}=r[i],a=t.mapping.slice(n),l=a.map(s.pos),h=a.map(o.pos);i?t.deleteRange(l,h):(t.replaceRangeWith(l,h,e),y(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new c(t):g(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let r=t.depth-1;r>=0;r--){let i=e<0?g(t.node(0),t.node(r),t.before(r+1),t.index(r),e,n):g(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,e,n);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new f(t.node(0))}static atStart(t){return g(t,t,0,0,1)||new f(t)}static atEnd(t){return g(t,t,t.content.size,t.childCount,-1)||new f(t)}static fromJSON(t,e){if(!e||!e.type)throw RangeError("Invalid input for Selection.fromJSON");let n=s[e.type];if(!n)throw RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in s)throw RangeError("Duplicate use of selection JSON ID "+t);return s[t]=e,e.prototype.jsonID=t,e}getBookmark(){return c.between(this.$anchor,this.$head).getBookmark()}}o.prototype.visible=!0;class a{constructor(t,e){this.$from=t,this.$to=e}}let l=!1;function h(t){l||t.parent.inlineContent||(l=!0)}class c extends o{constructor(t,e=t){h(t),h(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return o.near(n);let r=t.resolve(e.map(this.anchor));return new c(r.parent.inlineContent?r:n,n)}replace(t,e=r.Ji.empty){if(super.replace(t,e),e==r.Ji.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof c&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new u(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new c(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if((!n||r)&&(n=r>=0?1:-1),!e.parent.inlineContent){let t=o.findFrom(e,n,!0)||o.findFrom(e,-n,!0);if(!t)return o.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r?t=e:(t=(o.findFrom(t,-n,!0)||o.findFrom(t,n,!0)).$anchor).pos<e.pos!=r<0&&(t=e)),new c(t,e)}}o.jsonID("text",c);class u{constructor(t,e){this.anchor=t,this.head=e}map(t){return new u(t.map(this.anchor),t.map(this.head))}resolve(t){return c.between(t.resolve(this.anchor),t.resolve(this.head))}}class d extends o{constructor(t){let e=t.nodeAfter;super(t,t.node(0).resolve(t.pos+e.nodeSize)),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),i=t.resolve(r);return n?o.near(i):new d(i)}content(){return new r.Ji(r.FK.from(this.node),0,0)}eq(t){return t instanceof d&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new p(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new d(t.resolve(e.anchor))}static create(t,e){return new d(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}d.prototype.visible=!1,o.jsonID("node",d);class p{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new u(n,n):new p(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&d.isSelectable(n)?new d(e):o.near(e)}}class f extends o{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=r.Ji.empty){if(e==r.Ji.empty){t.delete(0,t.doc.content.size);let e=o.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new f(t)}map(t){return new f(t)}eq(t){return t instanceof f}getBookmark(){return m}}o.jsonID("all",f);let m={map(){return this},resolve:t=>new f(t)};function g(t,e,n,r,i,s=!1){if(e.inlineContent)return c.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let r=e.child(o);if(r.isAtom){if(!s&&d.isSelectable(r))return d.create(t,n-(i<0?r.nodeSize:0))}else{let e=g(t,r,n+i,i<0?r.childCount:0,i,s);if(e)return e}n+=r.nodeSize*i}return null}function y(t,e,n){let r,s=t.steps.length-1;if(s<e)return;let a=t.steps[s];(a instanceof i.Ln||a instanceof i.Wg)&&(t.mapping.maps[s].forEach((t,e,n,i)=>{null==r&&(r=i)}),t.setSelection(o.near(t.doc.resolve(r),n)))}let v=1,b=2,x=4;class w extends i.dL{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|v)&~b,this.storedMarks=null,this}get selectionSet(){return(this.updated&v)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=b,this}ensureMarks(t){return r.CU.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&b)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~b,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.CU.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),!t)return this.deleteRange(e,n);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.selection.to!=e+t.length||this.setSelection(o.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=x,this}get scrolledIntoView(){return(this.updated&x)>0}}function k(t,e){return e&&t?t.bind(e):t}class S{constructor(t,e,n){this.name=t,this.init=k(e.init,n),this.apply=k(e.apply,n)}}let C=[new S("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new S("selection",{init:(t,e)=>t.selection||o.atStart(e.doc),apply:t=>t.selection}),new S("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,n,r)=>r.selection.$cursor?t.storedMarks:null}),new S("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})];class M{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=C.slice(),e&&e.forEach(t=>{if(this.pluginsByKey[t.key])throw RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new S(t.key,t.spec.state,t))})}}class E{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let o=this.config.plugins[s];if(o.spec.appendTransaction){let a=r?r[s].n:0,l=r?r[s].state:this,h=a<e.length&&o.spec.appendTransaction.call(o,a?e.slice(a):e,l,n);if(h&&n.filterTransaction(h,s)){if(h.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<s?{state:n,n:e.length}:{state:this,n:0})}e.push(h),n=n.applyInner(h),i=!0}r&&(r[s]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let e=new E(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new w(this)}static create(t){let e=new M(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new E(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new M(this.schema,t.plugins),n=e.fields,r=new E(e);for(let e=0;e<n.length;e++){let i=n[e].name;r[i]=this.hasOwnProperty(i)?this[i]:n[e].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(t=>t.toJSON())),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw RangeError("Required config field 'schema' missing");let i=new M(t.schema,t.plugins),s=new E(i);return i.fields.forEach(i=>{if("doc"==i.name)s.doc=r.bP.fromJSON(t.schema,e.doc);else if("selection"==i.name)s.selection=o.fromJSON(s.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let o=n[r],a=o.spec.state;if(o.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,r)){s[i.name]=a.fromJSON.call(o,t,e[r],s);return}}s[i.name]=i.init(t,s)}}),s}}function A(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=A(i,e,{})),n[r]=i}return n}class _{constructor(t){this.spec=t,this.props={},t.props&&A(t.props,this,this.props),this.key=t.key?t.key.key:P("plugin")}getState(t){return t[this.key]}}let T=Object.create(null);function P(t){return t in T?t+"$"+ ++T[t]:(T[t]=0,t+"$")}class D{constructor(t="key"){this.key=P(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},334:function(t,e,n){"use strict";n.d(e,{$L:()=>Z,Ln:()=>C,N0:()=>J,Um:()=>X,Wg:()=>M,X9:()=>m,Ys:()=>w,dL:()=>tg,jP:()=>D,n9:()=>W,oM:()=>O,zy:()=>H});var r=n(777);let i=65535,s=65536;function o(t,e){return t+e*s}function a(t){return t&i}function l(t){return(t-(t&i))/s}let h=1,c=2,u=4,d=8;class p{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&d)>0}get deletedBefore(){return(this.delInfo&(h|u))>0}get deletedAfter(){return(this.delInfo&(c|u))>0}get deletedAcross(){return(this.delInfo&u)>0}}class f{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&f.empty)return f.empty}recover(t){let e=0,n=a(t);if(!this.inverted)for(let t=0;t<n;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*n]+e+l(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let f=this.ranges[a+i],m=this.ranges[a+s],g=l+f;if(t<=g){let i=f?t==l?-1:t==g?1:e:e,s=l+r+(i<0?0:m);if(n)return s;let y=t==(e<0?l:g)?null:o(a/3,t-l),v=t==l?c:t==g?h:u;return(e<0?t!=l:t!=g)&&(v|=d),new p(s,v,y)}r+=m-f}return n?t+r:new p(t+r,0,null)}touches(t,e){let n=0,r=a(e),i=this.inverted?2:1,s=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let o=this.ranges[e]-(this.inverted?n:0);if(o>t)break;let a=this.ranges[e+i];if(t<=o+a&&e==3*r)return!0;n+=this.ranges[e+s]-a}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let s=this.ranges[r],o=s-(this.inverted?i:0),a=s+(this.inverted?0:i),l=this.ranges[r+e],h=this.ranges[r+n];t(o,o+l,a,a+h),i+=h-l}}invert(){return new f(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?f.empty:new f(t<0?[0,-t,0]:[0,0,t])}}f.empty=new f([]);class m{constructor(t,e,n=0,r=t?t.length:0){this.mirror=e,this.from=n,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new m(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),null!=e&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,n=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new m;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this._maps[n].mapResult(t,e);if(null!=i.recover){let e=this.getMirror(n);if(null!=e&&e>n&&e<this.to){n=e,t=this._maps[e].recover(i.recover);continue}}r|=i.delInfo,t=i.pos}return n?t:new p(t,r,null)}}let g=Object.create(null);class y{getMap(){return f.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw RangeError("Invalid input for Step.fromJSON");let n=g[e.stepType];if(!n)throw RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in g)throw RangeError("Duplicate use of step JSON ID "+t);return g[t]=e,e.prototype.jsonID=t,e}}class v{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new v(t,null)}static fail(t){return new v(null,t)}static fromReplace(t,e,n,i){try{return v.ok(t.replace(e,n,i))}catch(t){if(t instanceof r.vI)return v.fail(t.message);throw t}}}function b(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(b(s.content,e,s))),s.isInline&&(s=e(s,n,r)),i.push(s)}return r.FK.fromArray(i)}class x extends y{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new r.Ji(b(e.content,(t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t,i),e.openStart,e.openEnd);return v.fromReplace(t,this.from,this.to,s)}invert(){return new w(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new x(e.pos,n.pos,this.mark)}merge(t){return t instanceof x&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new x(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new x(e.from,e.to,t.markFromJSON(e.mark))}}y.jsonID("addMark",x);class w extends y{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new r.Ji(b(e.content,t=>t.mark(this.mark.removeFromSet(t.marks)),t),e.openStart,e.openEnd);return v.fromReplace(t,this.from,this.to,n)}invert(){return new x(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new w(e.pos,n.pos,this.mark)}merge(t){return t instanceof w&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new w(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new w(e.from,e.to,t.markFromJSON(e.mark))}}y.jsonID("removeMark",w);class k extends y{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return v.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return v.fromReplace(t,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,+!e.isLeaf))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new k(this.pos,e.marks[n]);return new k(this.pos,this.mark)}}return new S(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new k(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new k(e.pos,t.markFromJSON(e.mark))}}y.jsonID("addNodeMark",k);class S extends y{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return v.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return v.fromReplace(t,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,+!e.isLeaf))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new k(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new S(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new S(e.pos,t.markFromJSON(e.mark))}}y.jsonID("removeNodeMark",S);class C extends y{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&E(t,this.from,this.to)?v.fail("Structure replace would overwrite content"):v.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new f([this.from,this.to-this.from,this.slice.size])}invert(t){return new C(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new C(e.pos,Math.max(e.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof C)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart)if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;else{let e=this.slice.size+t.slice.size==0?r.Ji.empty:new r.Ji(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new C(t.from,this.to,e,this.structure)}{let e=this.slice.size+t.slice.size==0?r.Ji.empty:new r.Ji(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new C(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new C(e.from,e.to,r.Ji.fromJSON(t,e.slice),!!e.structure)}}y.jsonID("replace",C);class M extends y{constructor(t,e,n,r,i,s,o=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=s,this.structure=o}apply(t){if(this.structure&&(E(t,this.from,this.gapFrom)||E(t,this.gapTo,this.to)))return v.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return v.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?v.fromReplace(t,this.from,this.to,n):v.fail("Content does not fit in gap")}getMap(){return new f([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new M(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||i>n.pos?null:new M(e.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new M(e.from,e.to,e.gapFrom,e.gapTo,r.Ji.fromJSON(t,e.slice),e.insert,!!e.structure)}}function E(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let t=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function A(t,e,n,r){let i,s,o=[],a=[];t.doc.nodesBetween(e,n,(t,l,h)=>{if(!t.isInline)return;let c=t.marks;if(!r.isInSet(c)&&h.type.allowsMarkType(r.type)){let h=Math.max(l,e),u=Math.min(l+t.nodeSize,n),d=r.addToSet(c);for(let t=0;t<c.length;t++)c[t].isInSet(d)||(i&&i.to==h&&i.mark.eq(c[t])?i.to=u:o.push(i=new w(h,u,c[t])));s&&s.to==h?s.to=u:a.push(s=new x(h,u,r))}}),o.forEach(e=>t.step(e)),a.forEach(e=>t.step(e))}function _(t,e,n,i){let s=[],o=0;t.doc.nodesBetween(e,n,(t,a)=>{if(!t.isInline)return;o++;let l=null;if(i instanceof r.sX){let e=t.marks,n;for(;n=i.isInSet(e);)(l||(l=[])).push(n),e=n.removeFromSet(e)}else i?i.isInSet(t.marks)&&(l=[i]):l=t.marks;if(l&&l.length){let r=Math.min(a+t.nodeSize,n);for(let t=0;t<l.length;t++){let n=l[t],i;for(let t=0;t<s.length;t++){let e=s[t];e.step==o-1&&n.eq(s[t].style)&&(i=e)}i?(i.to=r,i.step=o):s.push({style:n,from:Math.max(a,e),to:r,step:o})}}}),s.forEach(e=>t.step(new w(e.from,e.to,e.style)))}function T(t,e,n,i=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),a=[],l=e+1;for(let e=0;e<o.childCount;e++){let h=o.child(e),c=l+h.nodeSize,u=i.matchType(h.type);if(u){i=u;for(let e=0;e<h.marks.length;e++)n.allowsMarkType(h.marks[e].type)||t.step(new w(l,c,h.marks[e]));if(s&&h.isText&&"pre"!=n.whitespace){let t,e=/\r?\n|\r/g,i;for(;t=e.exec(h.text);)i||(i=new r.Ji(r.FK.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),a.push(new C(l+t.index,l+t.index+t[0].length,i))}}else a.push(new C(l,c,r.Ji.empty));l=c}if(!i.validEnd){let e=i.fillBefore(r.FK.empty,!0);t.replace(l,l,new r.Ji(e,0,0))}for(let e=a.length-1;e>=0;e--)t.step(a[e])}function P(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function D(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,r=0,i=0;;--n){let s=t.$from.node(n),o=t.$from.index(n)+r,a=t.$to.indexAfter(n)-i;if(n<t.depth&&s.canReplace(o,a,e))return n;if(0==n||s.type.spec.isolating||!P(s,o,a))break;o&&(r=1),a<s.childCount&&(i=1)}return null}function N(t,e,n){let{$from:i,$to:s,depth:o}=e,a=i.before(o+1),l=s.after(o+1),h=a,c=l,u=r.FK.empty,d=0;for(let t=o,e=!1;t>n;t--)e||i.index(t)>0?(e=!0,u=r.FK.from(i.node(t).copy(u)),d++):h--;let p=r.FK.empty,f=0;for(let t=o,e=!1;t>n;t--)e||s.after(t+1)<s.end(t)?(e=!0,p=r.FK.from(s.node(t).copy(p)),f++):c++;t.step(new M(h,c,a,l,new r.Ji(u.append(p),d,f),u.size-d,!0))}function O(t,e,n=null,r=t){let i=L(t,e),s=i&&z(r,e);return s?i.map(I).concat({type:e,attrs:n}).concat(s.map(I)):null}function I(t){return{type:t,attrs:null}}function L(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function z(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let t=r;a&&t<i;t++)a=a.matchType(n.child(t).type);return a&&a.validEnd?o:null}function R(t,e,n){let i=r.FK.empty;for(let t=n.length-1;t>=0;t--){if(i.size){let e=n[t].type.contentMatch.matchFragment(i);if(!e||!e.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.FK.from(n[t].type.create(n[t].attrs,i))}let s=e.start,o=e.end;t.step(new M(s,o,s,o,new r.Ji(i,0,0),n.length,!0))}function F(t,e,n,i,s){if(!i.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(e,n)=>{let a="function"==typeof s?s(e):s;if(e.isTextblock&&!e.hasMarkup(i,a)&&V(t.doc,t.mapping.slice(o).map(n),i)){let s=null;if(i.schema.linebreakReplacement){let t="pre"==i.whitespace,e=!!i.contentMatch.matchType(i.schema.linebreakReplacement);t&&!e?s=!1:!t&&e&&(s=!0)}!1===s&&j(t,e,n,o),T(t,t.mapping.slice(o).map(n,1),i,void 0,null===s);let l=t.mapping.slice(o),h=l.map(n,1),c=l.map(n+e.nodeSize,1);return t.step(new M(h,c,h+1,c-1,new r.Ji(r.FK.from(i.create(a,null,e.marks)),0,0),1,!0)),!0===s&&B(t,e,n,o),!1}})}function B(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let i=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(i,i+1,e.type.schema.linebreakReplacement.create())}}})}function j(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let i=t.mapping.slice(r).map(n+1+s);t.replaceWith(i,i+1,e.type.schema.text("\n"))}})}function V(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function $(t,e,n,i,s){let o=t.doc.nodeAt(e);if(!o)throw RangeError("No node at given position");n||(n=o.type);let a=n.create(i,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw RangeError("Invalid content for node type "+n.name);t.step(new M(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new r.Ji(r.FK.from(a),0,0),1,!0))}function H(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,e=n-2;t>s;t--,e--){let n=i.node(t),s=i.index(t);if(n.type.spec.isolating)return!1;let o=n.content.cutByIndex(s,n.childCount),a=r&&r[e+1];a&&(o=o.replaceChild(0,a.type.create(a.attrs)));let l=r&&r[e]||n;if(!n.canReplace(s+1,n.childCount)||!l.type.validContent(o))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function q(t,e,n=1,i){let s=t.doc.resolve(e),o=r.FK.empty,a=r.FK.empty;for(let t=s.depth,e=s.depth-n,l=n-1;t>e;t--,l--){o=r.FK.from(s.node(t).copy(o));let e=i&&i[l];a=r.FK.from(e?e.type.create(e.attrs,a):s.node(t).copy(a))}t.step(new C(e,e,new r.Ji(o.append(a),n,n),!0))}function W(t,e){let n=t.resolve(e),r=n.index();return U(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function K(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(!(n=n.matchType(o))||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function U(t,e){return!!(t&&e&&!t.isLeaf&&K(t,e))}function J(t,e,n=-1){let r=t.resolve(e);for(let t=r.depth;;t--){let i,s,o=r.index(t);if(t==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(t+1),o++,s=r.node(t).maybeChild(o)):(i=r.node(t).maybeChild(o-1),s=r.node(t+1)),i&&!i.isTextblock&&U(i,s)&&r.node(t).canReplace(o,o+1))return e;if(0==t)break;e=n<0?r.before(t):r.after(t)}}function G(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),a=o.node().type;if(s&&a.inlineContent){let t="pre"==a.whitespace,e=!!a.contentMatch.matchType(s);t&&!e?i=!1:!t&&e&&(i=!0)}let l=t.steps.length;if(!1===i){let r=t.doc.resolve(e+n);j(t,r.node(),r.before(),l)}a.inlineContent&&T(t,e+n-1,a,o.node().contentMatchAt(o.index()),null==i);let h=t.mapping.slice(l),c=h.map(e-n);if(t.step(new C(c,h.map(e+n,-1),r.Ji.empty,!0)),!0===i){let e=t.doc.resolve(c);B(t,e.node(),e.before(),t.steps.length)}return t}function Y(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let t=r.depth-1;t>=0;t--){let e=r.index(t);if(r.node(t).canReplaceWith(e,e,n))return r.before(t+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let t=r.depth-1;t>=0;t--){let e=r.indexAfter(t);if(r.node(t).canReplaceWith(e,e,n))return r.after(t+1);if(e<r.node(t).childCount)break}return null}function X(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let t=0;t<n.openStart;t++)i=i.firstChild.content;for(let t=1;t<=(0==n.openStart&&n.size?2:1);t++)for(let e=r.depth;e>=0;e--){let n=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,s=r.index(e)+ +(n>0),o=r.node(e),a=!1;if(1==t)a=o.canReplace(s,s,i);else{let t=o.contentMatchAt(s).findWrapping(i.firstChild.type);a=t&&o.canReplaceWith(s,s,t[0])}if(a)return 0==n?r.pos:n<0?r.before(e+1):r.after(e+1)}return null}function Z(t,e,n=e,i=r.Ji.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),o=t.resolve(n);return Q(s,o,i)?new C(e,n,i):new tt(s,o,i).fit()}function Q(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}y.jsonID("replaceAround",M);class tt{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r.FK.empty;for(let e=0;e<=t.depth;e++){let n=t.node(e);this.frontier.push({type:n.type,match:n.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=r.FK.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let s=this.placed,o=n.depth,a=i.depth;for(;o&&a&&1==s.childCount;)s=s.firstChild.content,o--,a--;let l=new r.Ji(s,o,a);return t>-1?new M(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new C(n.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let i=e.firstChild;if(e.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){t=n;break}e=i.content}for(let e=1;e<=2;e++)for(let n=1==e?t:this.unplaced.openStart;n>=0;n--){let t,i=null,s=(t=n?(i=tr(this.unplaced.content,n-1).firstChild).content:this.unplaced.content).firstChild;for(let t=this.depth;t>=0;t--){let{type:o,match:a}=this.frontier[t],l,h=null;if(1==e&&(s?a.matchType(s.type)||(h=a.fillBefore(r.FK.from(s),!1)):i&&o.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:t,parent:i,inject:h};if(2==e&&s&&(l=a.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:t,parent:i,wrap:l};if(i&&a.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tr(t,e);return!!i.childCount&&!i.firstChild.isLeaf&&(this.unplaced=new r.Ji(t,e+1,Math.max(n,i.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tr(t,e);if(i.childCount<=1&&e>0){let s=t.size-e<=e+i.size;this.unplaced=new r.Ji(te(t,e-1,1),e-1,s?e-1:n)}else this.unplaced=new r.Ji(te(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:i,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let t=0;t<s.length;t++)this.openFrontierNode(s[t]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-t,h=0,c=[],{match:u,type:d}=this.frontier[e];if(i){for(let t=0;t<i.childCount;t++)c.push(i.child(t));u=u.matchFragment(i)}let p=a.size+t-(o.content.size-o.openEnd);for(;h<a.childCount;){let t=a.child(h),e=u.matchType(t.type);if(!e)break;(++h>1||0==l||t.content.size)&&(u=e,c.push(ti(t.mark(d.allowedMarks(t.marks)),1==h?l:0,h==a.childCount?p:-1)))}let f=h==a.childCount;f||(p=-1),this.placed=tn(this.placed,e,r.FK.from(c)),this.frontier[e].match=u,f&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,e=a;t<p;t++){let t=e.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=f?0==t?r.Ji.empty:new r.Ji(te(o.content,t-1,1),t-1,p<0?o.openEnd:t-1):new r.Ji(te(o.content,t,h),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!ts(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return -1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){n:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=ts(t,e,r,n,i);if(s){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],i=ts(t,n,r,e,!0);if(!i||i.childCount)continue n}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=tn(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=tn(this.placed,this.depth,r.FK.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(r.FK.empty,!0);t.childCount&&(this.placed=tn(this.placed,this.frontier.length,t))}}function te(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(te(t.firstChild.content,e-1,n)))}function tn(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(tn(t.lastChild.content,e-1,n)))}function tr(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function ti(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,ti(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.FK.empty,!0)))),t.copy(i)}function ts(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!to(n,s.content,o)?a:null}function to(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ta(t){return t.spec.defining||t.spec.definingForContent}function tl(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(Q(s,o,i))return t.step(new C(e,n,i));let a=td(s,o);0==a[a.length-1]&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let t=s.depth,e=s.pos-1;t>0;t--,e--){let n=s.node(t).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(t)>-1?l=t:s.before(t)==e&&a.splice(1,0,-t)}let h=a.indexOf(l),c=[],u=i.openStart;for(let t=i.content,e=0;;e++){let n=t.firstChild;if(c.push(n),e==i.openStart)break;t=n.content}for(let t=u-1;t>=0;t--){let e=c[t],n=ta(e.type);if(n&&!e.sameMarkup(s.node(Math.abs(l)-1)))u=t;else if(n||!e.type.isTextblock)break}for(let e=i.openStart;e>=0;e--){let l=(e+u+1)%(i.openStart+1),d=c[l];if(d)for(let e=0;e<a.length;e++){let c=a[(e+h)%a.length],u=!0;c<0&&(u=!1,c=-c);let p=s.node(c-1),f=s.index(c-1);if(p.canReplaceWith(f,f,d.type,d.marks))return t.replace(s.before(c),u?o.after(c):n,new r.Ji(th(i.content,0,i.openStart,l),l,i.openEnd))}}let d=t.steps.length;for(let r=a.length-1;r>=0&&(t.replace(e,n,i),!(t.steps.length>d));r--){let t=a[r];t<0||(e=s.before(t),n=o.after(t))}}function th(t,e,n,i,s){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(th(r.content,e+1,n,i,r)))}if(e>i){let e=s.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.FK.empty,!0))}return t}function tc(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=Y(t.doc,e,i.type);null!=r&&(e=n=r)}t.replaceRange(e,n,new r.Ji(r.FK.from(i),0,0))}function tu(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=td(r,i);for(let e=0;e<s.length;e++){let n=s[e],o=e==s.length-1;if(o&&0==n||r.node(n).type.contentMatch.validEnd)return t.delete(r.start(n),i.end(n));if(n>0&&(o||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return t.delete(r.before(n),i.after(n))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function td(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let r=t.start(i);if(r<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(r==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==r-1)&&n.push(i)}return n}class tp extends y{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return v.fail("No node at attribute step's position");let n=Object.create(null);for(let t in e.attrs)n[t]=e.attrs[t];n[this.attr]=this.value;let i=e.type.create(n,null,e.marks);return v.fromReplace(t,this.pos,this.pos+1,new r.Ji(r.FK.from(i),0,+!e.isLeaf))}getMap(){return f.empty}invert(t){return new tp(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new tp(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new tp(e.pos,e.attr,e.value)}}y.jsonID("attr",tp);class tf extends y{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let n in t.attrs)e[n]=t.attrs[n];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return v.ok(n)}getMap(){return f.empty}invert(t){return new tf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new tf(e.attr,e.value)}}y.jsonID("docAttr",tf);let tm=class extends Error{};(tm=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n}).prototype=Object.create(Error.prototype),tm.prototype.constructor=tm,tm.prototype.name="TransformError";class tg{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new m}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new tm(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=r.Ji.empty){let i=Z(this.doc,t,e,n);return i&&this.step(i),this}replaceWith(t,e,n){return this.replace(t,e,new r.Ji(r.FK.from(n),0,0))}delete(t,e){return this.replace(t,e,r.Ji.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return tl(this,t,e,n),this}replaceRangeWith(t,e,n){return tc(this,t,e,n),this}deleteRange(t,e){return tu(this,t,e),this}lift(t,e){return N(this,t,e),this}join(t,e=1){return G(this,t,e),this}wrap(t,e){return R(this,t,e),this}setBlockType(t,e=t,n,r=null){return F(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r){return $(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new tp(t,e,n)),this}setDocAttribute(t,e){return this.step(new tf(t,e)),this}addNodeMark(t,e){return this.step(new k(t,e)),this}removeNodeMark(t,e){let n=this.doc.nodeAt(t);if(!n)throw RangeError("No node at position "+t);if(e instanceof r.CU)e.isInSet(n.marks)&&this.step(new S(t,e));else{let r=n.marks,i,s=[];for(;i=e.isInSet(r);)s.push(new S(t,i)),r=i.removeFromSet(r);for(let t=s.length-1;t>=0;t--)this.step(s[t])}return this}split(t,e=1,n){return q(this,t,e,n),this}addMark(t,e,n){return A(this,t,e,n),this}removeMark(t,e,n){return _(this,t,e,n),this}clearIncompatible(t,e,n){return T(this,t,e,n),this}}},679:function(t,e,n){"use strict";n.d(e,{Lz:()=>n0,NZ:()=>nv,zF:()=>nw});var r=n(366),i=n(777),s=n(334);let o=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},a=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},l=null,h=function(t,e,n){let r=l||(l=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},c=function(){l=null},u=function(t,e,n,r){return n&&(p(t,e,n,r,-1)||p(t,e,n,r,1))},d=/^(img|br|input|textarea|hr)$/i;function p(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:f(t))){let n=t.parentNode;if(!n||1!=n.nodeType||v(t)||d.test(t.nodeName)||"false"==t.contentEditable)return!1;e=o(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;let n=t.childNodes[e+(i<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable)if(null==(s=n.pmViewDesc)||!s.ignoreForSelection)return!1;else e+=i;else t=n,e=i<0?f(t):0}}}function f(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function m(t,e){for(;;){if(3==t.nodeType&&e)return t;if(1==t.nodeType&&e>0){if("false"==t.contentEditable)return null;e=f(t=t.childNodes[e-1])}else{if(!t.parentNode||v(t))return null;e=o(t),t=t.parentNode}}}function g(t,e){for(;;){if(3==t.nodeType&&e<t.nodeValue.length)return t;if(1==t.nodeType&&e<t.childNodes.length){if("false"==t.contentEditable)return null;t=t.childNodes[e],e=0}else{if(!t.parentNode||v(t))return null;e=o(t)+1,t=t.parentNode}}}function y(t,e,n){for(let r=0==e,i=e==f(t);r||i;){if(t==n)return!0;let e=o(t);if(!(t=t.parentNode))return!1;r=r&&0==e,i=i&&e==f(t)}}function v(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}let b=function(t){return t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function x(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function w(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function k(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(f(r.offsetNode),r.offset)}}catch(t){}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(f(r.startContainer),r.startOffset)}}}let S="undefined"!=typeof navigator?navigator:null,C="undefined"!=typeof document?document:null,M=S&&S.userAgent||"",E=/Edge\/(\d+)/.exec(M),A=/MSIE \d/.exec(M),_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(M),T=!!(A||_||E),P=A?document.documentMode:_?+_[1]:E?+E[1]:0,D=!T&&/gecko\/(\d+)/i.test(M);D&&(/Firefox\/(\d+)/.exec(M)||[0,0])[1];let N=!T&&/Chrome\/(\d+)/.exec(M),O=!!N,I=N?+N[1]:0,L=!T&&!!S&&/Apple Computer/.test(S.vendor),z=L&&(/Mobile\/\w+/.test(M)||!!S&&S.maxTouchPoints>2),R=z||!!S&&/Mac/.test(S.platform),F=!!S&&/Win/.test(S.platform),B=/Android \d/.test(M),j=!!C&&"webkitFontSmoothing"in C.documentElement.style,V=j?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function H(t,e){return"number"==typeof t?t:t[e]}function q(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function W(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(1!=o.nodeType){o=a(o);continue}let t=o,n=t==s.body,l=n?$(s):q(t),h=0,c=0;if(e.top<l.top+H(r,"top")?c=-(l.top-e.top+H(i,"top")):e.bottom>l.bottom-H(r,"bottom")&&(c=e.bottom-e.top>l.bottom-l.top?e.top+H(i,"top")-l.top:e.bottom-l.bottom+H(i,"bottom")),e.left<l.left+H(r,"left")?h=-(l.left-e.left+H(i,"left")):e.right>l.right-H(r,"right")&&(h=e.right-l.right+H(i,"right")),h||c)if(n)s.defaultView.scrollBy(h,c);else{let n=t.scrollLeft,r=t.scrollTop;c&&(t.scrollTop+=c),h&&(t.scrollLeft+=h);let i=t.scrollLeft-n,s=t.scrollTop-r;e={left:e.left-i,top:e.top-s,right:e.right-i,bottom:e.bottom-s}}let u=n?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(u))break;o="absolute"==u?o.offsetParent:a(o)}}function K(t){let e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let s=(r.left+r.right)/2,o=i+1;o<Math.min(innerHeight,r.bottom);o+=5){let r=t.root.elementFromPoint(s,o);if(!r||r==t.dom||!t.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=i-20){e=r,n=a.top;break}}return{refDOM:e,refTop:n,stack:U(t.dom)}}function U(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=a(r));return e}function J({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;G(n,0==r?0:r-e)}function G(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Y=null;function X(t){if(t.setActive)return t.setActive();if(Y)return t.focus(Y);let e=U(t);t.focus(null==Y?{get preventScroll(){return Y={preventScroll:!0},!0}}:void 0),Y||(Y=!1,G(e,0))}function Z(t,e){let n,r,i,s=2e8,o,a=0,l=e.top,c=e.top;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let t;if(1==u.nodeType)t=u.getClientRects();else{if(3!=u.nodeType)continue;t=h(u).getClientRects()}for(let h=0;h<t.length;h++){let p=t[h];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let t=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(t<s){i=u,s=t,o=t&&3==i.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==u.nodeType&&t&&(a=d+ +(e.left>=(p.left+p.right)/2));continue}}else p.top>e.top&&!n&&p.left<=e.left&&p.right>=e.left&&(n=u,r={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!i&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(a=d+1)}}return(!i&&n&&(i=n,o=r,s=0),i&&3==i.nodeType)?Q(i,o):!i||s&&1==i.nodeType?{node:t,offset:a}:Z(i,o)}function Q(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let n=ta(r,1);if(n.top!=n.bottom&&tt(e,n)){i={node:t,offset:s+ +(e.left>=(n.left+n.right)/2)};break}}return r.detach(),i||{node:t,offset:0}}function tt(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function te(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function tn(t,e,n){let{node:r,offset:i}=Z(e,n),s=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();s=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function tr(t,e,n,r){let i=-1;for(let n=e,s=!1;n!=t.dom;){let e=t.docView.nearestDesc(n,!0),o;if(!e)return null;if(1==e.dom.nodeType&&(e.node.isBlock&&e.parent||!e.contentDOM)&&((o=e.dom.getBoundingClientRect()).width||o.height)&&(e.node.isBlock&&e.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(e.dom.nodeName)&&(!s&&o.left>r.left||o.top>r.top?i=e.posBefore:(!s&&o.right<r.left||o.bottom<r.top)&&(i=e.posAfter),s=!0),!e.contentDOM&&i<0&&!e.node.isText))return(e.node.isBlock?r.top<(o.top+o.bottom)/2:r.left<(o.left+o.right)/2)?e.posBefore:e.posAfter;n=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function ti(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let n=t.childNodes[s];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let i=t[r];if(tt(e,i))return ti(n,e,i)}}if((s=(s+1)%r)==i)break}return t}function ts(t,e){let n,r=t.dom.ownerDocument,i,s=0,o=k(r,e.left,e.top);o&&({node:i,offset:s}=o);let l=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){let n=t.dom.getBoundingClientRect();if(!tt(e,n)||!(l=ti(t.dom,e,n)))return null}if(L)for(let t=l;i&&t;t=a(t))t.draggable&&(i=void 0);if(l=te(l,e),i){let r;if(D&&1==i.nodeType&&(s=Math.min(s,i.childNodes.length))<i.childNodes.length){let t=i.childNodes[s],n;"IMG"==t.nodeName&&(n=t.getBoundingClientRect()).right<=e.left&&n.bottom>e.top&&s++}j&&s&&1==i.nodeType&&1==(r=i.childNodes[s-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?n=t.state.doc.content.size:(0==s||1!=i.nodeType||"BR"!=i.childNodes[s-1].nodeName)&&(n=tr(t,i,s,e))}null==n&&(n=tn(t,l,e));let h=t.docView.nearestDesc(l,!0);return{pos:n,inside:h?h.posAtStart-h.border:-1}}function to(t){return t.top<t.bottom||t.left<t.right}function ta(t,e){let n=t.getClientRects();if(n.length){let t=n[e<0?0:n.length-1];if(to(t))return t}return Array.prototype.find.call(n,to)||t.getBoundingClientRect()}let tl=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function th(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=j||D;if(3==r.nodeType)if(o&&(tl.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let t=ta(h(r,i,i),n);if(D&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let e=ta(h(r,i-1,i-1),-1);if(e.top==t.top){let n=ta(h(r,i,i+1),-1);if(n.top!=t.top)return tc(n,n.left<e.left)}}return t}else{let t=i,e=i,s=n<0?1:-1;return n<0&&!i?(e++,s=-1):n>=0&&i==r.nodeValue.length?(t--,s=1):n<0?t--:e++,tc(ta(h(r,t,e),s),s<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(null==s&&i&&(n<0||i==f(r))){let t=r.childNodes[i-1];if(1==t.nodeType)return tu(t.getBoundingClientRect(),!1)}if(null==s&&i<f(r)){let t=r.childNodes[i];if(1==t.nodeType)return tu(t.getBoundingClientRect(),!0)}return tu(r.getBoundingClientRect(),n>=0)}if(null==s&&i&&(n<0||i==f(r))){let t=r.childNodes[i-1],e=3==t.nodeType?h(t,f(t)-!o):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return tc(ta(e,1),!1)}if(null==s&&i<f(r)){let t=r.childNodes[i];for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling;let e=t?3==t.nodeType?h(t,0,+!o):1==t.nodeType?t:null:null;if(e)return tc(ta(e,-1),!0)}return tc(ta(3==r.nodeType?h(r):r,-n),n>=0)}function tc(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function tu(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function td(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function tp(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return td(t,e,()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.contentDOM||n.dom;break}e=n.dom.parentNode}let r=th(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=h(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>(i.bottom-r.top)*2:i.bottom-r.bottom>(r.bottom-i.top)*2))return!1}}return!0})}let tf=/[\u0590-\u08ac]/;function tm(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?tf.test(r.parent.textContent)&&a.modify?td(t,e,()=>{let{focusNode:e,focusOffset:i,anchorNode:s,anchorOffset:o}=t.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:c,focusOffset:u}=t.domSelectionRange(),d=c&&!h.contains(1==c.nodeType?c:c.parentNode)||e==c&&i==u;try{a.collapse(s,o),e&&(e!=s||i!=o)&&a.extend&&a.extend(e,i)}catch(t){}return null!=l&&(a.caretBidiLevel=l),d}):"left"==n||"backward"==n?s:o:r.pos==r.start()||r.pos==r.end()}let tg=null,ty=null,tv=!1;function tb(t,e,n){return tg==e&&ty==n?tv:(tg=e,ty=n,tv="up"==n||"down"==n?tp(t,e,n):tm(t,e,n))}let tx=0,tw=1,tk=2,tS=3;class tC{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=tx,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){let r;if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode))if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}else{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.nextSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}if(t==this.dom&&this.contentDOM)r=e>o(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let i=this.getDesc(r),s;if(i&&(!e||i.node))if(!n||!(s=i.nodeDOM)||(1==s.nodeType?s.contains(1==t.nodeType?t:t.parentNode):s==t))return i;else n=!1}}getDesc(t){let e=t.pmViewDesc;for(let t=e;t;t=t.parent)if(t==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return -1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)for(let t=0;t<r.children.length;t++){let e=r.children[t];if(e.size){r=e;break}}return r}if(t<i)return r.descAt(t-n-r.border);n=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let e=0;n<this.children.length;n++){let i=this.children[n],s=e+i.size;if(s>t||i instanceof tD){r=t-e;break}e=s}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let t;n&&!(t=this.children[n-1]).size&&t instanceof tM&&t.side>=0;n--);if(e<=0){let t,r=!0;for(;(t=n?this.children[n-1]:null)&&t.dom.parentNode!=this.contentDOM;n--,r=!1);return t&&e&&r&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?o(t.dom)+1:0}}{let t,r=!0;for(;(t=n<this.children.length?this.children[n]:null)&&t.dom.parentNode!=this.contentDOM;n++,r=!1);return t&&r&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?o(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let s=n,a=0;;a++){let n=this.children[a],l=s+n.size;if(-1==r&&t<=l){let i=s+n.border;if(t>=i&&e<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,i);t=s;for(let e=a;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=o(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(l>e||a==this.children.length-1)){e=l;for(let t=a+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=o(n.dom);break}e+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}s=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let i=Math.min(t,e),s=Math.max(t,e);for(let o=0,a=0;o<this.children.length;o++){let l=this.children[o],h=a+l.size;if(i>a&&s<h)return l.setSelection(t-a-l.border,e-a-l.border,n,r);a=h}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),h=n.root.getSelection(),c=n.domSelectionRange(),d=!1;if((D||L)&&t==e){let{node:t,offset:e}=a;if(3==t.nodeType){if((d=!!(e&&"\n"==t.nodeValue[e-1]))&&e==t.nodeValue.length)for(let e=t,n;e;e=e.parentNode){if(n=e.nextSibling){"BR"==n.nodeName&&(a=l={node:n.parentNode,offset:o(n)+1});break}let t=e.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(D&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let t=c.focusNode.childNodes[c.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||d&&L)&&u(a.node,a.offset,c.anchorNode,c.anchorOffset)&&u(l.node,l.offset,c.focusNode,c.focusOffset))return;let p=!1;if((h.extend||t==e)&&!(d&&D)){h.collapse(a.node,a.offset);try{t!=e&&h.extend(l.node,l.offset),p=!0}catch(t){}}if(!p){if(t>e){let t=a;a=l,l=t}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(a.node,a.offset),h.removeAllRanges(),h.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],s=n+i.size;if(n==s?t<=s&&e>=n:t<s&&e>n){let r=n+i.border,o=s-i.border;if(t>=r&&e<=o){this.dirty=t==n||e==s?tk:tw,t==r&&e==o&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=tS:i.markDirty(t-r,e-r);return}i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?tS:tk}n=s}this.dirty=tk}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?tk:tw;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class tM extends tC{constructor(t,e,n,r){let i,s=e.type.toDOM;if("function"==typeof s&&(s=s(n,()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r)),!e.type.spec.raw){if(1!=s.nodeType){let t=document.createElement("span");t.appendChild(s),s=t}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return this.dirty==tx&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class tE extends tC{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class tA extends tC{constructor(t,e,n,r,i){super(t,[],n,r),this.mark=e,this.spec=i}static create(t,e,n,r){let s=r.nodeViews[e.type.name],o=s&&s(e,r,n);return o&&o.dom||(o=i.ZF.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new tA(t,e,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&tS||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=tS&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=tx){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=tx}}slice(t,e,n){let r=tA.create(this.parent,this.mark,!0,n),i=this.children,s=this.size;e<s&&(i=tJ(i,e,s,n)),t>0&&(i=tJ(i,0,t,n));for(let t=0;t<i.length;t++)i[t].parent=r;return r.children=i,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class t_ extends tC{constructor(t,e,n,r,i,s,o,a,l){super(t,[],i,s),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=o}static create(t,e,n,r,s,o){let a=s.nodeViews[e.type.name],l,h=a&&a(e,s,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:o,n,r),c=h&&h.dom,u=h&&h.contentDOM;if(e.isText)if(c){if(3!=c.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(e.text);else if(!c){let t=i.ZF.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs);({dom:c,contentDOM:u}=t)}u||e.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),e.type.spec.draggable&&(c.draggable=!0));let d=c;return(c=tB(c,n,e),h)?l=new tN(t,e,n,r,c,u||null,d,h,s,o+1):e.isText?new tP(t,e,n,r,c,d,s):new t_(t,e,n,r,c,u||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>i.FK.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return this.dirty==tx&&t.eq(this.node)&&tj(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return+!this.node.isLeaf}updateChildren(t,e){let n=this.node.inlineContent,r=e,s=t.composing?this.localCompositionInfo(t,e):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new t$(this,o&&o.node,t);tW(this.node,this.innerDeco,(e,s,o)=>{e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!o&&l.syncToMarks(s==this.node.childCount?i.CU.none:this.node.child(s).marks,n,t),l.placeWidget(e,t,r)},(e,i,o,h)=>{let c;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,i,o,h)||a&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(c=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(e,i,o,c,t)||l.updateNextNode(e,i,o,t,h,r)||l.addNode(e,i,o,t,r),r+=e.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==tk)&&(o&&this.protectLocalComposition(t,o),tO(this.contentDOM,this.children,t),z&&tK(this.dom))}localCompositionInfo(t,e){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof r.U3)||n<e||i>e+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(!this.node.inlineContent)return{node:s,pos:-1,text:""};{let t=s.nodeValue,r=tU(this.node.content,t,n-e,i-e);return r<0?null:{node:s,pos:r,text:t}}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let i=e;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new tE(this,i,e,r);t.input.compositionNodes.push(s),this.children=tJ(this.children,n,n+r.length,t,s)}update(t,e,n,r){return this.dirty!=tS&&!!t.sameMarkup(this.node)&&(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=tx}updateOuterDeco(t){if(tj(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=tR(this.dom,this.nodeDOM,tz(this.outerDeco,this.node,e),tz(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function tT(t,e,n,r,i){tB(r,e,t);let s=new t_(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class tP extends t_{constructor(t,e,n,r,i,s,o){super(t,e,n,r,i,null,s,o,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return this.dirty!=tS&&(this.dirty==tx||!!this.inParent())&&!!t.sameMarkup(this.node)&&(this.updateOuterDeco(e),(this.dirty!=tx||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=tx,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),i=document.createTextNode(r.text);return new tP(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(0==t||e==this.nodeDOM.nodeValue.length)&&(this.dirty=tS)}get domAtom(){return!1}isText(t){return this.node.text==t}}class tD extends tC{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==tx&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class tN extends t_{constructor(t,e,n,r,i,s,o,a,l,h){super(t,e,n,r,i,s,o,l,h),this.spec=a}update(t,e,n,r){if(this.dirty==tS)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,e,n);return i&&this.updateInner(t,e,n,r),i}return(!!this.contentDOM||!!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function tO(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=tV(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof tA){let e=r?r.previousSibling:t.lastChild;tO(o.contentDOM,o.children,n),r=e?e.nextSibling:t.firstChild}}for(;r;)r=tV(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}let tI=function(t){t&&(this.nodeName=t)};tI.prototype=Object.create(null);let tL=[new tI];function tz(t,e,n){if(0==t.length)return tL;let r=n?tL[0]:new tI,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o)for(let t in o.nodeName&&i.push(r=new tI(o.nodeName)),o){let s=o[t];null!=s&&(n&&1==i.length&&i.push(r=new tI(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+s:"style"==t?r.style=(r.style?r.style+";":"")+s:"nodeName"!=t&&(r[t]=s))}}return i}function tR(t,e,n,r){if(n==tL&&r==tL)return e;let i=e;for(let e=0;e<r.length;e++){let s=r[e],o=n[e];if(e){let e;o&&o.nodeName==s.nodeName&&i!=t&&(e=i.parentNode)&&e.nodeName.toLowerCase()==s.nodeName||((e=document.createElement(s.nodeName)).pmIsDeco=!0,e.appendChild(i),o=tL[0]),i=e}tF(i,o||tL[0],s)}return i}function tF(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==i.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function tB(t,e,n){return tR(t,t,tL,tz(e,n,1!=t.nodeType))}function tj(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function tV(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class t${constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=tH(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,i=this.stack.length>>1,s=Math.min(i,t.length);for(;r<s&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=tx,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++){let n=this.top.children[e];if(n.matchesMark(t[i])&&!this.isLocked(n.dom)){r=e;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=tA.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,n,r){let i=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(t,e,n))i=this.top.children.indexOf(s,this.index);else for(let r=this.index,s=Math.min(this.top.children.length,r+5);r<s;r++){let s=this.top.children[r];if(s.matchesNode(t,e,n)&&!this.preMatch.matched.has(s)){i=r;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,e,n,r,i){let s=this.top.children[r];return s.dirty==tS&&s.dom==s.contentDOM&&(s.dirty=tk),!!s.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return -1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e){for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t}return -1}t=e}}updateNextNode(t,e,n,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof t_){let l=this.preMatch.matched.get(a);if(null!=l&&l!=i)return!1;let h=a.dom,c,u=this.isLocked(h)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=tS&&tj(e,a.outerDeco));if(!u&&a.update(t,e,n,r))return this.destroyBetween(this.index,o),a.dom!=h&&(this.changed=!0),this.index++,!0;if(!u&&(c=this.recreateWrapper(a,t,e,n,r,s)))return this.destroyBetween(this.index,o),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=tk,c.updateChildren(r,s+1),c.dirty=tx),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,i,s){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!tj(n,t.outerDeco)||!r.eq(t.innerDeco))return null;let o=t_.create(this.top,e,n,r,i,s);if(o.contentDOM)for(let e of(o.children=t.children,t.children=[],o.children))e.parent=o;return t.destroy(),o}addNode(t,e,n,r,i){let s=t_.create(this.top,t,e,n,r,i);s.contentDOM&&s.updateChildren(r,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let r=new tM(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof tA;)t=(e=t).children[e.children.length-1];(!t||!(t instanceof tP)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((L||O)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new tD(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function tH(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];r:for(;i>0;){let a;for(;;)if(r){let t=n.children[r-1];if(t instanceof tA)n=t,r=t.children.length;else{a=t,r--;break}}else if(n==e)break r;else r=n.parent.children.indexOf(n),n=n.parent;let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function tq(t,e){return t.type.side-e.type.side}function tW(t,e,n,r){let i=e.locals(t),s=0;if(0==i.length){for(let n=0;n<t.childCount;n++){let o=t.child(n);r(o,i,e.forChild(s,o),n),s+=o.nodeSize}return}let o=0,a=[],l=null;for(let h=0;;){let c,u,d,p;for(;o<i.length&&i[o].to==s;){let t=i[o++];t.widget&&(c?(u||(u=[c])).push(t):c=t)}if(c)if(u){u.sort(tq);for(let t=0;t<u.length;t++)n(u[t],h,!!l)}else n(c,h,!!l);if(l)p=-1,d=l,l=null;else if(h<t.childCount)p=h,d=t.child(h++);else break;for(let t=0;t<a.length;t++)a[t].to<=s&&a.splice(t--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let f=s+d.nodeSize;if(d.isText){let t=f;o<i.length&&i[o].from<t&&(t=i[o].from);for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to);t<f&&(l=d.cut(t-s),d=d.cut(0,t-s),f=t,p=-1)}else for(;o<i.length&&i[o].to<f;)o++;let m=d.isInline&&!d.isLeaf?a.filter(t=>!t.inline):a.slice();r(d,m,e.forChild(s,d),p),s=f}}function tK(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function tU(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let e=t.child(i++);if(s+=e.nodeSize,!e.isText)break;l+=e.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let t=a<r?l.lastIndexOf(e,r-a-1):-1;if(t>=0&&t+e.length+a>=n)return a+t;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return -1}function tJ(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],h=a,c=a+=l.size;h>=n||c<=e?s.push(l):(h<e&&s.push(l.slice(0,e-h,r)),i&&(s.push(i),i=void 0),c>n&&s.push(l.slice(n-h,l.size,r)))}return s}function tG(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&0==s.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=i.resolve(a),h,c;if(b(n)){for(h=a;s&&!s.node;)s=s.parent;let t=s.node;if(s&&t.isAtom&&r.nh.isSelectable(t)&&s.parent&&!(t.isInline&&y(n.focusNode,n.focusOffset,s.dom))){let t=s.posBefore;c=new r.nh(a==t?l:i.resolve(t))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let e=a,r=a;for(let i=0;i<n.rangeCount;i++){let s=n.getRangeAt(i);e=Math.min(e,t.docView.posFromDOM(s.startContainer,s.startOffset,1)),r=Math.max(r,t.docView.posFromDOM(s.endContainer,s.endOffset,-1))}if(e<0)return null;[h,a]=r==t.state.selection.anchor?[r,e]:[e,r],l=i.resolve(a)}else h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null}let u=i.resolve(h);if(!c){let n="pointer"==e||t.state.selection.head<l.pos&&!o?1:-1;c=t6(t,u,l,n)}return c}function tY(t){return t.editable?t.hasFocus():t8(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function tX(t,e=!1){let n=t.state.selection;if(t4(t,n),tY(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&O){let e=t.domSelectionRange(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&u(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)t3(t);else{let{anchor:i,head:s}=n,o,a;tZ&&!(n instanceof r.U3)&&(n.$from.parent.inlineContent||(o=tQ(t,n.from)),n.empty||n.$from.parent.inlineContent||(a=tQ(t,n.to))),t.docView.setSelection(i,s,t,e),tZ&&(o&&t1(o),a&&t1(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&t2(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}let tZ=L||O&&I<63;function tQ(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(L&&i&&"false"==i.contentEditable)return t0(i);if((!i||"false"==i.contentEditable)&&(!s||"false"==s.contentEditable)){if(i)return t0(i);else if(s)return t0(s)}}function t0(t){return t.contentEditable="true",L&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function t1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function t2(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!tY(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function t3(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r="IMG"==n.nodeName;r?e.collapse(n.parentNode,o(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&T&&P<=11&&(n.disabled=!0,n.disabled=!1)}function t4(t,e){if(e instanceof r.nh){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(t5(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else t5(t)}function t5(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function t6(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||r.U3.between(e,n,i)}function t7(t){return(!t.editable||!!t.hasFocus())&&t8(t)}function t8(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function t9(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return u(e.node,e.offset,n.anchorNode,n.anchorOffset)}function et(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&r.LN.findFrom(o,e)}function ee(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function en(t,e,n){let i=t.state.selection;if(i instanceof r.U3){if(n.indexOf("s")>-1){let{$head:n}=i,s=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(n.pos+s.nodeSize*(e<0?-1:1));return ee(t,new r.U3(i.$anchor,o))}else if(!i.empty)return!1;else if(t.endOfTextblock(e>0?"forward":"backward")){let n=et(t.state,e);return!!n&&n instanceof r.nh&&ee(t,n)}else if(!(R&&n.indexOf("m")>-1)){let n=i.$head,s=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?n.pos-s.nodeSize:n.pos;return!!(s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM)&&(r.nh.isSelectable(s)?ee(t,new r.nh(e<0?t.state.doc.resolve(n.pos-s.nodeSize):n)):!!j&&ee(t,new r.U3(t.state.doc.resolve(e<0?a:a+s.nodeSize))))}}else{if(i instanceof r.nh&&i.node.isInline)return ee(t,new r.U3(e>0?i.$to:i.$from));let n=et(t.state,e);return!!n&&ee(t,n)}}function er(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function ei(t,e){let n=t.pmViewDesc;return n&&0==n.size&&(e<0||t.nextSibling||"BR"!=t.nodeName)}function es(t,e){return e<0?eo(t):ea(t)}function eo(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(D&&1==n.nodeType&&r<er(n)&&ei(n.childNodes[r],-1)&&(a=!0);;)if(r>0)if(1!=n.nodeType)break;else{let t=n.childNodes[r-1];if(ei(t,-1))i=n,s=--r;else if(3==t.nodeType)r=(n=t).nodeValue.length;else break}else if(el(n))break;else{let e=n.previousSibling;for(;e&&ei(e,-1);)i=n.parentNode,s=o(e),e=e.previousSibling;if(e)r=er(n=e);else{if((n=n.parentNode)==t.dom)break;r=0}}a?eu(t,n,r):i&&eu(t,i,s)}function ea(t){let e,n,r=t.domSelectionRange(),i=r.focusNode,s=r.focusOffset;if(!i)return;let a=er(i);for(;;)if(s<a){if(1!=i.nodeType)break;if(ei(i.childNodes[s],1))e=i,n=++s;else break}else if(el(i))break;else{let r=i.nextSibling;for(;r&&ei(r,1);)e=r.parentNode,n=o(r)+1,r=r.nextSibling;if(r)s=0,a=er(i=r);else{if((i=i.parentNode)==t.dom)break;s=a=0}}e&&eu(t,e,n)}function el(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function eh(t,e){for(;t&&e==t.childNodes.length&&!v(t);)e=o(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=n,e=0}}function ec(t,e){for(;t&&!e&&!v(t);)e=o(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=(t=n).childNodes.length}}function eu(t,e,n){if(3!=e.nodeType){let t,r;(r=eh(e,n))?(e=r,n=0):(t=ec(e,n))&&(e=t,n=t.nodeValue.length)}let r=t.domSelection();if(!r)return;if(b(r)){let t=document.createRange();t.setEnd(e,n),t.setStart(e,n),r.removeAllRanges(),r.addRange(t)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&tX(t)},50)}function ed(t,e){let n=t.state.doc.resolve(e);if(!(O||F)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let n=t.coordsAtPos(e-1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(e<n.end()){let n=t.coordsAtPos(e+1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function ep(t,e,n){let i=t.state.selection;if(i instanceof r.U3&&!i.empty||n.indexOf("s")>-1||R&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=et(t.state,e);if(n&&n instanceof r.nh)return ee(t,n)}if(!s.parent.inlineContent){let n=e<0?s:o,a=i instanceof r.i5?r.LN.near(n,e):r.LN.findFrom(n,e);return!!a&&ee(t,a)}return!1}function ef(t,e){if(!(t.state.selection instanceof r.U3))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let r=t.state.tr;return e<0?r.delete(n.pos-o.nodeSize,n.pos):r.delete(n.pos,n.pos+o.nodeSize),t.dispatch(r),!0}return!1}function em(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function eg(t){if(!L||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;em(t,n,"true"),setTimeout(()=>em(t,n,"false"),20)}return!1}function ey(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ev(t,e){let n=e.keyCode,r=ey(e);if(8==n||R&&72==n&&"c"==r)return ef(t,-1)||es(t,-1);if(46==n&&!e.shiftKey||R&&68==n&&"c"==r)return ef(t,1)||es(t,1);if(13==n||27==n)return!0;if(37==n||R&&66==n&&"c"==r){let e=37==n?"ltr"==ed(t,t.state.selection.from)?-1:1:-1;return en(t,e,r)||es(t,e)}if(39==n||R&&70==n&&"c"==r){let e=39==n?"ltr"==ed(t,t.state.selection.from)?1:-1:1;return en(t,e,r)||es(t,e)}else if(38==n||R&&80==n&&"c"==r)return ep(t,-1,r)||es(t,-1);else if(40==n||R&&78==n&&"c"==r)return eg(t)||ep(t,1,r)||es(t,1);else if(r==(R?"m":"c")&&(66==n||73==n||89==n||90==n))return!0;return!1}function eb(t,e){t.someProp("transformCopied",n=>{e=n(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){s--,o--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let a=t.someProp("clipboardSerializer")||i.ZF.fromSchema(t.state.schema),l=eP(),h=l.createElement("div");h.appendChild(a.serializeFragment(r,{document:l}));let c=h.firstChild,u,d=0;for(;c&&1==c.nodeType&&(u=e_[c.nodeName.toLowerCase()]);){for(let t=u.length-1;t>=0;t--){let e=l.createElement(u[t]);for(;h.firstChild;)e.appendChild(h.firstChild);h.appendChild(e),d++}c=h.firstChild}return c&&1==c.nodeType&&c.setAttribute("data-pm-slice",`${s} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:h,text:t.someProp("clipboardTextSerializer",n=>n(e,t))||e.content.textBetween(0,e.content.size,"\n\n"),slice:e}}function ex(t,e,n,r,s){let o,a,l=s.parent.type.spec.code;if(!n&&!e)return null;let h=!!e&&(r||l||!n);if(h){if(t.someProp("transformPastedText",n=>{e=n(e,l||r,t)}),l)return a=new i.Ji(i.FK.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0),t.someProp("transformPasted",e=>{a=e(a,t,!0)}),a;let n=t.someProp("clipboardTextParser",n=>n(e,s,r,t));if(n)a=n;else{let n=s.marks(),{schema:r}=t.state,a=i.ZF.fromSchema(r);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(t=>{let e=o.appendChild(document.createElement("p"));t&&e.appendChild(a.serializeNode(r.text(t,n)))})}}else t.someProp("transformPastedHTML",e=>{n=e(n,t)}),o=eO(n),j&&eI(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let t=+u[3];t>0;t--){let t=o.firstChild;for(;t&&1!=t.nodeType;)t=t.nextSibling;if(!t)break;o=t}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||i.S4.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(h||u),context:s,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||ew.test(t.parentNode.nodeName)?null:{ignore:!0}})),u)a=eL(eA(a,+u[1],+u[2]),u[4]);else if((a=i.Ji.maxOpen(ek(a.content,s),!0)).openStart||a.openEnd){let t=0,e=0;for(let e=a.content.firstChild;t<a.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let t=a.content.lastChild;e<a.openEnd&&!t.type.spec.isolating;e++,t=t.lastChild);a=eA(a,t,e)}return t.someProp("transformPasted",e=>{a=e(a,t,h)}),a}let ew=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ek(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(t=>{if(!o)return;let e=r.findWrapping(t.type),n;if(!e)return o=null;if(n=o.length&&s.length&&eC(e,s,t,o[o.length-1],0))o[o.length-1]=n;else{o.length&&(o[o.length-1]=eM(o[o.length-1],s.length));let n=eS(t,e);o.push(n),r=r.matchType(n.type),s=e}}),o)return i.FK.from(o)}return t}function eS(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,i.FK.from(t));return t}function eC(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=eC(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(i.FK.from(eS(n,t,s+1))))}}function eM(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,eM(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i.FK.empty,!0);return t.copy(n.append(r))}function eE(t,e,n,r,s,o){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(o=0),s<r-1&&(l=eE(l,e,n,r,s+1,o)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,o<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(i.FK.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function eA(t,e,n){return e<t.openStart&&(t=new i.Ji(eE(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i.Ji(eE(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}let e_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},eT=null;function eP(){return eT||(eT=document.implementation.createHTMLDocument("title"))}let eD=null;function eN(t){let e=window.trustedTypes;return e?(eD||(eD=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),eD.createHTML(t)):t}function eO(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=eP().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&e_[r[1].toLowerCase()])&&(t=i.map(t=>"<"+t+">").join("")+t+i.map(t=>"</"+t+">").reverse().join("")),n.innerHTML=eN(t),i)for(let t=0;t<i.length;t++)n=n.querySelector(i[t])||n;return n}function eI(t){let e=t.querySelectorAll(O?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function eL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch(e){return t}let{content:s,openStart:o,openEnd:a}=t;for(let t=r.length-2;t>=0;t-=2){let e=n.nodes[r[t]];if(!e||e.hasRequiredAttrs())break;s=i.FK.from(e.create(r[t+1],s)),o++,a++}return new i.Ji(s,o,a)}let ez={},eR={},eF={touchstart:!0,touchmove:!0};class eB{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ej(t){for(let e in ez){let n=ez[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!eW(t,e)||eq(t,e)||!t.editable&&e.type in eR||n(t,e)},eF[e]?{passive:!0}:void 0)}L&&t.dom.addEventListener("input",()=>null),eH(t)}function eV(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function e$(t){for(let e in t.domObserver.stop(),t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function eH(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>eq(t,e))})}function eq(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function eW(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function eK(t,e){eq(t,e)||!ez[e.type]||!t.editable&&e.type in eR||ez[e.type](t,e)}function eU(t){return{left:t.clientX,top:t.clientY}}function eJ(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function eG(t,e,n,r,i){if(-1==r)return!1;let s=t.state.doc.resolve(r);for(let r=s.depth+1;r>0;r--)if(t.someProp(e,e=>r>s.depth?e(t,n,s.nodeAfter,s.before(r),i,!0):e(t,n,s.node(r),s.before(r),i,!1)))return!0;return!1}function eY(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function eX(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r.nh.isSelectable(i))&&(eY(t,new r.nh(n),"pointer"),!0)}function eZ(t,e){if(-1==e)return!1;let n=t.state.selection,i,s;n instanceof r.nh&&(i=n.node);let o=t.state.doc.resolve(e);for(let t=o.depth+1;t>0;t--){let e=t>o.depth?o.nodeAfter:o.node(t);if(r.nh.isSelectable(e)){s=i&&n.$from.depth>0&&t>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?o.before(n.$from.depth):o.before(t);break}}return null!=s&&(eY(t,r.nh.create(t.state.doc,s),"pointer"),!0)}function eQ(t,e,n,r,i){return eG(t,"handleClickOn",e,n,r)||t.someProp("handleClick",n=>n(t,e,r))||(i?eZ(t,n):eX(t,n))}function e0(t,e,n,r){return eG(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",n=>n(t,e,r))}function e1(t,e,n,r){return eG(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",n=>n(t,e,r))||e2(t,n,r)}function e2(t,e,n){if(0!=n.button)return!1;let i=t.state.doc;if(-1==e)return!!i.inlineContent&&(eY(t,r.U3.create(i,0,i.content.size),"pointer"),!0);let s=i.resolve(e);for(let e=s.depth+1;e>0;e--){let n=e>s.depth?s.nodeAfter:s.node(e),o=s.before(e);if(n.inlineContent)eY(t,r.U3.create(i,o+1,o+1+n.content.size),"pointer");else{if(!r.nh.isSelectable(n))continue;eY(t,r.nh.create(i,o),"pointer")}return!0}}function e3(t){return nr(t)}eR.keydown=(t,e)=>{let n=e;if((t.input.shiftKey=16==n.keyCode||n.shiftKey,!e6(t,n))&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!B||!O||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!z||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",e=>e(t,n))||ev(t,n)?n.preventDefault():eV(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",e=>e(t,x(13,"Enter"))),t.input.lastIOSEnter=0)},200)}},eR.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},eR.keypress=(t,e)=>{let n=e;if(e6(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||R&&n.metaKey)return;if(t.someProp("handleKeyPress",e=>e(t,n)))return void n.preventDefault();let i=t.state.selection;if(!(i instanceof r.U3)||!i.$from.sameParent(i.$to)){let e=String.fromCharCode(n.charCode),r=()=>t.state.tr.insertText(e).scrollIntoView();/[\r\n]/.test(e)||t.someProp("handleTextInput",n=>n(t,i.$from.pos,i.$to.pos,e,r))||t.dispatch(r()),n.preventDefault()}};let e4=R?"metaKey":"ctrlKey";ez.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=e3(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&eJ(n,t.input.lastClick)&&!n[e4]&&t.input.lastClick.button==n.button&&("singleClick"==t.input.lastClick.type?s="doubleClick":"doubleClick"==t.input.lastClick.type&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(eU(n));o&&("singleClick"==s?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new e5(t,o,n,!!r)):("doubleClick"==s?e0:e1)(t,o.pos,o.inside,n)?n.preventDefault():eV(t,"pointer"))};class e5{constructor(t,e,n,i){let s,o;if(this.view=t,this.pos=e,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[e4],this.allowDefault=n.shiftKey,e.inside>-1)s=t.state.doc.nodeAt(e.inside),o=e.inside;else{let n=t.state.doc.resolve(e.pos);s=n.parent,o=n.depth?n.before():0}const a=i?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&1==l.nodeDOM.nodeType?l.nodeDOM:null;let{selection:h}=t.state;(0==n.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||h instanceof r.nh&&h.from<=o&&h.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&D&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),eV(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>tX(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(eU(t))),this.updateAllowDefault(t),this.allowDefault||!e?eV(this.view,"pointer"):eQ(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||L&&this.mightDrag&&!this.mightDrag.node.isAtom||O&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to)))?(eY(this.view,r.LN.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):eV(this.view,"pointer")}move(t){this.updateAllowDefault(t),eV(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function e6(t,e){return!!t.composing||!!(L&&500>Math.abs(e.timeStamp-t.input.compositionEndedAt))&&(t.input.compositionEndedAt=-2e8,!0)}ez.touchstart=t=>{t.input.lastTouch=Date.now(),e3(t),eV(t,"pointer")},ez.touchmove=t=>{t.input.lastTouch=Date.now(),eV(t,"pointer")},ez.contextmenu=t=>e3(t);let e7=B?5e3:-1;function e8(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||1!=e.nodeType||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return 1==r.nodeType&&"false"==r.contentEditable}function e9(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>nr(t),e))}function nt(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=nn());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function ne(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=m(e.focusNode,e.focusOffset),r=g(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let e=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!e||!e.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let t=n.pmViewDesc;if(!(!t||!t.isText(n.nodeValue)))return r}}return n||r}function nn(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function nr(t,e=!1){if(!B||!(t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),nt(t),e||t.docView&&t.docView.dirty){let n=tG(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function ni(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}eR.compositionstart=eR.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof r.U3&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(t=>!1===t.type.spec.inclusive)||O&&F&&e8(t)))t.markCursor=t.state.storedMarks||n.marks(),nr(t,!0),t.markCursor=null;else if(nr(t,!e.selection.empty),D&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelectionRange();for(let n=e.focusNode,r=e.focusOffset;n&&1==n.nodeType&&0!=r;){let e=r<0?n.lastChild:n.childNodes[r-1];if(!e)break;if(3==e.nodeType){let n=t.domSelection();n&&n.collapse(e,e.nodeValue.length);break}n=e,r=-1}}t.input.composing=!0}e9(t,e7)},eR.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,e9(t,20))};let ns=T&&P<15||z&&V<604;function no(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function na(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?nl(t,r.value,null,i,e):nl(t,r.textContent,r.innerHTML,i,e)},50)}function nl(t,e,n,r,s){let o=ex(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",e=>e(t,s,o||i.Ji.empty)))return!0;if(!o)return!1;let a=no(o),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function nh(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ez.copy=eR.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let s=ns?null:n.clipboardData,{dom:o,text:a}=eb(t,r.content());s?(n.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",a)):ni(t,o),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},eR.paste=(t,e)=>{let n=e;if(t.composing&&!B)return;let r=ns?null:n.clipboardData,i=t.input.shiftKey&&45!=t.input.lastKeyCode;r&&nl(t,nh(r),r.getData("text/html"),i,n)?n.preventDefault():na(t,n)};class nc{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}}let nu=R?"altKey":"ctrlKey";function nd(t,e){let n=t.someProp("dragCopies",t=>!t(e));return null!=n?n:!e[nu]}function np(t,e,n){if(!e.dataTransfer)return;let o=t.posAtCoords(eU(e));if(!o)return;let a=t.state.doc.resolve(o.pos),l=n&&n.slice;l?t.someProp("transformPasted",e=>{l=e(l,t,!1)}):l=ex(t,nh(e.dataTransfer),ns?null:e.dataTransfer.getData("text/html"),!1,a);let h=!!(n&&nd(t,e));if(t.someProp("handleDrop",n=>n(t,e,l||i.Ji.empty,h)))return void e.preventDefault();if(!l)return;e.preventDefault();let c=l?(0,s.Um)(t.state.doc,a.pos,l):a.pos;null==c&&(c=a.pos);let u=t.state.tr;if(h){let{node:t}=n;t?t.replace(u):u.deleteSelection()}let d=u.mapping.map(c),p=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,f=u.doc;if(p?u.replaceRangeWith(d,d,l.content.firstChild):u.replaceRange(d,d,l),u.doc.eq(f))return;let m=u.doc.resolve(d);if(p&&r.nh.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))u.setSelection(new r.nh(m));else{let e=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((t,n,r,i)=>e=i),u.setSelection(t6(t,m,u.doc.resolve(e)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))}for(let t in ez.dragstart=(t,e)=>{let n,i=e,s=t.input.mouseDown;if(s&&s.done(),!i.dataTransfer)return;let o=t.state.selection,a=o.empty?null:t.posAtCoords(eU(i));if(a&&a.pos>=o.from&&a.pos<=(o instanceof r.nh?o.to-1:o.to));else if(s&&s.mightDrag)n=r.nh.create(t.state.doc,s.mightDrag.pos);else if(i.target&&1==i.target.nodeType){let e=t.docView.nearestDesc(i.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&(n=r.nh.create(t.state.doc,e.posBefore))}let l=(n||t.state.selection).content(),{dom:h,text:c,slice:u}=eb(t,l);i.dataTransfer.files.length&&O&&!(I>120)||i.dataTransfer.clearData(),i.dataTransfer.setData(ns?"Text":"text/html",h.innerHTML),i.dataTransfer.effectAllowed="copyMove",ns||i.dataTransfer.setData("text/plain",c),t.dragging=new nc(u,nd(t,i),n)},ez.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},eR.dragover=eR.dragenter=(t,e)=>e.preventDefault(),eR.drop=(t,e)=>{try{np(t,e,t.dragging)}finally{t.dragging=null}},ez.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&tX(t)},20))},ez.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},ez.beforeinput=(t,e)=>{let n=e;if(O&&B&&"deleteContentBackward"==n.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=e||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",e=>e(t,x(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}},eR)ez[t]=eR[t];function nf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class nm{constructor(t,e){this.toDOM=t,this.spec=e||nx,this.side=this.spec.side||0}map(t,e,n,r){let{pos:i,deleted:s}=t.mapResult(e.from+r,this.side<0?-1:1);return s?null:new nv(i-n,i-n,this)}valid(){return!0}eq(t){return this==t||t instanceof nm&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&nf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ng{constructor(t,e){this.attrs=t,this.spec=e||nx}map(t,e,n,r){let i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,s=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=s?null:new nv(i,s,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof ng&&nf(this.attrs,t.attrs)&&nf(this.spec,t.spec)}static is(t){return t.type instanceof ng}destroy(){}}class ny{constructor(t,e){this.attrs=t,this.spec=e||nx}map(t,e,n,r){let i=t.mapResult(e.from+r,1);if(i.deleted)return null;let s=t.mapResult(e.to+r,-1);return s.deleted||s.pos<=i.pos?null:new nv(i.pos-n,s.pos-n,this)}valid(t,e){let{index:n,offset:r}=t.content.findIndex(e.from),i;return r==e.from&&!(i=t.child(n)).isText&&r+i.nodeSize==e.to}eq(t){return this==t||t instanceof ny&&nf(this.attrs,t.attrs)&&nf(this.spec,t.spec)}destroy(){}}class nv{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new nv(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new nv(t,t,new nm(e,n))}static inline(t,e,n,r){return new nv(t,e,new ng(n,r))}static node(t,e,n,r){return new nv(t,e,new ny(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ng}get widget(){return this.type instanceof nm}}let nb=[],nx={};class nw{constructor(t,e){this.local=t.length?t:nb,this.children=e.length?e:nb}static create(t,e){return e.length?nT(e,t,0,nx):nk}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,i){for(let s=0;s<this.local.length;s++){let o=this.local[s];o.from<=e&&o.to>=t&&(!i||i(o.spec))&&n.push(o.copy(o.from+r,o.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){let o=this.children[s]+1;this.children[s+2].findInner(t-o,e-o,n,r+o,i)}}map(t,e,n){return this==nk||0==t.maps.length?this:this.mapInner(t,e,0,0,n||nx)}mapInner(t,e,n,r,i){let s;for(let o=0;o<this.local.length;o++){let a=this.local[o].map(t,n,r);a&&a.type.valid(e,a)?(s||(s=[])).push(a):i.onRemove&&i.onRemove(this.local[o].spec)}return this.children.length?nC(this.children,s||[],t,e,n,r,i):s?new nw(s.sort(nP),nb):nk}add(t,e){return e.length?this==nk?nw.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach((t,s)=>{let o=s+n,a;if(a=nA(e,t,o)){for(r||(r=this.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,o+1):r.splice(i,0,s,s+t.nodeSize,nT(a,t,o+1,nx)),i+=3}});let s=nM(i?n_(e):e,-n);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||s.splice(e--,1);return new nw(s.length?this.local.concat(s).sort(nP):this.local,r||this.children)}remove(t){return 0==t.length||this==nk?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,s=n[r]+e,o=n[r+1]+e;for(let e=0,n;e<t.length;e++)(n=t[e])&&n.from>s&&n.to<o&&(t[e]=null,(i||(i=[])).push(n));if(!i)continue;n==this.children&&(n=this.children.slice());let a=n[r+2].removeInner(i,s+1);a!=nk?n[r+2]=a:(n.splice(r,3),r-=3)}if(r.length){for(let n=0,i;n<t.length;n++)if(i=t[n])for(let t=0;t<r.length;t++)r[t].eq(i,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new nw(r,n):nk}forChild(t,e){let n,r;if(this==nk)return this;if(e.isLeaf)return nw.empty;for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(n=this.children[e+2]);break}let i=t+1,s=i+e.content.size;for(let t=0;t<this.local.length;t++){let e=this.local[t];if(e.from<s&&e.to>i&&e.type instanceof ng){let t=Math.max(i,e.from)-i,n=Math.min(s,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let t=new nw(r.sort(nP),nb);return n?new nS([t,n]):t}return n||nk}eq(t){if(this==t)return!0;if(!(t instanceof nw)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return nD(this.localsInner(t))}localsInner(t){if(this==nk)return nb;if(t.inlineContent||!this.local.some(ng.is))return this.local;let e=[];for(let t=0;t<this.local.length;t++)this.local[t].type instanceof ng||e.push(this.local[t]);return e}forEachSet(t){t(this)}}nw.empty=new nw([],[]),nw.removeOverlap=nD;let nk=nw.empty;class nS{constructor(t){this.members=t}map(t,e){let n=this.members.map(n=>n.map(t,e,nx));return nS.from(n)}forChild(t,e){if(e.isLeaf)return nw.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(t,e);i!=nk&&(i instanceof nS?n=n.concat(i.members):n.push(i))}return nS.from(n)}eq(t){if(!(t instanceof nS)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?nD(n?e:e.sort(nP)):nb}static from(t){switch(t.length){case 0:return nk;case 1:return t[0];default:return new nS(t.every(t=>t instanceof nw)?t:t.reduce((t,e)=>t.concat(e instanceof nw?e:e.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}}function nC(t,e,n,r,i,s,o){let a=t.slice();for(let t=0,e=s;t<n.maps.length;t++){let r=0;n.maps[t].forEach((t,n,i,s)=>{let o=s-i-(n-t);for(let i=0;i<a.length;i+=3){let s=a[i+1];if(s<0||t>s+e-r)continue;let l=a[i]+e-r;n>=l?a[i+1]=t<=l?-2:-1:t>=e&&o&&(a[i]+=o,a[i+1]+=o)}r+=o}),e=n.maps[t].map(e,-1)}let l=!1;for(let e=0;e<a.length;e+=3)if(a[e+1]<0){if(-2==a[e+1]){l=!0,a[e+1]=-1;continue}let h=n.map(t[e]+s),c=h-i;if(c<0||c>=r.content.size){l=!0;continue}let u=n.map(t[e+1]+s,-1)-i,{index:d,offset:p}=r.content.findIndex(c),f=r.maybeChild(d);if(f&&p==c&&p+f.nodeSize==u){let r=a[e+2].mapInner(n,f,h+1,t[e]+s+1,o);r!=nk?(a[e]=c,a[e+1]=u,a[e+2]=r):(a[e+1]=-2,l=!0)}else l=!0}if(l){let l=nT(nE(a,t,e,n,i,s,o),r,0,o);e=l.local;for(let t=0;t<a.length;t+=3)a[t+1]<0&&(a.splice(t,3),t-=3);for(let t=0,e=0;t<l.children.length;t+=3){let n=l.children[t];for(;e<a.length&&a[e]<n;)e+=3;a.splice(e,0,l.children[t],l.children[t+1],l.children[t+2])}}return new nw(e.sort(nP),a)}function nM(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new nv(i.from+e,i.to+e,i.type))}return n}function nE(t,e,n,r,i,s,o){function a(t,e){for(let s=0;s<t.local.length;s++){let a=t.local[s].map(r,i,e);a?n.push(a):o.onRemove&&o.onRemove(t.local[s].spec)}for(let n=0;n<t.children.length;n+=3)a(t.children[n+2],t.children[n]+e+1)}for(let n=0;n<t.length;n+=3)-1==t[n+1]&&a(t[n+2],e[n]+s+1);return n}function nA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let e=0,s;e<t.length;e++)(s=t[e])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[e]=null);return i}function n_(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function nT(t,e,n,r){let i=[],s=!1;e.forEach((e,o)=>{let a=nA(t,e,o+n);if(a){s=!0;let t=nT(a,e,n+o+1,r);t!=nk&&i.push(o,o+e.nodeSize,t)}});let o=nM(s?n_(t):t,-n).sort(nP);for(let t=0;t<o.length;t++)o[t].type.valid(e,o[t])||(r.onRemove&&r.onRemove(o[t].spec),o.splice(t--,1));return o.length||i.length?new nw(o,i):nk}function nP(t,e){return t.from-e.from||t.to-e.to}function nD(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),nN(e,i+1,s.copy(r.to,s.to)));continue}s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),nN(e,i,r.copy(s.from,r.to)));break}}return e}function nN(t,e,n){for(;e<t.length&&nP(n,t[e])>0;)e++;t.splice(e,0,n)}function nO(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=nk&&e.push(r)}),t.cursorWrapper&&e.push(nw.create(t.state.doc,[t.cursorWrapper.deco])),nS.from(e)}let nI={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},nL=T&&P<=11;class nz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class nR{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new nz,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);T&&P<=11&&t.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),nL&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,nI)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(t7(this.view)){if(this.suppressingSelectionUpdates)return tX(this.view);if(T&&P<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,n;for(let n=t.focusNode;n;n=a(n))e.add(n);for(let r=t.anchorNode;r;r=a(r))if(e.has(r)){n=r;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:3==n.nodeType?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&t7(t)&&!this.ignoreSelectionChange(n),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],l);n&&(s=s<0?n.from:Math.min(n.from,s),o=o<0?n.to:Math.max(n.to,o),n.typeOver&&(a=!0))}if(D&&l.length){let e=l.filter(t=>"BR"==t.nodeName);if(2==e.length){let[t,n]=e;t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of e){let e=r.parentNode;e&&"LI"==e.nodeName&&(!n||nH(t,n)!=e)&&r.remove()}}}else if((O||L)&&l.some(t=>"BR"==t.nodeName)&&(8==t.input.lastKeyCode||46==t.input.lastKeyCode)){for(let t of l)if("BR"==t.nodeName&&t.parentNode){let e=t.nextSibling;e&&1==e.nodeType&&"false"==e.contentEditable&&t.parentNode.removeChild(t)}}let h=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&b(n)&&(h=tG(t))&&h.eq(r.LN.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,tX(t),this.currentSelection.set(n),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),nj(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||tX(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++){let r=t.addedNodes[n];e.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,i=t.nextSibling;if(T&&P<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:s}=t.addedNodes[e];(!n||0>Array.prototype.indexOf.call(t.addedNodes,n))&&(r=n),(!s||0>Array.prototype.indexOf.call(t.addedNodes,s))&&(i=s)}let s=r&&r.parentNode==t.target?o(r)+1:0,a=n.localPosFromDOM(t.target,s,-1),l=i&&i.parentNode==t.target?o(i):t.target.childNodes.length;return{from:a,to:n.localPosFromDOM(t.target,l,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let nF=new WeakMap,nB=!1;function nj(t){!nF.has(t)&&(nF.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))&&(t.requiresGeckoHackNode=D,nB||(nB=!0))}function nV(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return u(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function n$(t,e){let n;if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return nV(t,n)}function r(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?nV(t,n):null}function nH(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let e=t.docView.nearestDesc(n,!0);if(e&&e.node.isBlock)return n}return null}function nq(t,e,n){let r,{node:s,fromOffset:o,toOffset:a,from:l,to:h}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u=c.anchorNode;if(u&&t.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],b(c)||r.push({node:c.focusNode,offset:c.focusOffset})),O&&8===t.input.lastKeyCode)for(let t=a;t>o;t--){let e=s.childNodes[t-1],n=e.pmViewDesc;if("BR"==e.nodeName&&!n){a=t;break}if(!n||n.size)break}let d=t.state.doc,p=t.someProp("domParser")||i.S4.fromSchema(t.state.schema),f=d.resolve(l),m=null,g=p.parse(s,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:o,to:a,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:nW,context:f});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),m={anchor:t+l,head:e+l}}return{doc:g,sel:m,from:l,to:h}}function nW(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(L&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(t.parentNode.lastChild==t||L&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}let nK=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function nU(t,e,n,i,s){let o,a,l,h=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=tG(t,e);if(n&&!t.state.selection.eq(n)){if(O&&B&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",e=>e(t,x(13,"Enter"))))return;let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),h&&r.setMeta("composition",h),t.dispatch(r)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,p=nq(t,e,n),f=t.state.doc,m=f.slice(p.from,p.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(o=t.state.selection.to,a="end"):(o=t.state.selection.from,a="start"),t.input.lastKeyCode=null;let g=nZ(m.content,p.doc.content,p.from,o,a);if(g&&t.input.domChangeCount++,(z&&t.input.lastIOSEnter>Date.now()-225||B)&&s.some(t=>1==t.nodeType&&!nK.test(t.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",e=>e(t,x(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(i&&d instanceof r.U3&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))g={start:d.from,endA:d.to,endB:d.to};else{if(p.sel){let e=nJ(t,t.state.doc,p.sel);if(e&&!e.eq(t.state.selection)){let n=t.state.tr.setSelection(e);h&&n.setMeta("composition",h),t.dispatch(n)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof r.U3&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),T&&P<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>p.from&&" \xa0"==p.doc.textBetween(g.start-p.from-1,g.start-p.from+1)&&(g.start--,g.endA--,g.endB--);let y=p.doc.resolveNoCache(g.start-p.from),v=p.doc.resolveNoCache(g.endB-p.from),b=f.resolve(g.start),w=y.sameParent(v)&&y.parent.inlineContent&&b.end()>=g.endA;if((z&&t.input.lastIOSEnter>Date.now()-225&&(!w||s.some(t=>"DIV"==t.nodeName||"P"==t.nodeName))||!w&&y.pos<p.doc.content.size&&(!y.sameParent(v)||!y.parent.inlineContent)&&y.pos<v.pos&&!/\S/.test(p.doc.textBetween(y.pos,v.pos,"","")))&&t.someProp("handleKeyDown",e=>e(t,x(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&nY(f,g.start,g.endA,y,v)&&t.someProp("handleKeyDown",e=>e(t,x(8,"Backspace")))){B&&O&&t.domObserver.suppressSelectionUpdates();return}O&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),B&&!w&&y.start()!=v.start()&&0==v.parentOffset&&y.depth==v.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==g.endA&&(g.endB-=2,v=p.doc.resolveNoCache(g.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(e){return e(t,x(13,"Enter"))})},20));let k=g.start,S=g.endA,C=e=>{let n=e||t.state.tr.replace(k,S,p.doc.slice(g.start-p.from,g.endB-p.from));if(p.sel){let e=nJ(t,n.doc,p.sel);e&&!(O&&t.composing&&e.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(e.head==k||e.head==n.mapping.map(S)-1)||T&&e.empty&&e.head==k)&&n.setSelection(e)}return h&&n.setMeta("composition",h),n.scrollIntoView()};if(w)if(y.pos==v.pos){T&&P<=11&&0==y.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>tX(t),20));let e=C(t.state.tr.delete(k,S)),n=f.resolve(g.start).marksAcross(f.resolve(g.endA));n&&e.ensureMarks(n),t.dispatch(e)}else if(g.endA==g.endB&&(l=nG(y.parent.content.cut(y.parentOffset,v.parentOffset),b.parent.content.cut(b.parentOffset,g.endA-b.start())))){let e=C(t.state.tr);"add"==l.type?e.addMark(k,S,l.mark):e.removeMark(k,S,l.mark),t.dispatch(e)}else if(y.parent.child(y.index()).isText&&y.index()==v.index()-!v.textOffset){let e=y.parent.textBetween(y.parentOffset,v.parentOffset),n=()=>C(t.state.tr.insertText(e,k,S));t.someProp("handleTextInput",r=>r(t,k,S,e,n))||t.dispatch(n())}else t.dispatch(C());else t.dispatch(C())}function nJ(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:t6(t,e.resolve(n.anchor),e.resolve(n.head))}function nG(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,a,l,h;for(let t=0;t<r.length;t++)s=r[t].removeFromSet(s);for(let t=0;t<n.length;t++)o=n[t].removeFromSet(o);if(1==s.length&&0==o.length)l=s[0],a="add",h=t=>t.mark(l.addToSet(t.marks));else{if(0!=s.length||1!=o.length)return null;l=o[0],a="remove",h=t=>t.mark(l.removeFromSet(t.marks))}let c=[];for(let t=0;t<e.childCount;t++)c.push(h(e.child(t)));if(i.FK.from(c).eq(t))return{mark:l,type:a}}function nY(t,e,n,r,i){if(n-e<=i.pos-r.pos||nX(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let t=s.nodeAfter;return null!=t&&n==e+t.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(nX(s,!0,!0));return!(!o.parent.isTextblock||o.pos>n||nX(o,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function nX(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,i++}return i}function nZ(t,e,n,r,i){let s=t.findDiffStart(e,n);if(null==s)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==i){let t=Math.max(0,s-Math.min(o,a));r-=o+t-s}if(o<s&&t.size<e.size){let t=r<=s&&r>=o?s-r:0;(s-=t)&&s<e.size&&nQ(e.textBetween(s-1,s+1))&&(s+=t?1:-1),a=s+(a-o),o=s}else if(a<s){let e=r<=s&&r>=a?s-r:0;(s-=e)&&s<t.size&&nQ(t.textBetween(s-1,s+1))&&(s+=e?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function nQ(t){if(2!=t.length)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class n0{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new eB,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(n7),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=n3(this),n2(this),this.nodeViews=n5(this),this.docView=tT(this.state.doc,n1(this),nO(this),this.dom,this),this.domObserver=new nR(this,(t,e,n,r)=>nU(this,t,e,n,r)),this.domObserver.start(),ej(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;for(let e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&eH(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(n7),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let t in this._props)e[t]=this._props[t];for(let n in e.state=this.state,t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,i=!1,s=!1;t.storedMarks&&this.composing&&(nt(this),s=!0),this.state=t;let o=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(o||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=n5(this);n6(t,this.nodeViews)&&(this.nodeViews=t,i=!0)}(o||e.handleDOMEvents!=this._props.handleDOMEvents)&&eH(this),this.editable=n3(this),n2(this);let a=nO(this),l=n1(this),h=r.plugins==t.plugins||r.doc.eq(t.doc)?t.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",c=i||!this.docView.matchesNode(t.doc,l,a);(c||!t.selection.eq(r.selection))&&(s=!0);let u="preserve"==h&&s&&null==this.dom.style.overflowAnchor&&K(this);if(s){this.domObserver.stop();let e=c&&(T||O)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&n4(r.selection,t.selection);if(c){let n=O?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=ne(this)),(i||!this.docView.update(t.doc,l,a,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=tT(t.doc,l,a,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&t9(this))?tX(this,e):(t4(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null==(n=this.dragging)?void 0:n.node)&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==h?this.dom.scrollTop=0:"to selection"==h?this.scrollToSelection():u&&J(u)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(t&&this.dom.contains(1==t.nodeType?t:t.parentNode))if(this.someProp("handleScrollToSelection",t=>t(this)));else if(this.state.selection instanceof r.nh){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&W(this,e.getBoundingClientRect(),t)}else W(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}updateDraggedNode(t,e){let n=t.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let t=n.from+(this.state.doc.content.size-e.doc.content.size);(t>0&&this.state.doc.nodeAt(t))==n.node&&(i=t)}this.dragging=new nc(t.slice,t.move,i<0?void 0:r.nh.create(this.state.doc,i))}someProp(t,e){let n=this._props&&this._props[t],r;if(null!=n&&(r=e?e(n):n))return r;for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n].props[t];if(null!=i&&(r=e?e(i):i))return r}let i=this.state.plugins;if(i)for(let n=0;n<i.length;n++){let s=i[n].props[t];if(null!=s&&(r=e?e(s):s))return r}}hasFocus(){if(T){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&X(this.dom),tX(this),this.domObserver.start()}get root(){let t=this._root;if(null==t){for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return t||document}updateRoot(){this._root=null}posAtCoords(t){return ts(this,t)}coordsAtPos(t,e=1){return th(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return tb(this,e||this.state,t)}pasteHTML(t,e){return nl(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return nl(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return eb(this,t)}destroy(){this.docView&&(e$(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nO(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,c())}get isDestroyed(){return null==this.docView}dispatchEvent(t){return eK(this,t)}domSelectionRange(){let t=this.domSelection();return t?L&&11===this.root.nodeType&&w(this.dom.ownerDocument)==this.dom&&n$(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function n1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t?e.class+=" "+n[t]:"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))}),e.translate||(e.translate="no"),[nv.node(0,t.state.doc.content.size,e)]}function n2(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:nv.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function n3(t){return!t.someProp("editable",e=>!1===e(t.state))}function n4(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function n5(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function n6(t,e){let n=0,r=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let t in e)r++;return n!=r}function n7(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}n0.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}},732:function(t,e,n){"use strict";n.d(e,{l$:()=>tp,Ay:()=>tf});var r=n(363);let i={data:""},s=t=>{if("object"==typeof window){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||i},o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,l=/\n+/g,h=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?h(o,s):s+"{"+h(o,"k"==s[1]?"":e)+"}":"object"==typeof o?r+=h(o,e?e.replace(/([^,])+/g,t=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,e=>/&/.test(e)?e.replace(/&/g,t):t?t+" "+e:e)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=h.p?h.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},c={},u=t=>{if("object"==typeof t){let e="";for(let n in t)e+=n+u(t[n]);return e}return t},d=(t,e,n,r,i)=>{let s=u(t),d=c[s]||(c[s]=(t=>{let e=0,n=11;for(;e<t.length;)n=101*n+t.charCodeAt(e++)>>>0;return"go"+n})(s));if(!c[d]){let e=s!==t?t:(t=>{let e,n,r=[{}];for(;e=o.exec(t.replace(a,""));)e[4]?r.shift():e[3]?(n=e[3].replace(l," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][e[1]]=e[2].replace(l," ").trim();return r[0]})(t);c[d]=h(i?{["@keyframes "+d]:e}:e,n?"":"."+d)}let p=n&&c.g?c.g:null;return n&&(c.g=c[d]),((t,e,n,r)=>{r?e.data=e.data.replace(r,t):-1===e.data.indexOf(t)&&(e.data=n?t+e.data:e.data+t)})(c[d],e,r,p),d},p=(t,e,n)=>t.reduce((t,r,i)=>{let s=e[i];if(s&&s.call){let t=s(n),e=t&&t.props&&t.props.className||/^go/.test(t)&&t;s=e?"."+e:t&&"object"==typeof t?t.props?"":h(t,""):!1===t?"":t}return t+r+(null==s?"":s)},"");function f(t){let e=this||{},n=t.call?t(e.p):t;return d(n.unshift?n.raw?p(n,[].slice.call(arguments,1),e.p):n.reduce((t,n)=>Object.assign(t,n&&n.call?n(e.p):n),{}):n,s(e.target),e.g,e.o,e.k)}f.bind({g:1});let m,g,y,v=f.bind({k:1});function b(t,e,n,r){h.p=e,m=t,g=n,y=r}function x(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:g&&g()},a),n.o=/ *go\d+/.test(l),a.className=f.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let h=t;return t[0]&&(h=a.as||t,delete a.as),y&&h[0]&&y(a),m(h,a)}return e?e(i):i}}var w=t=>"function"==typeof t,k=(t,e)=>w(t)?t(e):t,S=(()=>{let t=0;return()=>(++t).toString()})(),C=(()=>{let t;return()=>{if(void 0===t&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),M="default",E=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case 2:let{toast:r}=e;return E(t,{type:+!!t.toasts.find(t=>t.id===r.id),toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(t=>t.id===i||void 0===i?{...t,dismissed:!0,visible:!1}:t)};case 4:return void 0===e.toastId?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(t=>({...t,pauseDuration:t.pauseDuration+s}))}}},A=[],_={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},T={},P=(t,e=M)=>{T[e]=E(T[e]||_,t),A.forEach(([t,n])=>{t===e&&n(T[e])})},D=t=>Object.keys(T).forEach(e=>P(t,e)),N=t=>Object.keys(T).find(e=>T[e].toasts.some(e=>e.id===t)),O=(t=M)=>e=>{P(e,t)},I={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},L=(t={},e=M)=>{let[n,i]=(0,r.useState)(T[e]||_),s=(0,r.useRef)(T[e]);(0,r.useEffect)(()=>(s.current!==T[e]&&i(T[e]),A.push([e,i]),()=>{let t=A.findIndex(([t])=>t===e);t>-1&&A.splice(t,1)}),[e]);let o=n.toasts.map(e=>{var n,r,i;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||I[e.type],style:{...t.style,...null==(i=t[e.type])?void 0:i.style,...e.style}}});return{...n,toasts:o}},z=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(null==n?void 0:n.id)||S()}),R=t=>(e,n)=>{let r=z(e,t,n);return O(r.toasterId||N(r.id))({type:2,toast:r}),r.id},F=(t,e)=>R("blank")(t,e);F.error=R("error"),F.success=R("success"),F.loading=R("loading"),F.custom=R("custom"),F.dismiss=(t,e)=>{let n={type:3,toastId:t};e?O(e)(n):D(n)},F.dismissAll=t=>F.dismiss(void 0,t),F.remove=(t,e)=>{let n={type:4,toastId:t};e?O(e)(n):D(n)},F.removeAll=t=>F.remove(void 0,t),F.promise=(t,e,n)=>{let r=F.loading(e.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof t&&(t=t()),t.then(t=>{let i=e.success?k(e.success,t):void 0;return i?F.success(i,{id:r,...n,...null==n?void 0:n.success}):F.dismiss(r),t}).catch(t=>{let i=e.error?k(e.error,t):void 0;i?F.error(i,{id:r,...n,...null==n?void 0:n.error}):F.dismiss(r)}),t};var B=1e3,j=(t,e="default")=>{let{toasts:n,pausedAt:i}=L(t,e),s=(0,r.useRef)(new Map).current,o=(0,r.useCallback)((t,e=B)=>{if(s.has(t))return;let n=setTimeout(()=>{s.delete(t),a({type:4,toastId:t})},e);s.set(t,n)},[]);(0,r.useEffect)(()=>{if(i)return;let t=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(t-n.createdAt);if(r<0){n.visible&&F.dismiss(n.id);return}return setTimeout(()=>F.dismiss(n.id,e),r)});return()=>{r.forEach(t=>t&&clearTimeout(t))}},[n,i,e]);let a=(0,r.useCallback)(O(e),[e]),l=(0,r.useCallback)(()=>{a({type:5,time:Date.now()})},[a]),h=(0,r.useCallback)((t,e)=>{a({type:1,toast:{id:t,height:e}})},[a]),c=(0,r.useCallback)(()=>{i&&a({type:6,time:Date.now()})},[i,a]),u=(0,r.useCallback)((t,e)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=e||{},o=n.filter(e=>(e.position||s)===(t.position||s)&&e.height),a=o.findIndex(e=>e.id===t.id),l=o.filter((t,e)=>e<a&&t.visible).length;return o.filter(t=>t.visible).slice(...r?[l+1]:[0,l]).reduce((t,e)=>t+(e.height||0)+i,0)},[n]);return(0,r.useEffect)(()=>{n.forEach(t=>{if(t.dismissed)o(t.id,t.removeDelay);else{let e=s.get(t.id);e&&(clearTimeout(e),s.delete(t.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:h,startPause:l,endPause:c,calculateOffset:u}}},V=v`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$=v`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,H=v`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,q=x("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${H} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,W=v`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,K=x("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${W} 1s linear infinite;
`,U=v`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,J=v`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,G=x("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${U} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${J} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Y=x("div")`
  position: absolute;
`,X=x("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z=v`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q=x("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tt=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return void 0!==e?"string"==typeof e?r.createElement(Q,null,e):e:"blank"===n?null:r.createElement(X,null,r.createElement(K,{...i}),"loading"!==n&&r.createElement(Y,null,"error"===n?r.createElement(q,{...i}):r.createElement(G,{...i})))},te=t=>`
0% {transform: translate3d(0,${-200*t}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tn=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*t}%,-1px) scale(.6); opacity:0;}
`,tr="0%{opacity:0;} 100%{opacity:1;}",ti="0%{opacity:1;} 100%{opacity:0;}",ts=x("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,to=x("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ta=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=C()?[tr,ti]:[te(n),tn(n)];return{animation:e?`${v(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${v(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tl=r.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?ta(t.position||e||"top-center",t.visible):{opacity:0},o=r.createElement(tt,{toast:t}),a=r.createElement(to,{...t.ariaProps},k(t.message,t));return r.createElement(ts,{className:t.className,style:{...s,...n,...t.style}},"function"==typeof i?i({icon:o,message:a}):r.createElement(r.Fragment,null,o,a))});b(r.createElement);var th=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let o=r.useCallback(e=>{if(e){let n=()=>{i(t,e.getBoundingClientRect().height)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return r.createElement("div",{ref:o,className:e,style:n},s)},tc=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:C()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},tu=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,td=16,tp=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,toasterId:o,containerStyle:a,containerClassName:l})=>{let{toasts:h,handlers:c}=j(n,o);return r.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:td,left:td,right:td,bottom:td,pointerEvents:"none",...a},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},h.map(n=>{let o=n.position||e,a=tc(o,c.calculateOffset(n,{reverseOrder:t,gutter:i,defaultPosition:e}));return r.createElement(th,{id:n.id,key:n.id,onHeightUpdate:c.updateHeight,className:n.visible?tu:"",style:a},"custom"===n.type?k(n.message,n):s?s(n):r.createElement(tl,{toast:n,position:o}))}))},tf=F},29:function(t,e,n){"use strict";let r,i;n.d(e,{io:()=>tK});var s,o={};n.r(o),n.d(o,{Decoder:()=>tF,Encoder:()=>tz,PacketType:()=>s,protocol:()=>tL});let a=Object.create(null);a.open="0",a.close="1",a.ping="2",a.pong="3",a.message="4",a.upgrade="5",a.noop="6";let l=Object.create(null);Object.keys(a).forEach(t=>{l[a[t]]=t});let h={type:"error",data:"parser error"},c="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),u="function"==typeof ArrayBuffer,d=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,p=({type:t,data:e},n,r)=>{if(c&&e instanceof Blob)if(n)return r(e);else return f(e,r);if(u&&(e instanceof ArrayBuffer||d(e)))if(n)return r(e);else return f(new Blob([e]),r);return r(a[t]+(e||""))},f=(t,e)=>{let n=new FileReader;return n.onload=function(){e("b"+(n.result.split(",")[1]||""))},n.readAsDataURL(t)};function m(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function g(t,e){return c&&t.data instanceof Blob?t.data.arrayBuffer().then(m).then(e):u&&(t.data instanceof ArrayBuffer||d(t.data))?e(m(t.data)):void p(t,!1,t=>{r||(r=new TextEncoder),e(r.encode(t))})}let y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<y.length;t++)v[y.charCodeAt(t)]=t;let b=t=>{let e=.75*t.length,n=t.length,r,i=0,s,o,a,l;"="===t[t.length-1]&&(e--,"="===t[t.length-2]&&e--);let h=new ArrayBuffer(e),c=new Uint8Array(h);for(r=0;r<n;r+=4)s=v[t.charCodeAt(r)],o=v[t.charCodeAt(r+1)],a=v[t.charCodeAt(r+2)],l=v[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(15&o)<<4|a>>2,c[i++]=(3&a)<<6|63&l;return h},x="function"==typeof ArrayBuffer,w=(t,e)=>{if("string"!=typeof t)return{type:"message",data:S(t,e)};let n=t.charAt(0);return"b"===n?{type:"message",data:k(t.substring(1),e)}:l[n]?t.length>1?{type:l[n],data:t.substring(1)}:{type:l[n]}:h},k=(t,e)=>x?S(b(t),e):{base64:!0,data:t},S=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,C="\x1e",M=(t,e)=>{let n=t.length,r=Array(n),i=0;t.forEach((t,s)=>{p(t,!1,t=>{r[s]=t,++i===n&&e(r.join(C))})})},E=(t,e)=>{let n=t.split(C),r=[];for(let t=0;t<n.length;t++){let i=w(n[t],e);if(r.push(i),"error"===i.type)break}return r};function A(){return new TransformStream({transform(t,e){g(t,n=>{let r,i=n.length;if(i<126)new DataView((r=new Uint8Array(1)).buffer).setUint8(0,i);else if(i<65536){let t=new DataView((r=new Uint8Array(3)).buffer);t.setUint8(0,126),t.setUint16(1,i)}else{let t=new DataView((r=new Uint8Array(9)).buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(i))}t.data&&"string"!=typeof t.data&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}function _(t){return t.reduce((t,e)=>t+e.length,0)}function T(t,e){if(t[0].length===e)return t.shift();let n=new Uint8Array(e),r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function P(t,e){i||(i=new TextDecoder);let n=[],r=0,s=-1,o=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(0===r){if(1>_(n))break;let t=T(n,1);o=(128&t[0])==128,r=(s=127&t[0])<126?3:126===s?1:2}else if(1===r){if(2>_(n))break;let t=T(n,2);s=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),r=3}else if(2===r){if(8>_(n))break;let t=T(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),i=e.getUint32(0);if(i>2097151){l.enqueue(h);break}s=0x100000000*i+e.getUint32(4),r=3}else{if(_(n)<s)break;let t=T(n,s);l.enqueue(w(o?t:i.decode(t),e)),r=0}if(0===s||s>t){l.enqueue(h);break}}}})}let D=4;function N(t){if(t)return O(t)}function O(t){for(var e in N.prototype)t[e]=N.prototype[e];return t}N.prototype.on=N.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},N.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},N.prototype.off=N.prototype.removeListener=N.prototype.removeAllListeners=N.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},N.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this},N.prototype.emitReserved=N.prototype.emit,N.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},N.prototype.hasListeners=function(t){return!!this.listeners(t).length};let I="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),L="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),z="arraybuffer";function R(){}function F(t,...e){return e.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}let B=L.setTimeout,j=L.clearTimeout;function V(t,e){e.useNativeTimers?(t.setTimeoutFn=B.bind(L),t.clearTimeoutFn=j.bind(L)):(t.setTimeoutFn=L.setTimeout.bind(L),t.clearTimeoutFn=L.clearTimeout.bind(L))}let $=1.33;function H(t){return"string"==typeof t?q(t):Math.ceil((t.byteLength||t.size)*$)}function q(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function W(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function K(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function U(t){let e={},n=t.split("&");for(let t=0,r=n.length;t<r;t++){let r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class J extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class G extends N{constructor(t){super(),this.writable=!1,V(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new J(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let e=w(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let t=this.opts.hostname;return -1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){let e=K(t);return e.length?"?"+e:""}}class Y extends G{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let e=t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};E(t,this.socket.binaryType).forEach(e),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,M(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=W()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}let X=!1;try{X="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}let Z=X;function Q(){}class tt extends Y{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){let n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(t,e)=>{this.onError("xhr post error",t,e)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(t,e)=>{this.onError("xhr poll error",t,e)}),this.pollXhr=t}}class te extends N{constructor(t,e,n){super(),this.createRequest=t,V(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var t;let e=F(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;let n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(let t in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this._opts.extraHeaders[t])}catch(t){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}null==(t=this._opts.cookieJar)||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null==(t=this._opts.cookieJar)||t.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(t){this.setTimeoutFn(()=>{this._onError(t)},0);return}"undefined"!=typeof document&&(this._index=te.requestsCount++,te.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Q,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete te.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function tn(){for(let t in te.requests)te.requests.hasOwnProperty(t)&&te.requests[t].abort()}te.requestsCount=0,te.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",tn):"function"==typeof addEventListener&&addEventListener("onpagehide"in L?"pagehide":"unload",tn,!1));let tr=function(){let t=ts({xdomain:!1});return t&&null!==t.responseType}();class ti extends tt{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=tr&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new te(ts,this.uri(),t)}}function ts(t){let e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Z))return new XMLHttpRequest}catch(t){}if(!e)try{return new L[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}let to="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ta extends G{get name(){return"websocket"}doOpen(){let t=this.uri(),e=this.opts.protocols,n=to?{}:F(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],r=e===t.length-1;p(n,this.supportsBinary,t=>{try{this.doWrite(n,t)}catch(t){}r&&I(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=W()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}let tl=L.WebSocket||L.MozWebSocket;class th extends ta{createSocket(t,e,n){return to?new tl(t,e,n):e?new tl(t,e):new tl(t)}doWrite(t,e){this.ws.send(e)}}class tc extends G{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let e=P(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),r=A();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();let i=()=>{n.read().then(({done:t,value:e})=>{t||(this.onPacket(e),i())}).catch(t=>{})};i();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],r=e===t.length-1;this._writer.write(n).then(()=>{r&&I(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;null==(t=this._transport)||t.close()}}let tu={websocket:th,webtransport:tc,polling:ti},td=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tf(t){if(t.length>8e3)throw"URI too long";let e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=td.exec(t||""),s={},o=14;for(;o--;)s[tp[o]]=i[o]||"";return -1!=n&&-1!=r&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=tm(s,s.path),s.queryKey=tg(s,s.query),s}function tm(t,e){let n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}function tg(t,e){let n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,r){e&&(n[e]=r)}),n}let ty="function"==typeof addEventListener&&"function"==typeof removeEventListener,tv=[];ty&&addEventListener("offline",()=>{tv.forEach(t=>t())},!1);class tb extends N{constructor(t,e){if(super(),this.binaryType=z,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(e=t,t=null),t){const n=tf(t);e.hostname=n.host,e.secure="https"===n.protocol||"wss"===n.protocol,e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=tf(e.host).host);V(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(t=>{let e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=U(this.opts.query)),ty&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},tv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=R()),this._open()}createTransport(t){let e=Object.assign({},this.opts.query);e.EIO=D,e.transport=t,this.id&&(e.sid=this.id);let n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);let t=this.opts.rememberUpgrade&&tb.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";let e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",tb.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let e=Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let e=0;e<this.writeBuffer.length;e++){let n=this.writeBuffer[e].data;if(n&&(t+=H(n)),e>0&&t>this._maxPayload)return this.writeBuffer.slice(0,e);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,I(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,e,n){return this._sendPacket("message",t,e,n),this}send(t,e,n){return this._sendPacket("message",t,e,n),this}_sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;let i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(tb.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ty&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let t=tv.indexOf(this._offlineEventListener);-1!==t&&tv.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}tb.protocol=D;class tx extends tb{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;tb.priorWebsocketSuccess=!1;let r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;tb.priorWebsocketSuccess="websocket"===e.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let t=Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}}))};function i(){n||(n=!0,h(),e.close(),e=null)}let s=t=>{let n=Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function l(t){e&&t.name!==e.name&&i()}let h=()=>{e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};e.once("open",r),e.once("error",s),e.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}class tw extends tx{constructor(t,e={}){const n="object"==typeof t?t:e;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(t=>tu[t]).filter(t=>!!t)),super(t,n)}}function tk(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=tf(t)),!r.port&&(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}tw.protocol;let tS="function"==typeof ArrayBuffer,tC=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,tM=Object.prototype.toString,tE="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===tM.call(Blob),tA="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===tM.call(File);function t_(t){return tS&&(t instanceof ArrayBuffer||tC(t))||tE&&t instanceof Blob||tA&&t instanceof File}function tT(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(tT(t[e]))return!0;return!1}if(t_(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1==arguments.length)return tT(t.toJSON(),!0);for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&tT(t[e]))return!0;return!1}function tP(t){let e=[],n=t.data,r=t;return r.data=tD(n,e),r.attachments=e.length,{packet:r,buffers:e}}function tD(t,e){if(!t)return t;if(t_(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){let n=Array(t.length);for(let r=0;r<t.length;r++)n[r]=tD(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=tD(t[r],e));return n}return t}function tN(t,e){return t.data=tO(t.data,e),delete t.attachments,t}function tO(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=tO(t[n],e);else if("object"==typeof t)for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=tO(t[n],e));return t}let tI=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tL=5;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(s||(s={}));class tz{constructor(t){this.replacer=t}encode(t){return(t.type===s.EVENT||t.type===s.ACK)&&tT(t)?this.encodeAsBinary({type:t.type===s.EVENT?s.BINARY_EVENT:s.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===s.BINARY_EVENT||t.type===s.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){let e=tP(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}function tR(t){return"[object Object]"===Object.prototype.toString.call(t)}class tF extends N{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");let n=(e=this.decodeString(t)).type===s.BINARY_EVENT;n||e.type===s.BINARY_ACK?(e.type=n?s.EVENT:s.ACK,this.reconstructor=new tB(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(t_(t)||t.base64)if(this.reconstructor)(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+t)}decodeString(t){let e=0,n={type:Number(t.charAt(0))};if(void 0===s[n.type])throw Error("unknown packet type "+n.type);if(n.type===s.BINARY_EVENT||n.type===s.BINARY_ACK){let r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);let i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){let r=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";let r=t.charAt(e+1);if(""!==r&&Number(r)==r){let r=e+1;for(;++e;){let n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){let r=this.tryParse(t.substr(e));if(tF.isPayloadValid(n.type,r))n.data=r;else throw Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case s.CONNECT:return tR(e);case s.DISCONNECT:return void 0===e;case s.CONNECT_ERROR:return"string"==typeof e||tR(e);case s.EVENT:case s.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===tI.indexOf(e[0]));case s.ACK:case s.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tB{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let t=tN(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function tj(t,e,n){return t.on(e,n),function(){t.off(e,n)}}let tV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class t$ extends N{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[tj(t,"open",this.onopen.bind(this)),tj(t,"packet",this.onpacket.bind(this)),tj(t,"error",this.onerror.bind(this)),tj(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,r,i;if(tV.hasOwnProperty(t))throw Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let o={type:s.EVENT,data:e};if(o.options={},o.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){let t=this.ids++,n=e.pop();this._registerAckCallback(t,n),o.id=t}let a=null==(r=null==(n=this.io.engine)?void 0:n.transport)?void 0:r.writable,l=this.connected&&!(null==(i=this.io.engine)?void 0:i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,e){var n;let r=null!=(n=this.flags.timeout)?n:this._opts.ackTimeout;if(void 0===r){this.acks[t]=e;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,Error("operation has timed out"))},r),s=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,t)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...e){return new Promise((n,r)=>{let i=(t,e)=>t?r(t):n(e);i.withError=!0,e.push(i),this.emit(t,...e)})}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((t,...r)=>{if(n===this._queue[0])return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;let e=this._queue[0];(!e.pending||t)&&(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:s.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(e=>String(e.id)===t)){let e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case s.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case s.EVENT:case s.BINARY_EVENT:this.onevent(t);break;case s.ACK:case s.BINARY_ACK:this.onack(t);break;case s.DISCONNECT:this.ondisconnect();break;case s.CONNECT_ERROR:this.destroy();let e=Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){let e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length)for(let e of this._anyListeners.slice())e.apply(this,t);super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){let e=this,n=!1;return function(...r){n||(n=!0,e.packet({type:s.ACK,id:t,data:r}))}}onack(t){let e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:s.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n]){e.splice(n,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n]){e.splice(n,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(let e of this._anyOutgoingListeners.slice())e.apply(this,t.data)}}function tH(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}tH.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(1&Math.floor(10*e))==0?t-n:t+n}return 0|Math.min(t,this.max)},tH.prototype.reset=function(){this.attempts=0},tH.prototype.setMin=function(t){this.ms=t},tH.prototype.setMax=function(t){this.max=t},tH.prototype.setJitter=function(t){this.jitter=t};class tq extends N{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,V(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!=(n=e.randomizationFactor)?n:.5),this.backoff=new tH({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null==(e=this.backoff)||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null==(e=this.backoff)||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null==(e=this.backoff)||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tw(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let r=tj(e,"open",function(){n.onopen(),t&&t()}),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},s=tj(e,"error",i);if(!1!==this._timeout){let t=this._timeout,n=this.setTimeoutFn(()=>{r(),i(Error("timeout")),e.close()},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(tj(t,"ping",this.onping.bind(this)),tj(t,"data",this.ondata.bind(this)),tj(t,"error",this.onerror.bind(this)),tj(t,"close",this.onclose.bind(this)),tj(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){I(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new t$(this,t,e),this.nsps[t]=n),n}_destroy(t){for(let t of Object.keys(this.nsps))if(this.nsps[t].active)return;this._close()}_packet(t){let e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),null==(n=this.engine)||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}let tW={};function tK(t,e){let n;"object"==typeof t&&(e=t,t=void 0);let r=tk(t,(e=e||{}).path||"/socket.io"),i=r.source,s=r.id,o=r.path,a=tW[s]&&o in tW[s].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||a?n=new tq(i,e):(tW[s]||(tW[s]=new tq(i,e)),n=tW[s]),r.query&&!e.query&&(e.query=r.queryKey),n.socket(r.path,e)}Object.assign(tK,{Manager:tq,Socket:t$,io:tK,connect:tK})},556:function(t,e,n){"use strict";n.d(e,{QP:()=>tS});let r=(t,e)=>{let n=Array(t.length+e.length);for(let e=0;e<t.length;e++)n[e]=t[e];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},i=(t,e)=>({classGroupId:t,validator:e}),s=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),o="-",a=[],l="arbitrary..",h=t=>{let e=d(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:t=>{if(t.startsWith("[")&&t.endsWith("]"))return u(t);let n=t.split(o),r=+(""===n[0]&&n.length>1);return c(n,r,e)},getConflictingClassGroupIds:(t,e)=>{if(e){let e=i[t],s=n[t];return e?s?r(s,e):e:s||a}return n[t]||a}}},c=(t,e,n)=>{if(0==t.length-e)return n.classGroupId;let r=t[e],i=n.nextPart.get(r);if(i){let n=c(t,e+1,i);if(n)return n}let s=n.validators;if(null===s)return;let a=0===e?t.join(o):t.slice(e).join(o),l=s.length;for(let t=0;t<l;t++){let e=s[t];if(e.validator(a))return e.classGroupId}},u=t=>-1===t.slice(1,-1).indexOf(":")?void 0:(()=>{let e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?l+r:void 0})(),d=t=>{let{theme:e,classGroups:n}=t;return p(n,e)},p=(t,e)=>{let n=s();for(let r in t)f(t[r],n,r,e);return n},f=(t,e,n,r)=>{let i=t.length;for(let s=0;s<i;s++)m(t[s],e,n,r)},m=(t,e,n,r)=>{"string"==typeof t?g(t,e,n):"function"==typeof t?y(t,e,n,r):v(t,e,n,r)},g=(t,e,n)=>{(""===t?e:b(e,t)).classGroupId=n},y=(t,e,n,r)=>{x(t)?f(t(r),e,n,r):(null===e.validators&&(e.validators=[]),e.validators.push(i(n,t)))},v=(t,e,n,r)=>{let i=Object.entries(t),s=i.length;for(let t=0;t<s;t++){let[s,o]=i[t];f(o,b(e,s),n,r)}},b=(t,e)=>{let n=t,r=e.split(o),i=r.length;for(let t=0;t<i;t++){let e=r[t],i=n.nextPart.get(e);i||(i=s(),n.nextPart.set(e,i)),n=i}return n},x=t=>"isThemeGetter"in t&&!0===t.isThemeGetter,w=t=>{if(t<1)return{get:()=>void 0,set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null),i=(i,s)=>{n[i]=s,++e>t&&(e=0,r=n,n=Object.create(null))};return{get(t){let e=n[t];return void 0!==e?e:void 0!==(e=r[t])?(i(t,e),e):void 0},set(t,e){t in n?n[t]=e:i(t,e)}}},k="!",S=":",C=[],M=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),E=t=>{let{prefix:e,experimentalParseClassName:n}=t,r=t=>{let e,n=[],r=0,i=0,s=0,o=t.length;for(let a=0;a<o;a++){let o=t[a];if(0===r&&0===i){if(o===S){n.push(t.slice(s,a)),s=a+1;continue}if("/"===o){e=a;continue}}"["===o?r++:"]"===o?r--:"("===o?i++:")"===o&&i--}let a=0===n.length?t:t.slice(s),l=a,h=!1;return a.endsWith(k)?(l=a.slice(0,-1),h=!0):a.startsWith(k)&&(l=a.slice(1),h=!0),M(n,h,l,e&&e>s?e-s:void 0)};if(e){let t=e+S,n=r;r=e=>e.startsWith(t)?n(e.slice(t.length)):M(C,!1,e,void 0,!0)}if(n){let t=r;r=e=>n({className:e,parseClassName:t})}return r},A=t=>{let e=new Map;return t.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{let n=[],r=[];for(let i=0;i<t.length;i++){let s=t[i],o="["===s[0],a=e.has(s);o||a?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(s)):r.push(s)}return r.length>0&&(r.sort(),n.push(...r)),n}},_=t=>({cache:w(t.cacheSize),parseClassName:E(t),sortModifiers:A(t),...h(t)}),T=/\s+/,P=(t,e)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(T),l="";for(let t=a.length-1;t>=0;t-=1){let e=a[t],{isExternal:h,modifiers:c,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:p}=n(e);if(h){l=e+(l.length>0?" "+l:l);continue}let f=!!p,m=r(f?d.substring(0,p):d);if(!m){if(!f||!(m=r(d))){l=e+(l.length>0?" "+l:l);continue}f=!1}let g=0===c.length?"":1===c.length?c[0]:s(c).join(":"),y=u?g+k:g,v=y+m;if(o.indexOf(v)>-1)continue;o.push(v);let b=i(m,f);for(let t=0;t<b.length;++t){let e=b[t];o.push(y+e)}l=e+(l.length>0?" "+l:l)}return l},D=(...t)=>{let e,n,r=0,i="";for(;r<t.length;)(e=t[r++])&&(n=N(e))&&(i&&(i+=" "),i+=n);return i},N=t=>{let e;if("string"==typeof t)return t;let n="";for(let r=0;r<t.length;r++)t[r]&&(e=N(t[r]))&&(n&&(n+=" "),n+=e);return n},O=[],I=t=>{let e=e=>e[t]||O;return e.isThemeGetter=!0,e},L=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,z=/^\((?:(\w[\w-]*):)?(.+)\)$/i,R=/^\d+\/\d+$/,F=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,V=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,H=t=>R.test(t),q=t=>!!t&&!Number.isNaN(Number(t)),W=t=>!!t&&Number.isInteger(Number(t)),K=t=>t.endsWith("%")&&q(t.slice(0,-1)),U=t=>F.test(t),J=()=>!0,G=t=>B.test(t)&&!j.test(t),Y=()=>!1,X=t=>V.test(t),Z=t=>$.test(t),Q=t=>!te(t)&&!ta(t),tt=t=>tf(t,tv,Y),te=t=>L.test(t),tn=t=>tf(t,tb,G),tr=t=>tf(t,tx,q),ti=t=>tf(t,tg,Y),ts=t=>tf(t,ty,Z),to=t=>tf(t,tk,X),ta=t=>z.test(t),tl=t=>tm(t,tb),th=t=>tm(t,tw),tc=t=>tm(t,tg),tu=t=>tm(t,tv),td=t=>tm(t,ty),tp=t=>tm(t,tk,!0),tf=(t,e,n)=>{let r=L.exec(t);return!!r&&(r[1]?e(r[1]):n(r[2]))},tm=(t,e,n=!1)=>{let r=z.exec(t);return!!r&&(r[1]?e(r[1]):n)},tg=t=>"position"===t||"percentage"===t,ty=t=>"image"===t||"url"===t,tv=t=>"length"===t||"size"===t||"bg-size"===t,tb=t=>"length"===t,tx=t=>"number"===t,tw=t=>"family-name"===t,tk=t=>"shadow"===t,tS=((t,...e)=>{let n,r,i,s,o=t=>{let e=r(t);if(e)return e;let s=P(t,n);return i(t,s),s};return s=a=>(r=(n=_(e.reduce((t,e)=>e(t),t()))).cache.get,i=n.cache.set,s=o,o(a)),(...t)=>s(D(...t))})(()=>{let t=I("color"),e=I("font"),n=I("text"),r=I("font-weight"),i=I("tracking"),s=I("leading"),o=I("breakpoint"),a=I("container"),l=I("spacing"),h=I("radius"),c=I("shadow"),u=I("inset-shadow"),d=I("text-shadow"),p=I("drop-shadow"),f=I("blur"),m=I("perspective"),g=I("aspect"),y=I("ease"),v=I("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...x(),ta,te],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[ta,te,l],M=()=>[H,"full","auto",...C()],E=()=>[W,"none","subgrid",ta,te],A=()=>["auto",{span:["full",W,ta,te]},W,ta,te],_=()=>[W,"auto",ta,te],T=()=>["auto","min","max","fr",ta,te],P=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...C()],O=()=>[H,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],L=()=>[t,ta,te],z=()=>[...x(),tc,ti,{position:[ta,te]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",tu,tt,{size:[ta,te]}],B=()=>[K,tl,tn],j=()=>["","none","full",h,ta,te],V=()=>["",q,tl,tn],$=()=>["solid","dashed","dotted","double"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[q,K,tc,ti],X=()=>["","none",f,ta,te],Z=()=>["none",q,ta,te],tf=()=>["none",q,ta,te],tm=()=>[q,ta,te],tg=()=>[H,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[U],breakpoint:[U],color:[J],container:[U],"drop-shadow":[U],ease:["in","out","in-out"],font:[Q],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[U],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[U],shadow:[U],spacing:["px",q],text:[U],"text-shadow":[U],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",H,te,ta,g]}],container:["container"],columns:[{columns:[q,te,ta,a]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[W,"auto",ta,te]}],basis:[{basis:[H,"full","auto",a,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[q,H,"auto","initial","none",te]}],grow:[{grow:["",q,ta,te]}],shrink:[{shrink:["",q,ta,te]}],order:[{order:[W,"first","last","none",ta,te]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...P(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...P()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":P()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[a,"screen",...O()]}],"min-w":[{"min-w":[a,"screen","none",...O()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",n,tl,tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ta,tr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",K,te]}],"font-family":[{font:[th,te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ta,te]}],"line-clamp":[{"line-clamp":[q,"none",ta,tr]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",ta,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ta,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:[q,"from-font","auto",ta,tn]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[q,"auto",ta,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ta,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ta,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},W,ta,te],radial:["",ta,te],conic:[W,ta,te]},td,ts]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$(),"hidden","none"]}],"divide-style":[{divide:[...$(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...$(),"none","hidden"]}],"outline-offset":[{"outline-offset":[q,ta,te]}],"outline-w":[{outline:["",q,tl,tn]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",c,tp,to]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",u,tp,to]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[q,tn]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",d,tp,to]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[q,ta,te]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[q]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[ta,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[q]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ta,te]}],filter:[{filter:["","none",ta,te]}],blur:[{blur:X()}],brightness:[{brightness:[q,ta,te]}],contrast:[{contrast:[q,ta,te]}],"drop-shadow":[{"drop-shadow":["","none",p,tp,to]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",q,ta,te]}],"hue-rotate":[{"hue-rotate":[q,ta,te]}],invert:[{invert:["",q,ta,te]}],saturate:[{saturate:[q,ta,te]}],sepia:[{sepia:["",q,ta,te]}],"backdrop-filter":[{"backdrop-filter":["","none",ta,te]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[q,ta,te]}],"backdrop-contrast":[{"backdrop-contrast":[q,ta,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",q,ta,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[q,ta,te]}],"backdrop-invert":[{"backdrop-invert":["",q,ta,te]}],"backdrop-opacity":[{"backdrop-opacity":[q,ta,te]}],"backdrop-saturate":[{"backdrop-saturate":[q,ta,te]}],"backdrop-sepia":[{"backdrop-sepia":["",q,ta,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ta,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[q,"initial",ta,te]}],ease:[{ease:["linear","initial",y,ta,te]}],delay:[{delay:[q,ta,te]}],animate:[{animate:["none",v,ta,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ta,te]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:tf()}],"scale-x":[{"scale-x":tf()}],"scale-y":[{"scale-y":tf()}],"scale-z":[{"scale-z":tf()}],"scale-3d":["scale-3d"],skew:[{skew:tm()}],"skew-x":[{"skew-x":tm()}],"skew-y":[{"skew-y":tm()}],transform:[{transform:[ta,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tg()}],"translate-x":[{"translate-x":tg()}],"translate-y":[{"translate-y":tg()}],"translate-z":[{"translate-z":tg()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ta,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ta,te]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[q,tl,tn,tr]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}})},585:function(t,e,n){"use strict";let r;n.d(e,{A:()=>c});let i="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s=new Uint8Array(16);function o(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(s)}let a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));function l(t,e=0){return(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase()}function h(t,e,n){let r=(t=t||{}).random??t.rng?.()??o();if(r.length<16)throw Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){if((n=n||0)<0||n+16>e.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let t=0;t<16;++t)e[n+t]=r[t];return e}return l(r)}let c=function(t,e,n){return!i||e||t?h(t,e,n):i()}},899:function(t,e,n){"use strict";function r(t,e){let n;try{n=t()}catch(t){return}return{getItem:t=>{var r;let i=t=>null===t?null:JSON.parse(t,null==e?void 0:e.reviver),s=null!=(r=n.getItem(t))?r:null;return s instanceof Promise?s.then(i):i(s)},setItem:(t,r)=>n.setItem(t,JSON.stringify(r,null==e?void 0:e.replacer)),removeItem:t=>n.removeItem(t)}}n.d(e,{KU:()=>r,Zr:()=>s});let i=t=>e=>{try{let n=t(e);if(n instanceof Promise)return n;return{then:t=>i(t)(n),catch(t){return this}}}catch(t){return{then(t){return this},catch:e=>i(e)(t)}}},s=(t,e)=>(n,s,o)=>{let a,l={storage:r(()=>localStorage),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},h=!1,c=new Set,u=new Set,d=l.storage;if(!d)return t((...t)=>{n(...t)},s,o);let p=()=>{let t=l.partialize({...s()});return d.setItem(l.name,{state:t,version:l.version})},f=o.setState;o.setState=(t,e)=>(f(t,e),p());let m=t((...t)=>(n(...t),p()),s,o);o.getInitialState=()=>m;let g=()=>{var t,e;if(!d)return;h=!1,c.forEach(t=>{var e;return t(null!=(e=s())?e:m)});let r=(null==(e=l.onRehydrateStorage)?void 0:e.call(l,null!=(t=s())?t:m))||void 0;return i(d.getItem.bind(d))(l.name).then(t=>{if(t){if("number"!=typeof t.version||t.version===l.version)return[!1,t.state];else if(l.migrate){let e=l.migrate(t.state,t.version);return e instanceof Promise?e.then(t=>[!0,t]):[!0,e]}}return[!1,void 0]}).then(t=>{var e;let[r,i]=t;if(n(a=l.merge(i,null!=(e=s())?e:m),!0),r)return p()}).then(()=>{null==r||r(a,void 0),a=s(),h=!0,u.forEach(t=>t(a))}).catch(t=>{null==r||r(void 0,t)})};return o.persist={setOptions:t=>{l={...l,...t},t.storage&&(d=t.storage)},clearStorage:()=>{null==d||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>h,onHydrate:t=>(c.add(t),()=>{c.delete(t)}),onFinishHydration:t=>(u.add(t),()=>{u.delete(t)})},l.skipHydration||g(),a||m}},147:function(t,e,n){"use strict";n.d(e,{v:()=>h});var r=n(363);let i=t=>{let e,n=new Set,r=(t,r)=>{let i="function"==typeof t?t(e):t;if(!Object.is(i,e)){let t=e;e=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},e,i),n.forEach(n=>n(e,t))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>o,subscribe:t=>(n.add(t),()=>n.delete(t))},o=e=t(r,i,s);return s},s=t=>t?i(t):i,o=t=>t;function a(t,e=o){let n=r.useSyncExternalStore(t.subscribe,r.useCallback(()=>e(t.getState()),[t,e]),r.useCallback(()=>e(t.getInitialState()),[t,e]));return r.useDebugValue(n),n}let l=t=>{let e=s(t),n=t=>a(e,t);return Object.assign(n,e),n},h=t=>t?l(t):l}}]);